(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{36:function(e,t,a){e.exports=a(77)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){e.exports=a.p+"static/media/dropbox.bf6dfc1d.png"},74:function(e,t,a){e.exports=a.p+"static/media/soundcloud.a9415b93.png"},75:function(e,t){e.exports="data:image/png;base64,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"},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),o=(a(41),a(2)),i=(a(42),a(43),a(11)),s=a(9),u=a(3),d=a.n(u),m=a(6),b=a(19),f=a(4),p=(a(45),a(16)),E=(a(51),a(1)),O={apiKey:"AIzaSyB6BP4nchauDnzgyP02JY8w4HlKq-Hn0Co",authDomain:"streaming-manager-dc49e.firebaseapp.com",databaseURL:"https://streaming-manager-dc49e.firebaseio.com",projectId:"streaming-manager-dc49e",storageBucket:"streaming-manager-dc49e.appspot.com",messagingSenderId:"1020740834639",appId:"1:1020740834639:web:d1f9d9f36f771d1c97213a",measurementId:"G-G26G4NTPC7"},v=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.initializeApp(O);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,p.auth().createUserWithEmailAndPassword(a,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,p.auth().signInWithEmailAndPassword(a,n);case 4:return e.next=6,p.auth().currentUser.getIdToken(!1);case 6:r=e.sent,localStorage.setItem("ID_TOKEN",r),Object(E.setGlobalState)("AUTH",!0),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),Object(E.setGlobalState)("AUTH",!1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.auth().signOut();case 3:localStorage.removeItem("ID_TOKEN"),Object(E.setGlobalState)("AUTH",!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=e.match.params.type,a=void 0===t?"login":t,c=e.history.push,l=Object(n.useState)({email:"",password:""}),s=Object(o.a)(l,2),u=s[0],p=s[1],E=Object(n.useState)(!1),O=Object(o.a)(E,2),v=O[0],h=O[1],S=Object(n.useState)(""),y=Object(o.a)(S,2),N=y[0],G=y[1],w=function(e){var t=e.target,a=t.name,n=t.value;return p(Object(f.a)(Object(f.a)({},u),{},Object(b.a)({},a,n)))},C=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),"login"!==a){e.next=18;break}return e.prev=3,e.next=6,j(u);case 6:c("/dashboard"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),G("Auth Failed"),c("/auth/login");case 13:return e.prev=13,h(!1),e.finish(13);case 16:e.next=30;break;case 18:return e.prev=18,e.next=21,g(u);case 21:c("/auth/login"),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(18),G("Failed to register");case 27:return e.prev=27,h(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,9,13,16],[18,24,27,30]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"auth"},r.a.createElement("form",{className:"rounded grid gap-m pd-2 shadow-m",onSubmit:C},r.a.createElement("h2",null,a.capitalize()),r.a.createElement("label",{className:"form-field"},"Email",r.a.createElement("input",{type:"email",value:u.email,onChange:w,name:"email",placeholder:'"something@web.com"',alt:"enter your email"})),r.a.createElement("label",{className:"form-field"},"Password",r.a.createElement("input",{type:"password",placeholder:"Aa-1****",alt:"enter your password",value:u.password,onChange:w,name:"password"})),N&&r.a.createElement("p",{className:"error"},N),r.a.createElement("button",{className:"rounded bg-grey-light pd-1010",disabled:v,type:"submit"},v?"Submitting..":"Submit"),r.a.createElement(i.b,{to:"login"===a?"/auth/register":"/auth/login"},"login"===a?"Register":"Login")))},y=(a(57),a(58),a(59),a(5)),N=a(8),G={folders:"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/folder",videos:"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/video",playlists:"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/playlist",sequences:"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/sequence",viewer:"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/viewer"},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=G[e];return fetch("".concat(n).concat(t),Object(f.a)(Object(f.a)({},a),{},{headers:Object(f.a)(Object(f.a)({},a.headers),{},{"Content-Type":"application/json",authorization:localStorage.getItem("ID_TOKEN")})}))},C="FOLDERS",k={PLAYLIST:"PLAYLIST",VIDEO:"VIDEO",SEQUENCE:"SEQUENCE"};Object(E.setGlobalState)(C,[]),Object(E.setGlobalState)("OPEN_FOLDERS",[]),Object(E.setGlobalState)("SELECTED_DIRECTORY",k.PLAYLIST);var T=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("folders");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,Object(E.setGlobalState)(C,a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("folders","",{method:"POST",body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.text();case 6:n=e.sent,r=Object(E.getGlobalState)(C),Object(E.setGlobalState)(C,[].concat(Object(y.a)(r),[Object(f.a)(Object(f.a)({},t),{},{id:n})])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(N.a)(t,["id"]),e.prev=1,e.next=4,w("folders","/"+a,{method:"PATCH",body:JSON.stringify(n)});case 4:r=Object(E.getGlobalState)(C),c=Object(f.a)(Object(f.a)({},n),{},{id:a,folder:n.folder}),"root"===n.folder&&delete c.folder,console.log(c),Object(E.setGlobalState)(C,r.map((function(e){var t=e.folder,n=Object(N.a)(e,["folder"]);return n.id===a?Object(f.a)(Object(f.a)({},n),c):Object(f.a)(Object(f.a)({},n),{},{folder:t})}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("folders","/"+t,{method:"DELETE"});case 3:a=Object(E.getGlobalState)(C),Object(E.setGlobalState)(C,a.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=(a(60),function(e){var t=Object(E.getGlobalState)("HINTS");Object(E.setGlobalState)("HINTS",[].concat(Object(y.a)(t),[e])),setTimeout((function(){var t=Object(E.getGlobalState)("HINTS");Object(E.setGlobalState)("HINTS",t.filter((function(t){return t!==e})))}),3e3)}),_=function(e){var t=e.target.closest("li").id,a=Object(E.getGlobalState)("HINTS");Object(E.setGlobalState)("HINTS",a.filter((function(e){return e!==t})))},D=function(){var e=Object(E.useGlobalState)("HINTS",[]),t=Object(o.a)(e,1)[0];return 0===t.length?null:r.a.createElement("div",{className:"hint"},r.a.createElement("ul",{className:"grid"},t.map((function(e){return r.a.createElement("li",{className:"rounded shadow-m bg-grey-light aligned-grid pd-1311",id:e},e,r.a.createElement("i",{onClick:_,className:"material-icons"},"close"))}))))},P="SEQUENCES";Object(E.setGlobalState)(P,[]),Object(E.setGlobalState)("FILTERED_SEQUENCES",[]),Object(E.setGlobalState)("SELECTED_SEQUENCES",[]),Object(E.setGlobalState)("SEQUENCER_TARGET",null),Object(E.setGlobalState)("EDITING_SEQUENCE",null);var R=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.folderId,n=t.ids,r=t.type,e.prev=1,e.next=4,w("sequences","/moveTo/".concat(a||"root"),{method:"POST",body:JSON.stringify({ids:n,type:r})});case 4:c=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,c.map((function(e){var t=e.folder,r=Object(N.a)(e,["folder"]);if(n.includes(r.id)){var c="root"===a?{}:{folder:a};return Object(f.a)(Object(f.a)({},r),c)}return Object(f.a)(Object(f.a)({},r),{},{folder:t})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("sequences");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,Object(E.setGlobalState)(P,a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,[].concat(Object(y.a)(a),[t])),e.next=5,w("sequences","",{method:"POST",body:JSON.stringify(Object(f.a)(Object(f.a)({},t),{},{start:Number(t.start),stop:Number(t.stop)}))});case 5:return n=e.sent,e.next=8,n.text();case 8:r=e.sent,a=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,a.map((function(e){return e.id||JSON.stringify(e)!==JSON.stringify(t)?e:Object(f.a)(Object(f.a)({},e),{},{id:r})}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(N.a)(t,["id"]),e.prev=1,e.next=4,w("sequences","/"+a,{method:"PATCH",body:JSON.stringify(n)});case 4:r=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,r.map((function(e){return e.id===a?Object(f.a)(Object(f.a)({},n),{},{id:a}):e}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,a.map((function(e){var t=e.id,a=Object(N.a)(e,["id"]);return t===t?a:Object(f.a)({id:t},a)}))),n=a.find((function(e){return e.id===t})),n.id,r=Object(N.a)(n,["id"]),e.next=6,w("sequences","/"+t,{method:"DELETE"});case 6:403!=e.sent.status?(c=Object(E.getGlobalState)(P),Object(E.setGlobalState)(P,c.filter((function(e){return e.id&&JSON.stringify(e)!==JSON.stringify(r)})))):alert("Sequences not deletable. At least one sequence is existing in at least one of your Playlist"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),F="VIDEOS";Object(E.setGlobalState)(F,[]);var z=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.folderId,n=t.ids,r=t.type,e.prev=1,e.next=4,w("videos","/moveTo/".concat(a||"root"),{method:"POST",body:JSON.stringify({ids:n,type:r})});case 4:c=Object(E.getGlobalState)(F),Object(E.setGlobalState)(F,c.map((function(e){var t=e.folder,r=Object(N.a)(e,["folder"]);if(n.includes(r.id)){var c="root"===a?{}:{folder:a};return Object(f.a)(Object(f.a)({},r),c)}return Object(f.a)(Object(f.a)({},r),{},{folder:t})}))),A("Successfully moved Videos."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("videos","/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,Object(E.setGlobalState)(F,[n.video]),Object(E.setGlobalState)(P,n.sequences),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("videos");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,Object(E.setGlobalState)(F,a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("videos","",{method:"POST",body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.text();case 6:n=e.sent,r=Object(E.getGlobalState)(F),Object(E.setGlobalState)(F,[].concat(Object(y.a)(r),[Object(f.a)({id:n},t)])),A('Created new Video: "'.concat(t.label,'".')),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(N.a)(t,["id"]),e.prev=1,e.next=4,w("videos","/"+a,{method:"PATCH",body:JSON.stringify(n)});case 4:r=Object(E.getGlobalState)(F),Object(E.setGlobalState)(F,r.map((function(e){return e.id===a?Object(f.a)({id:a},n):e}))),A('Videos "'.concat(n.label,'" successfully updated.')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("videos","/"+t,{method:"DELETE"});case 3:a=Object(E.getGlobalState)(F),Object(E.setGlobalState)(F,a.filter((function(e){return e.id!==t}))),A("Video deleted successfully."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),W=a(12),B=a.n(W),X="PLAYLISTS";Object(E.setGlobalState)(X,[]),Object(E.setGlobalState)("PLAYLIST_OPEN",!0),Object(E.setGlobalState)("ACTIVE_PLAYLIST",null);var Z=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.folderId,n=t.ids,r=t.type,e.prev=1,e.next=4,w("folders","/moveTo/".concat(a||"root"),{method:"POST",body:JSON.stringify({ids:n,type:r})});case 4:c=Object(E.getGlobalState)(X),Object(E.setGlobalState)(X,c.map((function(e){var t=e.folder,r=Object(N.a)(e,["folder"]);if(n.includes(r.id)){var c="root"===a?{}:{folder:a};return Object(f.a)(Object(f.a)({},r),c)}return Object(f.a)(Object(f.a)({},r),{},{folder:t})}))),A("Successfully moved playlists."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("playlists");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,Object(E.setGlobalState)(X,a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("playlists","",{method:"POST",body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.text();case 6:n=e.sent,r=Object(E.getGlobalState)(X),Object(E.setGlobalState)(X,[].concat(Object(y.a)(r),[Object(f.a)({id:n},t)])),Object(E.setGlobalState)("ACTIVE_PLAYLIST",n),A('Created new playlist "'.concat(t.label,'".')),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(N.a)(t,["id"]),e.prev=1,e.next=4,w("playlists","/"+a,{method:"PATCH",body:JSON.stringify(n)});case 4:r=Object(E.getGlobalState)(X),Object(E.setGlobalState)(X,r.map((function(e){return e.id===a?Object(f.a)({id:a},n):e}))),A('Playlist "'.concat(n.label,'" updated successfully.')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("playlists","/"+t,{method:"DELETE"});case 3:a=Object(E.getGlobalState)(X),Object(E.setGlobalState)(X,a.filter((function(e){return e.id!==t}))),A("Playlist deleted successfully."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=e.target.closest(".folder").id,a=e.target.closest(".folder").classList[0];e.dataTransfer.setData("text/plain",JSON.stringify({ids:[t],type:"FOLDER",directory:a}))},re=function e(t){var a=t.folders,c=t.id,l=t.folder,i=t.label,s=t.directory,u=t.handleOpenFolder,d=t.handleSelectFolder,m=t.handleDrop,b=Object(E.useGlobalState)("OPEN_FOLDERS"),f=Object(o.a)(b,1)[0],p=Object(E.useGlobalState)("SELECTED_FOLDER_".concat(k[s])),O=Object(o.a)(p,1)[0],v=Object(E.useGlobalState)("SELECTED_DIRECTORY"),g=Object(o.a)(v,1)[0],j=a.filter((function(e){return e.folder===c})),h=f.includes(c),S=O===c&&s===g,y=Object(n.useMemo)((function(){return function(e,t){return e===k.VIDEO?Object(E.getGlobalState)(F).filter((function(e){return e.folder===t})).length:e===k.PLAYLIST?Object(E.getGlobalState)(X).filter((function(e){return e.folder===t})).length:Object(E.getGlobalState)(P).filter((function(e){return e.folder===t})).length}(s,c)}),[s,c]);return r.a.createElement("div",{onDrop:m,onDragOver:function(e){return e.preventDefault()},className:"".concat(s," folder ").concat(h?"open":""," ").concat(S?"selected":""),id:c},r.a.createElement("div",{draggable:!0,onDragStart:ne,onClick:function(e){e.stopPropagation(),d(c,s),Object(E.setGlobalState)("SELECTED_DIRECTORY",k[s])},className:"folder_header pd-051 aligned-grid grid-tc-mm1m gap-m bg-white"},0!==j.length?r.a.createElement("i",{onClick:function(){return u(c)},className:"material-icons"},"keyboard_arrow_right"):r.a.createElement("i",{className:"material-icons no_child_folder centered-grid"},"keyboard_arrow_right"),r.a.createElement("label",null,i),r.a.createElement("small",null,"(",y,")"),r.a.createElement("i",{onClick:function(){Object(E.setGlobalState)(de,{component:"folder",props:{id:c,label:i,folder:l,directory:s}})},className:"material-icons"},"more_vert")),r.a.createElement("div",{className:"folder_folders"},h&&j.map((function(t,n){return r.a.createElement(e,Object.assign({},t,{handleOpenFolder:u,handleSelectFolder:d,handleDrop:m,key:n,folders:a,directory:s}))}))))},ce=(a(65),function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=a.find((function(e){return e.id===t}));if(!r)return n;if(r&&!r.folder)return[{id:t,label:r.label}].concat(Object(y.a)(n));var c=a.find((function(e){return e.id===r.folder}))||{id:null,label:"Root"};return e(c.id,a,[{id:r.folder,label:r.label}].concat(Object(y.a)(n)))}),le=function(){var e=Object(E.useGlobalState)("SELECTED_DIRECTORY"),t=Object(o.a)(e,1)[0],a=Object(E.useGlobalState)(C),n=Object(o.a)(a,1)[0],c=Object(E.useGlobalState)("SELECTED_FOLDER_".concat(k[t])),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object(E.useGlobalState)("PLAYLIST_OPEN"),d=Object(o.a)(u,2),m=d[0],b=d[1],f=ce(i,n);return r.a.createElement("div",{className:"path aligned-grid grid-tc-1m gap-m bg-white"},r.a.createElement("div",{className:"aligned-grid gap-m pd-051"},r.a.createElement("div",{className:"grid gap-s",onClick:function(){return s(null)}},r.a.createElement("i",{className:"material-icons"},t===k.PLAYLIST?"playlist_play":t===k.VIDEO?"subscriptions":"open_in_full"),r.a.createElement("h4",null,"".concat(t.toLowerCase().capitalize(),"s"))),f.map((function(e,t){return r.a.createElement("div",{className:"aligned-grid gap-m",key:t,onClick:function(){return s(e.id)}},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right"),e.label)}))),r.a.createElement("button",{className:"pd-01",onClick:function(){return b(!m)}},r.a.createElement("i",{className:"material-icons"},m?"keyboard_arrow_right":"keyboard_arrow_left")))},oe=function(e,t){Object(E.setGlobalState)("SELECTED_FOLDER",e),Object(E.setGlobalState)("SELECTED_FOLDER_".concat(k[t]),e)},ie=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c,l,o,i,s,u,m,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),a=Object(E.getGlobalState)(C),n=t.target.closest(".folder").id,r=a.find((function(e){return e.id===n})),c=JSON.parse(t.dataTransfer.getData("text/plain")),l=c.ids,o=c.type,i=c.directory,"FOLDER"===o?(s=l[0],u=a.find((function(e){return e.id===s})),m=ce(n,a,[]),b=m.every((function(e){return e.id!==s})),s===n?alert("Cant push into own folder"):b?i===u.directory&&L({id:s,folder:n||"root"}):alert("Cant push into own path")):n&&o!==i&&o!==r.directory||(o===k.PLAYLIST?Z({folderId:n,ids:l,type:o}):o===k.VIDEO?z({folderId:n,ids:l,type:o}):R({folderId:n,ids:l,type:o}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){var t=Object(E.getGlobalState)("OPEN_FOLDERS");t.includes(e)?Object(E.setGlobalState)("OPEN_FOLDERS",t.filter((function(t){return t!==e}))):Object(E.setGlobalState)("OPEN_FOLDERS",[].concat(Object(y.a)(t),[e]))},ue=function(e){var t=e.folders,a=e.directory,c=Object(E.useGlobalState)("SELECTED_DIRECTORY"),l=Object(o.a)(c,2),i=l[0],s=l[1],u=t.filter((function(e){return!e.folder&&e.directory===a})),d=Object(n.useMemo)((function(){return function(e){return e===k.VIDEO?Object(E.getGlobalState)(F).length:e===k.PLAYLIST?Object(E.getGlobalState)(X).length:Object(E.getGlobalState)(P).length}(a)}),[a]);return r.a.createElement("div",{onDrop:ie,onDragOver:function(e){return e.preventDefault()},onClick:function(){se(null),oe(null,a),s(k[a])},id:"",className:"menu_item folder ".concat(i===k[a.toUpperCase()]?"selected":"")},r.a.createElement("div",{className:"menu_item_header pd-01501 aligned-grid grid-tc-mm1 gap-m"},r.a.createElement("i",{className:"material-icons"},a===k.PLAYLIST?"playlist_play":a===k.VIDEO?"subscriptions":"open_in_full"),r.a.createElement("label",null,k[a].toLowerCase().capitalize()+"s"),r.a.createElement("small",null,"(",d,")")),r.a.createElement("div",{className:"folder_folders"},u.map((function(e,n){return r.a.createElement(re,Object.assign({},e,{handleOpenFolder:se,handleSelectFolder:oe,handleDrop:ie,key:n,folders:t,directory:a}))}))))},de=(a(66),"MODAL"),me={component:"",props:{}},be={FOLDER:function(e){e.onSubmit;var t=e.closeModal,a=e.id,c=e.directory,l=Object(N.a)(e,["onSubmit","closeModal","id","directory"]),i=Object(E.useGlobalState)(C),s=Object(o.a)(i,1)[0],u=Object(n.useState)(a?l.folder:Object(E.getGlobalState)("SELECTED_FOLDER_".concat(k[c]))),b=Object(o.a)(u,1)[0],p=Object(n.useState)(l.label||""),O=Object(o.a)(p,2),v=O[0],g=O[1],j=Object(n.useMemo)((function(){return!Object(E.getGlobalState)(k[c]+"S").reduce((function(e,t){return Array.from(new Set([].concat(Object(y.a)(e),[t.folder])))}),[]).includes(a)}),[a,c]),h=function(){var e=Object(m.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=b?{folder:b}:{},!a){e.next=8;break}return e.next=5,L(Object(f.a)({id:a,label:v},r));case 5:t(),e.next=11;break;case 8:return e.next=10,I(Object(f.a)({label:v,directory:c},r));case 10:t();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=8;break}if(!window.confirm("Deleting Folder")){e.next=6;break}return e.next=5,x(a);case 5:t();case 6:e.next=9;break;case 8:alert("Folder is not empty. Please move or delete all playlists in this folder before you delete it.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=(s.find((function(e){return e.id===b}))||{label:c.toLowerCase().capitalize()+"s"}).label;return r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-header"},r.a.createElement("h3",null,"".concat(a?"Edit Folder in":"Add Folder to"," ").concat(G),r.a.createElement("button",{onClick:S,disabled:!j,type:"button"},r.a.createElement("i",{className:"material-icons"},"delete")))),r.a.createElement("div",{className:"form-body"},r.a.createElement("label",null,"Label",r.a.createElement("input",{name:"folderName",alt:"enter folder name",type:"text",value:v,onChange:function(e){var t=e.target.value;return g(t)}})),r.a.createElement("button",{type:"submit"},"Save")))},VIDEO:function(e){e.onSubmit;var t=e.closeModal,a=e.id,c=Object(N.a)(e,["onSubmit","closeModal","id"]),l=Object(n.useState)(c.label||""),i=Object(o.a)(l,2),s=i[0],u=i[1],b=Object(n.useState)(c.url||""),p=Object(o.a)(b,2),O=p[0],v=p[1],g=Object(n.useState)(c.keywords||[]),j=Object(o.a)(g,2),h=j[0],S=j[1],G=Object(n.useState)(""),w=Object(o.a)(G,2),T=w[0],I=w[1],L=Object(n.useState)(""),x=Object(o.a)(L,2),A=x[0],_=x[1],D=Object(E.getGlobalState)("SELECTED_FOLDER_VIDEO")||"root",R=Object(E.getGlobalState)(C).find((function(e){return e.id===D}));Object(n.useEffect)((function(){var e=Object(E.getGlobalState)(C).find((function(e){return e.id===c.folder}));_(e?e.label:"Root Directory")}),[c]);var V=Object(n.useMemo)((function(){var e=Object(E.getGlobalState)(X).reduce((function(e,t){var a=t.items.filter((function(e){return e.split(":")[0]===k.VIDEO})).map((function(e){return e.split(":")[1]}));return Array.from(new Set([].concat(Object(y.a)(e),Object(y.a)(a))))}),[]),t=Object(E.getGlobalState)(P).reduce((function(e,t){return Array.from(new Set([].concat(Object(y.a)(e),[t.videoId])))}),[]);return!Array.from(new Set([].concat(Object(y.a)(e),Object(y.a)(t)))).includes(a)}),[a]),U=function(){var e=Object(m.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!a){e.next=7;break}return e.next=4,K({id:a,url:O,label:s,keywords:h});case 4:t(),e.next=12;break;case 7:return r="root"===D?{}:{folder:D},e.next=10,J(Object(f.a)({url:O,label:s,keywords:h},r));case 10:t(),Object(E.setGlobalState)(pe,!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V||!window.confirm("Are you sure you want to delete this video?")){e.next=6;break}return e.next=3,H(a);case 3:t(),e.next=7;break;case 6:alert("Video is used in playlists and/or sequences");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:U},r.a.createElement("div",{className:"form-header"},r.a.createElement("h3",null,"".concat(a?"Edit Video":"Post Video"," to ").concat(R?R.label:"Root"),r.a.createElement("button",{type:"button",onClick:M,disabled:!V},r.a.createElement("i",{className:"material-icons"},"delete"))),r.a.createElement("div",{className:"form-folder"},r.a.createElement("i",{className:"material-icons"},"folder"),A)),r.a.createElement("div",{className:"form-body"},r.a.createElement("label",null,"Label",r.a.createElement("input",{placeholder:"Add Label...",name:"videoName",alt:"enter video name",type:"text",value:s,onChange:function(e){var t=e.target.value;return u(t)}})),r.a.createElement("label",null,"Url",r.a.createElement("input",{disabled:!!a,name:"url",alt:"enter url name",placeholder:"Insert Video Link",type:"text",value:O,onChange:function(e){var t=e.target.value;(B.a.canPlay(t)||""===t)&&v(t)}})),r.a.createElement("label",{className:"keywords"},"Keywords",r.a.createElement("input",{type:"text",value:T,placeholder:"Add keyword..",alt:"add keyword",onChange:function(e){var t=e.target.value;return I(t)}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),S([].concat(Object(y.a)(h),[T])),I("")}},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("ul",{className:"keywords-list"},h.map((function(e,t){return r.a.createElement("li",{key:t},e,r.a.createElement("i",{onClick:function(){return t=e,S(h.filter((function(e){return e!==t})));var t},className:"material-icons"},"close"))}))),r.a.createElement("button",{type:"submit"},"Save")))},PLAYLIST:function(e){e.onSubmit;var t=e.closeModal,a=e.id,c=Object(N.a)(e,["onSubmit","closeModal","id"]),l=Object(n.useState)(c.label||""),i=Object(o.a)(l,2),s=i[0],u=i[1],b=Object(n.useState)(c.items||[]),f=Object(o.a)(b,2),p=f[0],O=f[1],v=Object(n.useState)(c.keywords||[]),g=Object(o.a)(v,2),j=g[0],h=g[1],S=Object(n.useState)(""),G=Object(o.a)(S,2),w=G[0],T=G[1],I=Object(n.useState)(""),L=Object(o.a)(I,2),x=L[0],A=L[1],_=Object(E.useGlobalState)(F),D=Object(o.a)(_,1)[0],R=Object(E.useGlobalState)(P),V=Object(o.a)(R,1)[0];Object(n.useEffect)((function(){var e=Object(E.getGlobalState)(C).find((function(e){return e.id===c.folder}));A(e?e.label:"Root Directory")}),[c]);var U=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deleting Playlist")){e.next=5;break}return e.next=4,ae(a);case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!a){e.next=7;break}return e.next=4,te({id:a,items:p,label:s,keywords:j});case 4:t(),e.next=10;break;case 7:return e.next=9,ee({items:p,label:s,keywords:j});case 9:t();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:M},r.a.createElement("div",{className:"form-header"},r.a.createElement("h3",null,"".concat(a?"Edit Playlist":"Post Playlist")," ",r.a.createElement("i",{onClick:U,className:"material-icons"},"delete")),r.a.createElement("div",{className:"form-folder"},r.a.createElement("i",{className:"material-icons"},"folder"),x)),r.a.createElement("div",{className:"form-body"},r.a.createElement("label",null,"Label",r.a.createElement("input",{name:"playlistName",placeholder:"'My Playlist'",alt:"enter playlist name",type:"text",value:s,onChange:function(e){var t=e.target.value;return u(t)}})),r.a.createElement("ul",{className:"links"},0===p.length?r.a.createElement("li",null,"No Videos selected"):p.map((function(e,t){var a=e.split(":"),n=Object(o.a)(a,2),c=n[0],l=n[1],i=(c===k.VIDEO?D.find((function(e){return e.id===l})):V.find((function(e){return e.id===l}))).label;return r.a.createElement("li",{id:t},i,r.a.createElement("i",{onClick:function(){return function(e){return O(p.filter((function(t){return t.split(":")[0]!==e})))}(e)},className:"material-icons"},"close"))}))),r.a.createElement("label",{className:"keywords"},"Keywords",r.a.createElement("input",{type:"text",value:w,placeholder:"Add keyword..",alt:"add keyword",onChange:function(e){var t=e.target.value;return T(t)}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),h([].concat(Object(y.a)(j),[w])),T("")}},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("ul",{className:"keywords-list"},j.map((function(e,t){return r.a.createElement("li",{key:t},e,r.a.createElement("i",{onClick:function(){return t=e,h(j.filter((function(e){return e!==t})));var t},className:"material-icons"},"close"))}))),r.a.createElement("button",{type:"submit"},"Save")))},NEW:function(e){var t=e.closeModal;return r.a.createElement("form",{className:"form-new"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h3",null,"Add New")),r.a.createElement("div",{className:"form-body"},r.a.createElement("div",{onClick:function(){t(),Object(E.setGlobalState)(de,{component:"folder"})}},r.a.createElement("i",{className:"material-icons"},"folder"),r.a.createElement("label",null,"Folder")),r.a.createElement("div",{onClick:function(){t(),Object(E.setGlobalState)(de,{component:k.VIDEO})}},r.a.createElement("i",{className:"material-icons"},"ondemand_video"),r.a.createElement("label",null,"Video"))))},SELECTFOLDER:function(e){var t=e.onSelect,a=Object(E.useGlobalState)(C),c=Object(o.a)(a,1)[0],l=Object(E.useGlobalState)("SELECTED_FOLDER_SEQUENCE"),i=Object(o.a)(l,1)[0],s=Object(n.useMemo)((function(){return c.find((function(e){return e.id===i}))}),[c,i]);return Object(n.useEffect)((function(){t(i)}),[i,t]),r.a.createElement("div",{className:"select-folder"},r.a.createElement("h3",null,"".concat(s?s.label:"Root Folder"," Selected")),r.a.createElement(ue,{directory:k.SEQUENCE,folders:c}))},SHARE:function(e){var t=e.type,a=e.id,c=e.closeModal,l=Object(n.useMemo)((function(){return t===k.VIDEO?Object(E.getGlobalState)(F).find((function(e){return e.id===a})):t===k.SEQUENCE?Object(E.getGlobalState)(P).find((function(e){return e.id===a})):t===k.PLAYLIST?Object(E.getGlobalState)(X).find((function(e){return e.id})):void 0}),[t,a]),o="http://localhost:3000",s="/viewer/".concat(t.toLowerCase(),"/").concat(a);return r.a.createElement("form",{className:"share"},r.a.createElement("h2",null,"Share ".concat(t.toLowerCase().capitalize(),": ").concat(l.label)),r.a.createElement("div",null,r.a.createElement("small",null,"Share this Link with someone :)"),r.a.createElement("p",null,o+s),r.a.createElement("i",{onClick:function(){return navigator.clipboard.writeText(o+s)},className:"material-icons"},"content_copy")),r.a.createElement(i.b,{to:s,onClick:c},"Open Link",r.a.createElement("i",{className:"material-icons"},"open_in_new")))},REPLAY:function(e){var t=e.closeModal,a=e.onReplay;return r.a.createElement("form",{className:"viewer_modal"},r.a.createElement("button",{type:"button",onClick:function(){a(),t()}},r.a.createElement("i",{className:"material-icons"},"replay"),"Replay"))},PROFILE:function(e){var t=e.closeModal,a=Object(s.f)().push,n=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:a("/auth/login"),t();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"centered-grid pd-2 bg-white"},r.a.createElement("button",{onClick:n},"Logout"))}},fe=function(){var e=Object(E.useGlobalState)(de,me),t=Object(o.a)(e,2),a=t[0],n=t[1],c=a.component.toUpperCase(),l=function(){a.onClose&&a.onClose(),Object(E.setGlobalState)(de,me)};if(!Object.keys(be).includes(c))return document.body.style.overflow="auto",null;return r.a.createElement("div",{onClick:function(e){e.target.classList.contains("modal")&&n(me)},className:"modal centered-grid full-screen"},function(e){var t=be[e];return r.a.createElement(t,Object.assign({onClick:function(e){return e.stopPropagation()}},a.props,{closeModal:l}))}(c))},pe="VIDEO_DETECTED",Ee=function(e){var t=e.push,a=Object(E.useGlobalState)("MENU_OPEN",!0),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(E.useGlobalState)(pe),u=Object(o.a)(s,2),b=u[0],f=u[1];Object(n.useEffect)((function(){return window.addEventListener("focus",p),function(){window.removeEventListener("focus",p)}}));var p=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=Object(E.getGlobalState)(F).every((function(t){return t.url!==e}));B.a.canPlay(e)&&t&&f(e)},v=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("header",{className:"centered-grid grid-tc-m11m bg-grey shadow-s z1"},r.a.createElement("div",{onClick:function(){return i(!l)},className:"header_menu ".concat(l?"open":"")},r.a.createElement("i",{className:"material-icons"},l?"menu_open":"menu")),r.a.createElement("div",{className:"header_add grid grid-tc-m1mm","data-active":!!b},r.a.createElement("i",{className:"material-icons rounded"},"ondemand_video"),r.a.createElement("input",{type:"text",placeholder:"Paste video url here:",value:b,onChange:function(e){var t=e.target.value;O(t)}}),r.a.createElement("i",{onClick:function(){return f("")},className:"material-icons"},"clear"),b?r.a.createElement("button",{disabled:!b,onClick:function(){Object(E.setGlobalState)(de,{component:k.VIDEO,props:{url:b,onSubmit:function(e){return J(e)}}})}},r.a.createElement("i",{className:"material-icons"},"add")):r.a.createElement("button",{onClick:v},r.a.createElement("i",{className:"material-icons"},"content_paste"))),r.a.createElement("div",{className:"header_search"}),r.a.createElement("div",{className:"header_profile stretched-grid"},r.a.createElement("div",{onClick:function(){return Object(E.setGlobalState)(de,{component:"profile",onClose:function(){t("/auth/login")}})}},r.a.createElement("i",{className:"material-icons"},"person"))))},Oe=(a(67),function(){var e=Object(E.useGlobalState)(C),t=Object(o.a)(e,1)[0],a=Object(E.useGlobalState)("MENU_OPEN",!0),n=Object(o.a)(a,1)[0];return r.a.createElement("div",{className:"menu ".concat(n?"open":""," overflow-h bg-grey-light gap-s grid")},r.a.createElement("h3",{className:"aligned-grid pd-005"},"Directory"),r.a.createElement(ue,{directory:k.PLAYLIST,folders:t}),r.a.createElement(ue,{directory:k.VIDEO,folders:t}),r.a.createElement(ue,{directory:k.SEQUENCE,folders:t}))}),ve=(a(68),function(e){var t=e.id,a=e.type,c=e.label,l=e.keywords,o=e.items,s=e.selected,u=e.handleDrop,d=e.onDragOver,m=e.onDragStart,b=e.handleSelect,f=e.handleEdit,p=e.onShare,O=Object(N.a)(e,["id","type","label","keywords","items","selected","handleDrop","onDragOver","onDragStart","handleSelect","handleEdit","onShare"]),v=function(e){},g=Object(n.useMemo)((function(){return a===k.VIDEO?(e=t,Object(E.getGlobalState)(P).filter((function(t){return t.videoId===e})).length):0;var e}),[a,t]);return r.a.createElement("li",{id:t,onDrop:u,onDragStart:m,onDragOver:d,draggable:!0,onClick:b,"data-selected":s?"selected":"",className:"".concat(k[a]," directory_item grid pd-051 gap-l")},r.a.createElement("div",{className:"directory_item-header aligned-grid grid-tc-m1 cgap-m"},r.a.createElement("h4",null,c),r.a.createElement("ul",{className:"directory_item-keywords aligned-grid cgap-s"},a!==k.SEQUENCE&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("small",null,"#")),0===l.length?r.a.createElement("li",null,r.a.createElement("small",null,"No keywords")):l.map((function(e,t){return r.a.createElement("li",{onClick:v,key:t},e)}))))),r.a.createElement("div",{className:"directory_item-videos aligned-grid gap-m",onClick:function(e){}},a===k.PLAYLIST?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"ondemand_video"),r.a.createElement("span",null,"".concat(o.length," ").concat(1===o.length?"Video":"Videos"))):a===k.VIDEO&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"open_in_full"),r.a.createElement("span",null,"".concat(g," ").concat(1===g?"Sequence":"Sequences")))),r.a.createElement("div",{className:"directory_item-footer aligned-grid gap-l"},r.a.createElement("i",{onClick:function(){return p(k[a],t)},className:"material-icons"},"share"),a===k.VIDEO?r.a.createElement(i.b,{to:"/sequencer/".concat(t)},r.a.createElement("i",{className:"material-icons"},"open_in_new")):a===k.SEQUENCE&&r.a.createElement(i.b,{to:"/sequencer/".concat(O.videoId,"?sequenceId=").concat(t)},r.a.createElement("i",{className:"material-icons"},"open_in_new")),a!==k.SEQUENCE&&r.a.createElement("i",{onClick:f,className:"material-icons"},"more_vert"),r.a.createElement("i",{className:"material-icons"},s?"check_box":"check_box_outline_blank")))}),ge=function(e){e.stopPropagation(),e.preventDefault()},je=function(e,t){Object(E.setGlobalState)(de,{component:"share",props:{type:e,id:t}})},he=function(){var e=Object(E.useGlobalState)(F),t=Object(o.a)(e,1)[0],a=Object(E.useGlobalState)(X),c=Object(o.a)(a,1)[0],l=Object(E.useGlobalState)(P),i=Object(o.a)(l,1)[0],s=Object(E.useGlobalState)("SELECTED_DIRECTORY"),u=Object(o.a)(s,1)[0],d=Object(E.useGlobalState)("SELECTED_FOLDER"),m=Object(o.a)(d,1)[0],p=Object(n.useState)([]),O=Object(o.a)(p,2),v=O[0],g=O[1],j=Object(n.useState)([]),h=Object(o.a)(j,2),S=h[0],N=h[1],G=Object(n.useState)([]),w=Object(o.a)(G,2),C=w[0],T=w[1],I=Object(n.useState)({SEQUENCE:null,VIDEO:null,PLAYLIST:null}),L=Object(o.a)(I,2),x=L[0],A=L[1],_=Object(n.useMemo)((function(){return u===k.VIDEO?t.filter((function(e){return m?e.folder===m:!e.folder})):u===k.SEQUENCE?i.filter((function(e){return m?e.folder===m:!e.folder})):c.filter((function(e){return m?e.folder===m:!e.folder}))}),[u,t,c,m,i]),D=function(e){var t=k[e.target.closest("li").classList[0]],a=e.target.closest("li").id,n=t===k.VIDEO?[].concat(Object(y.a)(S),[a]):t===k.PLAYLIST?[].concat(Object(y.a)(v),[a]):[].concat(Object(y.a)(C),[a]);e.dataTransfer.setData("text/plain",JSON.stringify({ids:n,type:t}))},R=function(e){var a=e.target.closest("li").id,n=JSON.parse(e.dataTransfer.getData("text/plain")),r=n.ids;if("list"===n.type){var l=c.find((function(e){return e.id===a})),o=t.filter((function(e){return r.includes(e.id)})).map((function(e){return e.url})),i=Object(y.a)(new Set([].concat(Object(y.a)(l.urls),Object(y.a)(o))));te(Object(f.a)(Object(f.a)({},l),{},{urls:i}))}},V=function(e){var t=e.target.closest("li").id;u===k.VIDEO?S.includes(t)?N(S.filter((function(e){return e!==t}))):N([].concat(Object(y.a)(S),[t])):u===k.PLAYLIST?v.includes(t)?g(v.filter((function(e){return e!==t}))):g([].concat(Object(y.a)(v),[t])):u===k.SEQUENCE&&(C.includes(t)?T(C.filter((function(e){return e!==t}))):T([].concat(Object(y.a)(C),[t])))},U=function(e){var a=e.target.closest("li").id;if(u===k.VIDEO){var n=t.find((function(e){return e.id===a}));Object(E.setGlobalState)(de,{component:"video",props:n})}else if(u===k.PLAYLIST){var r=c.find((function(e){return e.id===a}));Object(E.setGlobalState)(de,{component:"playlist",props:r})}else u===k.SEQUENCE&&alert("Sequences cant be edited. Open the corresponding video or project in the sequencer and edit sequence there")},M=Object(n.useMemo)((function(){var e=Object(y.a)(_),t=x[u];return t?"asc"===t?e.sort((function(e,t){var a=e.label.toUpperCase(),n=t.label.toUpperCase();return a<n?-1:a>n?1:0})):e.sort((function(e,t){var a=e.label.toUpperCase(),n=t.label.toUpperCase();return a>n?-1:a<n?1:0})):e}),[x,_,u]),Y=Object(n.useMemo)((function(){return 0!==_.length&&(u===k.PLAYLIST?v:u===k.VIDEO?S:C).filter((function(e){return _.find((function(t){return t.id===e}))})).length===_.length}),[_,u,v,S,C]);return r.a.createElement("div",{className:"directory grid gap-s overflow-a grid-tr-mm1 bg-grey-light"},r.a.createElement(le,null),r.a.createElement("div",{className:"directory_header aligned-grid grid-tc-m1m gap-m bg-grey-light"},r.a.createElement("button",{className:"aligned-grid pd-01",onClick:function(){Object(E.setGlobalState)(de,{component:"folder",props:{directory:u,folder:m}})}},r.a.createElement("i",{className:"material-icons"},"add"),"Folder"),r.a.createElement("div",{className:"grid gap-m"},r.a.createElement("label",null,"Sort by:"),r.a.createElement("span",{className:"grid gap-s",onClick:function(){var e=x[u],t=e?"asc"===e?"desc":null:"asc";A(Object(f.a)(Object(f.a)({},x),{},Object(b.a)({},u,t)))}},"Label",r.a.createElement("i",{className:"material-icons"},x[u]?"desc"===x[u]?"expand_less":"expand_more":"unfold_more"))),r.a.createElement("div",{className:"grid gap-m"},r.a.createElement("label",null,"Select all:"),r.a.createElement("i",{className:"material-icons",onClick:function(){var e=u===k.PLAYLIST?[v,g]:u===k.VIDEO?[S,N]:[C,T],t=Object(o.a)(e,2),a=t[0],n=t[1];console.log({targetSelection:a,setSelection:n});var r=a.filter((function(e){return _.find((function(t){return t.id===e}))}));r.length!==_.length?n(Array.from(new Set([].concat(Object(y.a)(a),Object(y.a)(_.map((function(e){return e.id}))))))):n(a.filter((function(e){return!r.includes(e)})))}},Y?"check_box":"check_box_outline_blank"))),r.a.createElement("ul",{className:"directory_items grid gap-xs"},M.map((function(e,t){var a=(u===k.PLAYLIST?v:u===k.VIDEO?S:C).includes(e.id);return r.a.createElement(ve,Object.assign({key:e.id},e,{type:u,handleSelect:V,handleEdit:U,selected:a,onDragOver:ge,onDragStart:D,handleDrop:R,onShare:je}))}))))};a(69);Object(E.setGlobalState)("PLAYLIST_ITEMS",[]);a(70);Object(E.setGlobalState)("PLAYER_PLAYING",!1);var Se=0,ye=function(e){Se++;var t=Object(E.getGlobalState)("PLAYLIST_ITEMS");console.log(typeof e);var a=t.find((function(t){return t.id===("string"==typeof e?e:e.target.closest("li").id)}));Object(E.setGlobalState)("PLAYER_ITEM",Object(f.a)(Object(f.a)({},a),{},{count:Se}))},Ne=function(){var e=Object(E.useGlobalState)("PLAYER_ITEM"),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(E.useGlobalState)("PLAYER_PLAYING"),i=Object(o.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(!1),m=Object(o.a)(d,2),b=m[0],f=m[1],p=Object(n.useState)(!1),O=Object(o.a)(p,2),v=O[0],g=O[1],j=Object(n.useRef)(),h=Object(n.useRef)(),S=Object(n.useMemo)((function(){return a?a.url:""}),[a]);Object(n.useEffect)((function(){b&&y()}),[b]),Object(n.useEffect)((function(){return b&&a&&h.current===a.url&&y(),function(){return h.current=a?a.url:""}}),[a,b]);var y=function(){var e=j.current;e?(a.type===k.VIDEO?e.seekTo(0):a.type===k.SEQUENCE&&e.seekTo(a.start,"seconds"),u(!0)):console.log("PLAYER NOT READY ON START PLAYER")};return r.a.createElement("div",{className:"video-preview bg-white overflow-h shadow-l ".concat(v?"":"minimized"," ").concat(S?"open":"")},S&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"video-preview__header aligned-grid pd-05 grid-tc-1mm z1"},r.a.createElement("h4",null,a?a.label:"Loading Player"),r.a.createElement("i",{onClick:function(){g(!v)},className:"material-icons"},v?"minimize":"maximize"),r.a.createElement("i",{onClick:function(){j.current=void 0,f(!1),u(!1),c()},className:"material-icons"},"close")),r.a.createElement(B.a,{className:"player",height:"calc(100% - 45px)",width:"auto",pip:!0,playing:s,ref:function(e){return j.current=e},url:S,onReady:function(){return f(!0)},onProgress:function(e){var t=e.playedSeconds;a.stop&&t>=a.stop&&(u(!1),function(e){var t=new CustomEvent("playerdone",{detail:{id:e}});document.dispatchEvent(t)}(a.id))},controls:!0})))},Ge=function(e){var t=e.items,a=Object(E.useGlobalState)("PLAYER_PLAYING"),n=Object(o.a)(a,2),c=n[0],l=n[1],i=Object(E.useGlobalState)("PLAYER_ITEM"),s=Object(o.a)(i,2),u=s[0],d=s[1],m=function(e){if(u&&1!==t.length){var a,n=t.findIndex((function(e){return e.id===u.id}));e&&0!==n?a=t.find((function(e,t){return t===n-1})):n!==t.length-1&&(a=t.find((function(e,t){return t===n+1}))),d(a)}else console.log("ONLY ONE ITEM PRESENT OR PLAYER IS NOT ACTIVE")};return r.a.createElement("div",{className:"playlist_controls-actions stretched-grid bg-grey"},r.a.createElement("button",{onClick:function(){u?l(!c):d(t[0])}},r.a.createElement("i",{className:"material-icons"},c?"pause":"play_arrow")),r.a.createElement("button",{onClick:function(){return m(!0)}},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up")),r.a.createElement("button",{onClick:function(){return m(!1)}},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"share")))},we=function(){},Ce=function(e){var t=e.activePlaylist,a=e.playlist,n=e.items,c=e.setItems,l=e.selectedItems;return r.a.createElement("div",{className:"playlist_controls-selection overflow-h stretched-grid bg-grey"},r.a.createElement("button",null,t?r.a.createElement("i",{onClick:function(){var e=n.filter((function(e){return!l.includes(e.id)})).map((function(e){return"".concat(e.type,":").concat(e.id)}));te(Object(f.a)(Object(f.a)({},a),{},{items:e}))},className:"material-icons"},"delete"):r.a.createElement("i",{onClick:function(){return c(n.filter((function(e){return!l.includes(e.id)})))},className:"material-icons"},"clear")),r.a.createElement("button",{onClick:function(){var e=n.filter((function(e){return l.includes(e.id)})).map((function(e){return"".concat(e.type,":").concat(e.id)}));Object(E.setGlobalState)(de,{component:k.PLAYLIST,props:{items:e}})}},r.a.createElement("i",{className:"material-icons"},"playlist_add_check")),r.a.createElement("button",{onClick:we},r.a.createElement("i",{className:"material-icons"},"playlist_add")))},ke=function(e){e.stopPropagation(),e.preventDefault()},Te=function(e){var t=e.detail.id,a=Object(E.getGlobalState)("PLAYLIST_ITEMS"),n=a.findIndex((function(e){return e.id===t}));if(n<a.length-1){var r=a.find((function(e,t){return t===n+1}));ye(r.id)}},Ie=function(e){var t=e.items,a=e.filteredItems,c=e.selectedItems,l=e.setSelectedItems,i=Object(E.useGlobalState)("PLAYER_POSITION"),s=Object(o.a)(i,1)[0],u=function(e){e.stopPropagation();var t=e.target.closest("li").id;c.includes(t)?l(c.filter((function(e){return e!==t}))):l([].concat(Object(y.a)(c),[t]))},d=function(e){var t=e.target.closest("li").id;e.dataTransfer.setData("text/plain",JSON.stringify({items:[].concat(Object(y.a)(c),[t]),type:"list"}))};return Object(n.useEffect)((function(){return document.addEventListener("playerdone",Te),function(){return document.removeEventListener("playerdone",Te)}}),[]),r.a.createElement("ul",{className:"bg-white overflow-a"},0===t.length?r.a.createElement("li",{className:"no-items centered-grid pd-2"},"Nothing in selection. Drag video or playlist into here or open an existing playlist."):a.map((function(e,t){var a=e.id,n=e.label,l=(e.url,e.type),o=(e.start,e.stop,c.includes(a));return r.a.createElement("li",{onClick:ye,draggable:!0,onDragStart:d,onDragOver:ke,className:"".concat(k[l]," grid grid-tc-m1m  pd-05 gap-m ").concat(t===s?"active":""),id:a,key:t},r.a.createElement("i",{onClick:u,className:"material-icons"},o?"check_box":"check_box_outline_blank"),r.a.createElement("label",null,n))})))},Le=function(){var e=Object(E.useGlobalState)("PLAYLIST_OPEN"),t=Object(o.a)(e,1)[0],a=Object(E.useGlobalState)("PLAYLIST_ITEMS"),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(E.useGlobalState)(F),u=Object(o.a)(s,1)[0],d=Object(E.useGlobalState)(P),m=Object(o.a)(d,1)[0],b=Object(E.useGlobalState)(X),p=Object(o.a)(b,1)[0],O=Object(E.useGlobalState)("SELECTED_LIST_ITEMS",[]),v=Object(o.a)(O,2),g=v[0],j=v[1],h=Object(E.useGlobalState)("ACTIVE_PLAYLIST"),S=Object(o.a)(h,2),N=S[0],G=S[1],w=Object(n.useState)(""),C=Object(o.a)(w,2),T=C[0],I=C[1],L=Object(n.useMemo)((function(){return p.find((function(e){return e.id===N}))}),[N,p]);Object(n.useEffect)((function(){if(L){var e=L.items.map((function(e){var t=e.split(":"),a=Object(o.a)(t,2),n=a[0],r=a[1],c=(n===k.VIDEO?u:m).find((function(e){return e.id===r}));return Object(f.a)({type:n},c)}));i(e),j([])}}),[L,m,u,i,j]);var x=Object(n.useMemo)((function(){return l.filter((function(e){return e.type!==k.PLAYLIST&&e.label.toLowerCase().includes(T.toLowerCase())}))}),[l,T]),A=Object(n.useCallback)((function(e){var t=m.filter((function(t){return e.includes(t.id)})).filter((function(e){return!l.find((function(t){return t.id===e.id}))}));0===t.length?alert("Sequences already exist in playlist"):N?te(Object(f.a)(Object(f.a)({},L),{},{items:[].concat(Object(y.a)(l),Object(y.a)(t)).map((function(e){return"".concat(e.type,":").concat(e.id)}))})):(i([].concat(Object(y.a)(l),Object(y.a)(t.map((function(e){return Object(f.a)({type:k.SEQUENCE},e)}))))),j([].concat(Object(y.a)(g),Object(y.a)(t.map((function(e){return e.id}))))))}),[m,l,N,L,g,j]),_=Object(n.useCallback)((function(e){var t=u.filter((function(t){return e.includes(t.id)})).filter((function(e){return!l.find((function(t){return t.id===e.id}))}));0===t.length?alert("Videos already in list"):N?te(Object(f.a)(Object(f.a)({},L),{},{items:[].concat(Object(y.a)(l),Object(y.a)(t)).map((function(e){return"".concat(e.type,":").concat(e.id)}))})):(i([].concat(Object(y.a)(l),Object(y.a)(t.map((function(e){return Object(f.a)({type:k.VIDEO},e)}))))),j([].concat(Object(y.a)(g),Object(y.a)(t.map((function(e){return e.id}))))))}),[u,l,N,L,g,j]),D=Object(n.useCallback)((function(e){var t=p.filter((function(t){return e.includes(t.id)})).reduce((function(e,t){return Array.from(new Set([].concat(Object(y.a)(e),Object(y.a)(t.items))))}),[]).filter((function(e){var t=e.split(":"),a=Object(o.a)(t,2),n=a[0],r=a[1];return!l.find((function(e){return e.type===n&&e.id===r}))})).map((function(e){var t=e.split(":"),a=Object(o.a)(t,2),n=a[0],r=a[1];return(n===k.VIDEO?u:m).find((function(e){return e.id===r}))})),a=Array.from(new Set([].concat(Object(y.a)(l),Object(y.a)(t))));N&&(e.length>1||e[0]!==N)&&(G(),j(a.map((function(e){return e.id})))),i(a)}),[p,l,i,N,G,L,g,j]),R=Object(n.useCallback)((function(e){var t=l.filter((function(e){return e.type===k.VIDEO})).map((function(e){return e.id})),a=u.filter((function(a){return e.includes(a.id)&&!t.includes(a.id)})).map((function(e){return"VIDEO:".concat(e.id)}));0===a.length?alert("All Videos already exist in Playlist"):te(Object(f.a)(Object(f.a)({},L),{},{items:[].concat(Object(y.a)(L.items),Object(y.a)(a))}))}),[l,u,L]),V=Object(n.useCallback)((function(e){var t=l.filter((function(e){return e.type===k.SEQUENCE})).map((function(e){return e.id})),a=m.filter((function(a){return e.includes(a.id)&&!t.includes(a.id)})).map((function(e){return"SEQUENCE:".concat(e.id)}));0===a.length?alert("All sequences already exist in playlist"):te(Object(f.a)(Object(f.a)({},L),{},{items:[].concat(Object(y.a)(L.items),Object(y.a)(a))}))}),[l,m,L]),U=Object(n.useCallback)((function(e){var t=p.filter((function(t){return e.includes(t.id)})).reduce((function(e,t){return Array.from(new Set([].concat(Object(y.a)(e),Object(y.a)(t.items))))}),[]),a=Array.from(new Set([].concat(Object(y.a)(L.items),Object(y.a)(t))));a.length>L.items.length?te(Object(f.a)(Object(f.a)({},L),{},{items:a})):console.log("No New Items to add")}),[p,L]),M=Object(n.useCallback)((function(e){var t=JSON.parse(e.dataTransfer.getData("text/plain")),a=t.ids,n=t.type;L?n===k.VIDEO?R(a):n===k.SEQUENCE?V(a):n===k.PLAYLIST&&U(a):n===k.VIDEO?_(a):n===k.SEQUENCE?A(a):n===k.PLAYLIST&&(1===a.length&&0===l.length?G(a[0]):D(a))}),[R,V,U,_,A,G,D]),Y=Object(n.useCallback)((function(){G(),Object(E.setGlobalState)("PLAYER_ITEM",void 0),i([])}),[G,i]);return r.a.createElement("div",{onDrop:M,onDragOver:function(e){return e.preventDefault()},className:"playlist ".concat(t?"open":""," grid grid-tr-1m")},r.a.createElement("div",{className:"playlist_header stretched-grid overflow-h grid-tr-m1"},r.a.createElement("div",{className:"stretched-grid bg-white"},r.a.createElement("h4",{className:"aligned-grid grid-tc-m1m gap-m pd-05"},r.a.createElement("i",{className:"material-icons"},"queue_music"),L?L.label:"No Playlist active",0!==l.length&&r.a.createElement("i",{onClick:Y,className:"material-icons"},"close")),0!==l.length&&r.a.createElement("div",{className:"stretched-grid"},r.a.createElement("input",{type:"text",placeholder:"Search Playlist...",value:T,onChange:function(e){var t=e.target.value;return I(t)}}))),r.a.createElement(Ie,{items:l,selectedItems:g,filteredItems:x,setSelectedItems:j})),r.a.createElement("div",{className:"playlist_controls grid gap-xs z1"},0!==l.length&&r.a.createElement(r.a.Fragment,null,0!==g.length&&r.a.createElement(Ce,{activePlaylist:N,items:l,setItems:i,selectedItems:g,playlist:L}),r.a.createElement(Ge,{items:l}))),r.a.createElement(Ne,null))},xe=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([T(),q(),$(),V()]);case 2:Object(E.setGlobalState)("INITIALIZED",!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(e){var t=e.history.push,a=Object(E.useGlobalState)("INITIALIZED",!1),c=Object(o.a)(a,1)[0];return Object(n.useEffect)((function(){xe()}),[]),r.a.createElement("div",{className:"dashboard grid grid-tr-m1 grid-tc-m1m bg-grey-light gap-s overflow-h"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{push:t}),r.a.createElement(Oe,null),r.a.createElement(he,null),r.a.createElement(Le,null),r.a.createElement(D,null)):r.a.createElement("div",{className:"centered-grid"},"Loading User Data..."))},_e=(a(71),function(e){var t=Math.floor(e/60),a=String(e-60*t).split("."),n=Object(o.a)(a,2),r=n[0],c=n[1],l=1===r.length?"0"+r:r;c&&String(c).slice(0,2);return"".concat(t>9?t:"0"+t,":").concat(l)}),De=function(e){var t=e.detail;if("tag"===t){var a=Object(E.getGlobalState)("TAGGER_ACTIVE_TIME"),n=Object(E.getGlobalState)("TAGGER_START");a||n?"start"===a?(console.log("SETTING START"),Ve()):"stop"===a?(console.log("SETTING STOP"),Me()):(console.log("SBMITTING"),Pe()):(console.log("starting START"),Object(E.setGlobalState)("TAGGER_ACTIVE_TIME","start"))}else if("tagback"===t){var r=Object(E.getGlobalState)("TAGGER_ACTIVE_TIME"),c=Object(E.getGlobalState)("TAGGER_START");console.log({activeTime:r,start:c}),"start"===r?Fe():"stop"===r?Object(E.setGlobalState)("TAGGER_ACTIVE_TIME","start"):!r&&c&&Object(E.setGlobalState)("TAGGER_ACTIVE_TIME","stop")}},Pe=function(){var e=Object(E.getGlobalState)("EDITING_SEQUENCE"),t=Object(E.getGlobalState)("TAGGER_START"),a=Object(E.getGlobalState)("TAGGER_STOP"),n=Object(E.getGlobalState)("TAGGER_LABEL");if(n){if(e)M(Object(f.a)(Object(f.a)({},e),{},{start:t,stop:a,label:n}));else{var r=Object(E.getGlobalState)(et),c=r.id,l=r.url;U({videoId:c,start:t,stop:a,label:n,url:l})}Fe()}else alert("Label required!")},Re=function(e){e&&e.stopPropagation(),Ve()},Ve=function(){var e=Object(E.getGlobalState)($e).playedSeconds,t=Number((void 0===e?0:e).toFixed(2));Object(E.setGlobalState)("TAGGER_START",t),Object(E.setGlobalState)("TAGGER_ACTIVE_TIME","stop")},Ue=function(e){e&&e.stopPropagation(),Me()},Me=function(){var e=Object(E.getGlobalState)($e).playedSeconds,t=Number(e.toFixed(2));Object(E.setGlobalState)("TAGGER_STOP",t),Object(E.setGlobalState)("TAGGER_ACTIVE_TIME",void 0)},Ye=function(){Fe(),Object(E.setGlobalState)("EDITING_SEQUENCE",void 0)},Fe=function(){Object(E.setGlobalState)("TAGGER_ACTIVE_TIME","start"),Object(E.setGlobalState)("TAGGER_LABEL",""),Object(E.setGlobalState)("TAGGER_START",void 0),Object(E.setGlobalState)("TAGGER_STOP",void 0)},ze=function(){var e=Object(E.useGlobalState)("TAGGER_ACTIVE_TIME","start"),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(E.useGlobalState)("EDITING_SEQUENCE"),i=Object(o.a)(l,1)[0],s=Object(E.useGlobalState)("TAGGER_LABEL",""),u=Object(o.a)(s,2),d=u[0],m=u[1],b=Object(E.useGlobalState)($e),f=Object(o.a)(b,1)[0],p=Object(E.useGlobalState)("TAGGER_START"),O=Object(o.a)(p,2),v=O[0],g=O[1],j=Object(E.useGlobalState)("TAGGER_STOP"),h=Object(o.a)(j,2),S=h[0],y=h[1];Object(n.useEffect)((function(){var e=document.getElementById("tagInput");e&&e.focus()}),[v,S,a]),Object(n.useEffect)((function(){return document.addEventListener("controls",De),function(){return document.removeEventListener("controls",De)}}),[]),Object(n.useEffect)((function(){i&&(console.log("EDIETING"),g(i.start),y(i.stop),m(i.label),c())}),[i,g,y,m,c]);return r.a.createElement("div",{className:"sequencer_list-tagger shadow-l grid"},r.a.createElement("div",{className:"sequencer_list-tagger-times grid bg-grey-light gap-xs"},r.a.createElement("div",{className:"bg-white centered-grid grid-tc-m1",onClick:function(){return c("start"===a?"":"start")}},r.a.createElement("span",{className:"pd-1"},_e("start"===a?f.playedSeconds||0:v)),"start"===a&&r.a.createElement("button",{className:"pd-1 bg-grey",onClick:Re},"Set Tag")),(v||0===v)&&r.a.createElement("div",{className:"bg-white centered-grid grid-tc-m1",onClick:function(){return c("stop"===a?"":"stop")}},r.a.createElement("span",{className:"pd-1"},_e("stop"===a?f.playedSeconds:S)),"stop"===a&&r.a.createElement("button",{className:"pd-1 bg-grey",onClick:Ue},"Set Stop"))),(v||0===v)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{className:"pd-1",id:"tagInput",onChange:function(e){var t=e.target.value;return m(t)},value:d,placeholder:"Add Label to Tag..."}),r.a.createElement("div",{className:"sequencer_list-tagger-buttons stretched-grid gap-xs bg-grey-light"},r.a.createElement("button",{className:"bg-white pd-1",onClick:Ye},i?"Dismiss":"Close"),r.a.createElement("button",{className:"bg-white pd-1",disabled:!v||!d,onClick:Pe},"Submit"))))},Qe=function(e){var t=e.sequences,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e=t.filter((function(e){return e.label.toLowerCase().includes(l.toLowerCase())}));Object(E.setGlobalState)("FILTERED_SEQUENCES",e)}),[l,t]),r.a.createElement("div",{className:"sequencer_list-header grid grid-tc-1m shadow-s z1"},r.a.createElement("input",{className:"bg-grey-light",type:"text",placeholder:"Search sequences...",onChange:function(e){var t=e.target.value;return i(t)},value:l}),r.a.createElement("i",{className:"material-icons pd-005"},"filter_list"))};Object(E.setGlobalState)("SEQUENCER_PLAYER",{ready:!1,player:null}),Object(E.setGlobalState)("SEQUENCER_PLAYING_SEQUENCES",[]);var qe,Je,Ke=function(e){var t=e.selectedVideo,a=e.sequences,c=Object(E.useGlobalState)("SEQUENCER_PLAYER_PLAYING",!1),l=Object(o.a)(c,1)[0],i=Object(n.useCallback)((function(e){var t=Number(e.playedSeconds.toFixed(2));Object(E.setGlobalState)($e,{playedSeconds:t});var n=a.filter((function(e){var a=e.start,n=e.stop;return a<=t&&n>=t})).map((function(e){return e.id}));Object(E.setGlobalState)("SEQUENCER_PLAYING_SEQUENCES",n)}),[a]);console.log(l);return r.a.createElement("div",{className:"sequencer_video"},t?r.a.createElement(B.a,{className:"player",height:"100%",width:"auto",pip:!0,playing:l,ref:function(e){var t=Object(E.getGlobalState)("SEQUENCER_PLAYER");Object(E.setGlobalState)("SEQUENCER_PLAYER",Object(f.a)(Object(f.a)({},t),{},{player:e}))},url:t.url,onReady:function(){var e=Object(E.getGlobalState)("SEQUENCER_PLAYER");Object(E.setGlobalState)("SEQUENCER_PLAYER",Object(f.a)(Object(f.a)({},e),{},{ready:!0}))},progressInterval:100,onProgress:i,controls:!0}):"Loading Video")},He=function(e){e.sequences;var t=e.sequenceId,a=Object(E.useGlobalState)("SELECTED_SEQUENCES"),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(E.useGlobalState)("FILTERED_SEQUENCES"),u=Object(o.a)(s,1)[0],d=Object(n.useState)(t),m=Object(o.a)(d,2),b=m[0],f=m[1],p=Object(E.useGlobalState)("SEQUENCER_PLAYING_SEQUENCES"),O=Object(o.a)(p,1)[0],v=Object(E.useGlobalState)("EDITING_SEQUENCE"),g=Object(o.a)(v,2),j=g[0],h=g[1],S=Object(n.useState)("asc"),N=Object(o.a)(S,2),G=N[0],w=N[1],C=Object(n.useState)(),k=Object(o.a)(C,2),T=k[0],I=k[1];Object(n.useEffect)((function(){Je="time"}),[G]),Object(n.useEffect)((function(){Je="label"}),[T]),Object(n.useEffect)((function(){t&&(u.find((function(e){return e.id===t}))&&_(t))}),[t,u]);var L=function(e){e.stopPropagation();var t=e.target.closest("li").id;l.includes(t)?i(l.filter((function(e){return e!==t}))):i([].concat(Object(y.a)(l),[t]))},x=function(e){var t=u.find((function(t){return t.id===e}));h(t)},A=function(e){var t=e.target.closest("li").id;qe?(x(t),clearTimeout(qe),qe=void 0):(clearTimeout(qe),qe=setTimeout((function(){f(t),_(t),clearTimeout(qe),qe=void 0}),200))},_=function e(t){var a=Object(E.getGlobalState)("SEQUENCER_PLAYER"),n=a.player,r=a.ready;if(n&&r){var c=u.find((function(e){return e.id===t}));c&&(n.seekTo(c.start,"seconds"),Object(E.setGlobalState)("SEQUENCER_PLAYER_PLAYING",!0))}else setTimeout((function(){e(t)}),500)},D=function(e){e.stopPropagation();var t=e.target.closest("li").id;x(t)},P=Object(n.useMemo)((function(){var e=u.sort((function(e,t){return"asc"===G?e.start-t.start:t.start-e.start}));return T&&"label"===Je&&(e=e.sort((function(e,t){var a=e.label.toUpperCase(),n=t.label.toUpperCase();return a<n?"asc"===T?-1:1:a>n?"asc"===T?1:-1:0}))),e}),[u,T,G]),R=Object(n.useMemo)((function(){return u.every((function(e){return l.includes(e.id)}))}),[l,u]);return r.a.createElement("ul",{className:"sequencer_list-list"},r.a.createElement("li",{className:"sequencer_list-list-sort stretched-grid gap-xs bg-grey-light"},r.a.createElement("span",{className:"centered-grid bg-white pd-05 gap-m",onClick:function(){w("desc"===G?"asc":"desc")}},r.a.createElement("i",{className:"material-icons"},G?"desc"===G?"expand_less":"expand_more":"unfold_more")),r.a.createElement("span",{className:"aligned-grid bg-white pd-05 gap-m",onClick:function(){T?"asc"===T?I("desc"):I():I("asc")}},r.a.createElement("i",{className:"material-icons"},T?"desc"===T?"expand_less":"expand_more":"unfold_more")),r.a.createElement("i",{onClick:function(){if(R){var e=u.map((function(e){return e.id}));i(l.filter((function(t){return!e.includes(t)})))}else i(Array.from(new Set([].concat(Object(y.a)(l),Object(y.a)(u.map((function(e){return e.id})))))))},className:"material-icons aligned-grid bg-white pd-05"},R?"check_box":"check_box_outline_blank")),P.map((function(e,t){var a=l.includes(e.id),n=b===e.id,c=O.includes(e.id),o=j&&j.id===e.id;return r.a.createElement("li",{"data-active":n,"data-playing":c,"data-editing":o,"data-loading":!e.id,onClick:A,id:e.id||t,key:t,className:"stretched-grid gap-xs bg-grey-light"},r.a.createElement("div",{className:"stretched-grid bg-white"},r.a.createElement("span",{className:"centered-grid"},_e(e.start))),r.a.createElement("label",{className:"aligned-grid bg-white pd-05 gap-m grid-tc-1m"},e.label,r.a.createElement("i",{onClick:D,className:"material-icons"},"edit")),r.a.createElement("i",{onClick:L,className:"material-icons aligned-grid bg-white pd-05"},e.id?a?"check_box":"check_box_outline_blank":"close"))})))},We=function(e){var t=e.selectedVideo,a=Object(E.useGlobalState)("SEQUENCER_TARGET_FOLDER",null),c=Object(o.a)(a,2),l=c[0],s=(c[1],Object(E.useGlobalState)(C)),u=Object(o.a)(s,1)[0];Object(n.useMemo)((function(){return u.find((function(e){return e.id===l}))}),[l,u]);return r.a.createElement("div",{className:"sequencer_header aligned-grid grid-tc-m1m z2 gap-m"},r.a.createElement(i.b,{to:"/dashboard",className:"pd-01 centered-grid"},r.a.createElement("i",{className:"material-icons"},"home")),r.a.createElement("div",{className:"sequencer_header-info aligned-grid grid-tc-m1m gap-m"},r.a.createElement("i",{className:"material-icons"},"ondemand_video"),t?t.label:"Loading Video...",r.a.createElement("i",{onClick:function(){Object(E.setGlobalState)(de,{component:"video",props:t})},className:"material-icons"},"more_vert")))},Be=function(e){var t=e.detail;if("play"===t)Object(E.setGlobalState)("SEQUENCER_PLAYER_PLAYING",!Object(E.getGlobalState)("SEQUENCER_PLAYER_PLAYING"));else if("forward"===t||"rewind"===t){var a=Object(E.getGlobalState)("SEQUENCER_PLAYER").player;if(a){var n=Object(E.getGlobalState)($e),r="forward"===t?n.playedSeconds+5:n.playedSeconds-5;a.seekTo(r,"seconds")}}},Xe=function(){var e=Object(E.useGlobalState)("SEQUENCER_PLAYER_PLAYING"),t=Object(o.a)(e,1)[0];return Object(n.useEffect)((function(){return document.addEventListener("controls",Be),function(){return document.removeEventListener("controls",Be)}}),[]),r.a.createElement("div",{className:"sequencer_controls z1 gap-xs bg-white stretched-grid"},r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},t?"pause":"play_arrow")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"fast_rewind")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"fast_forward")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons"},"slow_motion_video")))},Ze=function(){var e=Object(E.useGlobalState)("SELECTED_SEQUENCES"),t=Object(o.a)(e,2),a=t[0],n=t[1],c=0===a.length;return r.a.createElement("div",{className:"sequencer_actions stretched-grid"},r.a.createElement("button",{onClick:function(){return Object(E.setGlobalState)(de,{component:k.PLAYLIST,onClose:function(){return n([])},props:{items:a.map((function(e){return"".concat(k.SEQUENCE,":").concat(e)}))}})},disabled:c},r.a.createElement("i",{className:"material-icons"},"playlist_add")),r.a.createElement("button",{onClick:function(){Y(a[0]),n(a.filter((function(e,t){return 0!==t})))},disabled:1!==a.length},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement("button",{onClick:function(){return je(k.SEQUENCE,a[0])},disabled:1!==a.length},r.a.createElement("i",{className:"material-icons"},"share")))},$e="PLAYER_PROGRESS",et="SEQUENCER_VIDEO",tt={0:"play",10:"tag",127:"tagback",37:"rewind",38:"back",39:"forward",40:"next"},at=function(e){var t=e.keyCode;if(e.ctrlKey&&tt[t]){var a=new CustomEvent("controls",{detail:tt[t]});document.dispatchEvent(a)}},nt=function(e){var t=e.match.params.id,a=e.location.search,c=Object(E.useGlobalState)(F),l=Object(o.a)(c,1)[0],i=Object(E.useGlobalState)(P),s=Object(o.a)(i,1)[0];Object(n.useEffect)((function(){T()}),[]),Object(n.useEffect)((function(){return document.addEventListener("keypress",at),document.addEventListener("keydown",at),function(){document.removeEventListener("keypress",at),document.removeEventListener("keydown",at)}}),[t]);var u=Object(n.useMemo)((function(){return a.slice(1,a.length).split("&").filter((function(e){return"sequenceId"===e.split("=")[0]})).map((function(e){return e.split("=")[1]})).find((function(e,t){return 0===t}))}),[a]);Object(n.useEffect)((function(){l.find((function(e){return e.id===t}))||Q(t)}),[t,l]);var d=Object(n.useMemo)((function(){return l.find((function(e){return e.id===t}))}),[l,t]);Object(n.useEffect)((function(){return Object(E.setGlobalState)(et,d)}),[d]);var m=Object(n.useMemo)((function(){return d?s.filter((function(e){return e.videoId===d.id})):[]}),[s,d]);return r.a.createElement("div",{className:"sequencer overflow-h grid grid-tc-1m grid-tr-m1 bg-grey-light"},r.a.createElement(We,{selectedVideo:d}),r.a.createElement(Ke,{sequences:m,selectedVideo:d}),r.a.createElement("div",{className:"sequencer_list grid grid-tr-m1mm"},r.a.createElement(Qe,{sequences:m}),r.a.createElement(He,{sequences:m,sequenceId:u}),r.a.createElement(Ze,null),r.a.createElement(ze,null),r.a.createElement(Xe,null)))},rt=(a(72),a(73)),ct=a(74),lt=a(75),ot=function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("svg",{viewBox:"0 0 200 60",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope ytd-topbar-logo-renderer",style:{pointerEvents:"none",display:"block",width:"100%",height:"100%"}},r.a.createElement("g",{viewBox:"0 0 200 60",preserveAspectRatio:"xMidYMid meet",className:"style-scope ytd-topbar-logo-renderer"},r.a.createElement("g",{className:"style-scope ytd-topbar-logo-renderer"},r.a.createElement("path",{fill:"#FF0000",d:"M63,14.87c-0.72-2.7-2.85-4.83-5.56-5.56C52.54,8,32.88,8,32.88,8S13.23,8,8.32,9.31\r c-2.7,0.72-4.83,2.85-5.56,5.56C1.45,19.77,1.45,30,1.45,30s0,10.23,1.31,15.13c0.72,2.7,2.85,4.83,5.56,5.56\r C13.23,52,32.88,52,32.88,52s19.66,0,24.56-1.31c2.7-0.72,4.83-2.85,5.56-5.56C64.31,40.23,64.31,30,64.31,30\r S64.31,19.77,63,14.87z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("polygon",{fill:"#FFFFFF",points:"26.6,39.43 42.93,30 26.6,20.57",className:"style-scope ytd-topbar-logo-renderer"})),r.a.createElement("g",{className:"style-scope ytd-topbar-logo-renderer"},r.a.createElement("g",{id:"youtube-paths",className:"style-scope ytd-topbar-logo-renderer"},r.a.createElement("path",{fill:"#282828",d:"M92.69,48.03c-1.24-0.84-2.13-2.14-2.65-3.91c-0.52-1.77-0.79-4.12-0.79-7.06v-4\r c0-2.97,0.3-5.35,0.9-7.15c0.6-1.8,1.54-3.11,2.81-3.93c1.27-0.82,2.94-1.24,5.01-1.24c2.04,0,3.67,0.42,4.9,1.26\r c1.23,0.84,2.13,2.15,2.7,3.93c0.57,1.78,0.85,4.16,0.85,7.12v4c0,2.94-0.28,5.3-0.83,7.08c-0.55,1.78-1.45,3.09-2.7,3.91\r c-1.24,0.82-2.93,1.24-5.06,1.24C95.65,49.29,93.93,48.87,92.69,48.03z M99.66,43.71c0.34-0.9,0.52-2.37,0.52-4.4v-8.59\r c0-1.98-0.17-3.42-0.52-4.34c-0.34-0.91-0.95-1.37-1.82-1.37c-0.84,0-1.43,0.46-1.78,1.37c-0.34,0.91-0.52,2.36-0.52,4.34v8.59\r c0,2.04,0.16,3.51,0.49,4.4c0.33,0.9,0.93,1.35,1.8,1.35C98.71,45.06,99.31,44.61,99.66,43.71z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M188.16,37.13v1.39c0,1.77,0.05,3.09,0.16,3.98c0.1,0.88,0.32,1.53,0.65,1.93\r c0.33,0.4,0.84,0.61,1.53,0.61c0.93,0,1.57-0.36,1.91-1.08c0.34-0.72,0.53-1.92,0.56-3.6l5.35,0.31\r c0.03,0.24,0.04,0.57,0.04,0.99c0,2.55-0.7,4.45-2.09,5.71c-1.39,1.26-3.36,1.89-5.91,1.89c-3.06,0-5.2-0.96-6.43-2.88\r c-1.23-1.92-1.84-4.88-1.84-8.9v-4.81c0-4.14,0.64-7.15,1.91-9.06c1.27-1.9,3.45-2.85,6.54-2.85c2.13,0,3.76,0.39,4.9,1.17\r c1.14,0.78,1.94,1.99,2.41,3.64c0.46,1.65,0.7,3.93,0.7,6.83v4.72H188.16z M188.95,25.53c-0.31,0.39-0.52,1.03-0.63,1.91\r c-0.11,0.88-0.16,2.23-0.16,4.02v1.98h4.54v-1.98c0-1.77-0.06-3.11-0.18-4.02c-0.12-0.91-0.34-1.56-0.65-1.93\r c-0.31-0.37-0.8-0.56-1.46-0.56C189.75,24.94,189.26,25.14,188.95,25.53z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M77.59,36.61l-7.06-25.49h6.16l2.47,11.55c0.63,2.85,1.09,5.27,1.39,7.28h0.18\r c0.21-1.44,0.67-3.85,1.39-7.24l2.56-11.6h6.16L83.7,36.61v12.23h-6.11V36.61z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M126.45,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8\r c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79\r c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H126.45z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M158.27,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8\r c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79\r c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H158.27z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M143.31,16.11h-6.16v32.72h-6.07V16.11h-6.16v-4.99h18.38V16.11z",className:"style-scope ytd-topbar-logo-renderer"}),r.a.createElement("path",{fill:"#282828",d:"M178.8,25.69c-0.38-1.74-0.98-3-1.82-3.78c-0.84-0.78-1.99-1.17-3.46-1.17c-1.14,0-2.2,0.32-3.19,0.97\r c-0.99,0.64-1.75,1.49-2.29,2.54h-0.05l0-14.52h-5.98v39.11h5.12l0.63-2.61h0.13c0.48,0.93,1.2,1.66,2.16,2.2\r c0.96,0.54,2.02,0.81,3.19,0.81c2.1,0,3.64-0.97,4.63-2.9c0.99-1.93,1.48-4.95,1.48-9.06v-4.36\r C179.36,29.84,179.17,27.43,178.8,25.69z M173.11,36.93c0,2.01-0.08,3.58-0.25,4.72c-0.16,1.14-0.44,1.95-0.83,2.43\r c-0.39,0.48-0.91,0.72-1.57,0.72c-0.51,0-0.98-0.12-1.42-0.36c-0.43-0.24-0.79-0.6-1.06-1.08V27.71\r c0.21-0.75,0.57-1.36,1.08-1.84c0.51-0.48,1.06-0.72,1.66-0.72c0.63,0,1.12,0.25,1.46,0.74c0.34,0.49,0.58,1.33,0.72,2.49\r c0.13,1.17,0.2,2.83,0.2,4.99V36.93z",className:"style-scope ytd-topbar-logo-renderer"}))))),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1139.43 379.04",className:"wordmark-logo grid-start-m-2 grid-span-m-4"},r.a.createElement("defs",null),r.a.createElement("g",{"data-name":"Layer 2"},r.a.createElement("g",{"data-name":"Layer 1"},r.a.createElement("path",{className:"wordmark-logo__bg fill-black",d:"M1119.44 269.32h-80v-99.75h-20v99.75h-80V20h80v69.78h60l40 39.9zm-199.9-99.75h-80v20h80v79.8H799.6l-40-39.9v-99.79l40-39.9h119.94zm-179.91 0h-70v20h70v79.8H629.69l-40-39.9V20h80v69.78h70zM569.72 69.83h-80V20h80zm0 199.49h-80V89.78h80zm-100 0H229.89l-40-39.9V89.78h80v99.74h20V89.78h80v99.74h20V89.78h80zm-299.8-99.75H100v20h70v79.8H60l-40-39.9V20h80v69.78h70zm919.54-99.74h-50V0H929.75l-50.47 69.83h-89.67l-30 29.92V69.83h-70V0H469.77v69.83H160.42L110 0H0v239.4L139.93 379h139.93v-39.9l40 39.9h269.85v-39.9l40 39.9h129.91v-39.9l40 39.9h249.88l90-89.78V119.7z",fill:"#9145ff"}),r.a.createElement("path",{className:"wordmark-logo__text fill-white",d:"M939.53 269.32h79.96v-99.75h19.99v99.75h79.96V129.68l-39.98-39.9h-59.97V19.96h-79.96v249.36zM589.71 229.42l39.97 39.9h109.95v-79.8h-69.96v-19.95h69.96V89.78h-69.96V19.96h-79.96v209.46zM759.62 229.42l39.98 39.9h119.94v-79.8h-79.96v-19.95h79.96V89.78H799.6l-39.98 39.9v99.74zM489.76 19.96h79.96v49.87h-79.96zM169.92 89.78H99.95V19.96H19.99v209.46l39.98 39.9h109.95v-79.8H99.95v-19.95h69.97V89.78zM189.91 229.42l39.97 39.9h239.89V89.78h-79.96v99.74h-20V89.78h-79.95v99.74h-19.99V89.78h-79.96v139.64zM489.76 89.78h79.96v179.54h-79.96z",fill:"#FFF"})))),r.a.createElement("img",{src:rt}),r.a.createElement("img",{src:ct}),r.a.createElement("svg",{viewBox:"0 0 109 31"},r.a.createElement("path",{d:"M88.24 23.443a11.978 11.978 0 01-.054-.678c-.184-3.124.947-5.995 3.394-8.61 2.627-2.905 5.929-4.358 9.908-4.358 2.553 0 4.487.855 5.801 2.561 1.242 1.563 1.807 3.578 1.698 6.047-.147 3.342-1.387 6.23-3.723 8.663-2.335 2.434-5.237 3.65-8.704 3.65-2.882 0-5.072-.926-6.568-2.78a7.757 7.757 0 01-.871-1.372 34.1 34.1 0 01-1.235.727c-3.868 2.217-7.792 3.323-11.769 3.323-2.956 0-5.074-.982-6.35-2.945a7.353 7.353 0 01-.266-.422 21.55 21.55 0 01-.117.103c-2.446 2.108-4.89 3.162-7.335 3.162-2.374 0-3.522-1.307-3.45-3.926.036-1.164.265-2.562.684-4.198.42-1.636.648-2.909.685-3.818.037-1.38-.384-2.073-1.264-2.073-.952 0-2.086 1.13-3.404 3.384-1.392 2.365-2.144 4.656-2.252 6.874-.074 1.566.08 2.767.46 3.603-2.546.073-4.33-.346-5.348-1.256-.911-.8-1.33-2.126-1.255-3.983a14.67 14.67 0 01.537-3.492c.321-1.164.5-2.2.537-3.11.074-1.347-.42-2.02-1.48-2.02-.915 0-1.902 1.038-2.96 3.111-1.06 2.073-1.645 4.239-1.754 6.494-.073 2.037.058 3.455.392 4.256-2.505.073-4.284-.454-5.337-1.58-.48-.518-.817-1.185-1.01-2.002-.205.194-.415.386-.631.574-2.446 2.108-4.89 3.162-7.335 3.162-1.133 0-2-.363-2.601-1.09-.602-.728-.885-1.672-.848-2.836.035-1.199.41-3.053 1.121-5.562.712-2.508 1.069-3.854 1.069-4.036 0-.944-.33-1.417-.985-1.417-.207 0-.77.34-1.69 1.016-.693 2.067-2.205 4.595-4.535 7.584-3.315 4.295-6.119 6.443-8.413 6.443-1.42 0-2.624-1.307-3.606-3.924L5.41 19.497c-.73-2.615-1.512-3.924-2.349-3.924-.182 0-.82.383-1.913 1.145L0 15.244a309.082 309.082 0 003.558-3.163c1.604-1.383 2.809-2.11 3.612-2.183 1.897-.182 3.065 1.111 3.503 3.88.474 2.986.802 4.844.986 5.57.547 2.479 1.148 3.716 1.806 3.716.51 0 1.276-.803 2.298-2.41 1.021-1.608 1.568-2.831 1.642-3.672.146-1.387-.401-2.082-1.642-2.082-.583 0-1.185.134-1.804.399 1.198-3.914 3.487-5.814 6.866-5.706 2.256.066 3.438 1.387 3.546 3.961L26 12.081c1.57-1.383 2.738-2.11 3.506-2.183 1.203-.109 2.088.244 2.654 1.06.564.816.774 1.875.63 3.18-.475 2.212-.987 5.02-1.534 8.425-.037 1.56.53 2.338 1.697 2.338.51 0 1.422-.537 2.737-1.615l.049-.04c.083-.76.218-1.662.405-2.708.3-1.687.468-3 .504-3.945.072-.652-.093-.979-.493-.979-.22 0-.84.369-1.862 1.104l-1.314-1.473c.183-.144 1.331-1.2 3.45-3.164 1.532-1.418 2.572-2.145 3.119-2.182.949-.073 1.715.318 2.299 1.172.584.855.876 1.847.876 2.974 0 .364-.036.71-.108 1.037a10.044 10.044 0 011.916-2.183c1.678-1.455 3.558-2.274 5.638-2.456 1.788-.145 3.064.273 3.833 1.255.619.8.91 1.947.875 3.438a73.7 73.7 0 00.822-.71c.838-.982 1.659-1.763 2.462-2.345 1.35-.982 2.756-1.528 4.215-1.638 1.752-.145 3.01.271 3.777 1.25.656.798.949 1.94.877 3.424-.037 1.015-.284 2.492-.74 4.431-.457 1.94-.684 3.052-.684 3.342-.037.763.037 1.287.22 1.577.181.29.618.434 1.313.434.311 0 .773-.2 1.385-.602a9.877 9.877 0 01-.072-1.43c.035-2.945 1.35-5.745 3.942-8.401 2.845-2.909 6.203-4.365 10.072-4.365 3.576 0 5.474 1.453 5.693 4.355.145 1.85-.877 3.755-3.065 5.715-2.337 2.142-5.276 3.502-8.815 4.082.656.908 1.641 1.36 2.956 1.36 2.627 0 5.492-.664 8.596-1.997.138-.058.274-.117.408-.175zm14.56-5.244c.038-.984-.1-1.886-.41-2.706-.31-.82-.758-1.23-1.341-1.23-1.862 0-3.395 1.002-4.597 3.007-1.024 1.64-1.571 3.39-1.643 5.247-.037.912.128 1.714.492 2.406.4.803.966 1.203 1.697 1.203 1.642 0 3.048-.965 4.216-2.898.985-1.604 1.513-3.28 1.587-5.029zm-21.1-1.834c.035-.976-.365-1.465-1.203-1.465-1.094 0-2.204.751-3.334 2.253-1.13 1.502-1.713 2.94-1.748 4.315-.021 0-.021.236 0 .706a12.322 12.322 0 004.645-2.985c1.056-1.157 1.603-2.1 1.64-2.824zM34.651 2.714c-.036.906-.492 1.775-1.369 2.607-.985.941-2.153 1.412-3.503 1.412-2.08 0-3.084-.905-3.011-2.715.035-.94.592-1.846 1.669-2.715C29.513.435 30.708 0 32.023 0c.766 0 1.405.3 1.917.896.51.598.747 1.204.711 1.818z",fill:"#1A2E3A",fillRule:"evenodd"})),r.a.createElement("img",{src:lt}),r.a.createElement("div",{className:"landing-card"},r.a.createElement("i",{className:"material-icons"},"ondemand_video")," ",r.a.createElement("div",null,r.a.createElement("p",null,"This is a platform to organize, analyze and share streaming content."),r.a.createElement("p",null,"We enable you to use streams from several streaming platforms and let you disect them into sequences.")),r.a.createElement("div",null,r.a.createElement("label",null,"Watch Intro Video",r.a.createElement("i",{className:"material-icons"},"open_in_new")),r.a.createElement(i.b,{to:"/auth/signup"},"Signup"),r.a.createElement(i.b,{to:"/auth/login"},"Login"))))},it=(a(76),function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)(!1),b=Object(o.a)(m,2),p=b[0],E=b[1],O=Object(n.useState)(!1),v=Object(o.a)(O,2),g=v[0],j=v[1],h=Object(n.useState)(),S=Object(o.a)(h,2),y=S[0],N=S[1],G=Object(n.useState)(0),w=Object(o.a)(G,2),C=w[0],T=w[1],I=Object(n.useRef)(),L=e.videos,x=e.sequences,A=Object(n.useMemo)((function(){return e.playlist.items.map((function(e){return{type:e.split(":")[0],id:e.split(":")[1]}})).map((function(e){var t=e.id,a=e.type;return a===k.VIDEO?Object(f.a)(Object(f.a)({},L.find((function(e){return e.id===t}))),{},{type:a}):a===k.SEQUENCE?Object(f.a)(Object(f.a)({},x.find((function(e){return e.id===t}))),{},{type:a}):void 0}))}),[e]),_=Object(n.useMemo)((function(){return A.find((function(e){return e.id===u}))}),[A,u]);Object(n.useEffect)((function(){A.length>0&&(d(A[0].id),N(A[0].url))}),[A]),Object(n.useEffect)((function(){if(_)if(_.url!==y)j(!1),N(_.url);else if(g){var e=_.type===k.SEQUENCE?_.start:0;I.current.seekTo(e,"seconds"),E(!0)}}),[g,_,E,C]);var D=function(){var e=A.findIndex((function(e){return e.id===_.id}));if(e===A.length-1)E(!1);else{var t=A.find((function(t,a){return a===e+1}));d(t.id)}},P=function(e){T(C+1),d(e.target.id)};return r.a.createElement("div",{className:"playlist_viewer grid grid-tc-1m bg-black"},r.a.createElement("div",null,r.a.createElement(B.a,{className:"player_viewer",height:"100%",width:"100%",playing:p,ref:function(e){return I.current=e},url:y,onProgress:function(e){var t=e.playedSeconds;return _.stop&&t>=_.stop&&D()},onReady:function(){return j(!0)},onEnded:function(){return D()},controls:!0})),r.a.createElement("div",{className:"playlist_viewer-list grid grid-tr-m1 gap-s"},r.a.createElement("input",{className:"bg-grey",type:"text",placeholder:"Search Playlist...",value:c,onChange:function(e){var t=e.target.value;return l(t)}}),r.a.createElement("ul",{className:"grid gap-xs"},A.map((function(e,t){var a=e.id,n=e.label;e.type;return r.a.createElement("li",{className:"bg-grey-dark pd-051051","data-active":u===a,onClick:P,id:a,key:t},n)})))))}),st=function(e){var t=e.video,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],m=u[1],b=Object(n.useRef)();Object(n.useEffect)((function(){d&&i(!0)}),[d]);var f=function(){b.current.seekTo(0),i(!0)};return r.a.createElement("div",{className:"sequence_viewer"},r.a.createElement(B.a,{className:"player_viewer",height:"100%",width:"100%",playing:l,ref:function(e){return b.current=e},url:t.url,onReady:function(){return m(!0)},onEnded:function(){Object(E.setGlobalState)(de,{component:"replay",props:{onReplay:f}})},controls:!0}))},ut=function(e){var t=e.sequence,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],m=u[1],b=Object(n.useRef)();Object(n.useEffect)((function(){d&&(b.current.seekTo(t.start,"seconds"),i(!0))}),[d]);var f=function(){b.current.seekTo(t.start,"seconds"),i(!0)};return r.a.createElement("div",{className:"sequence_viewer"},r.a.createElement(B.a,{className:"player_viewer",height:"100%",width:"100%",playing:l,ref:function(e){return b.current=e},url:t.url,onReady:function(){return m(!0)},onProgress:function(e){var a=e.playedSeconds;t.stop&&a>=t.stop&&(i(!1),Object(E.setGlobalState)(de,{component:"replay",props:{onReplay:f}}))}}))},dt=function(e){var t=e.match.params,a=t.type,c=t.id,l=Object(n.useState)(),i=Object(o.a)(l,2),s=i[0],u=i[1],b=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("playlist"!==a){e.next=7;break}return e.next=3,mt(c);case 3:t=e.sent,u(t),e.next=18;break;case 7:if("video"!==a){e.next=14;break}return e.next=10,bt(c);case 10:n=e.sent,u(n),e.next=18;break;case 14:return e.next=16,ft(c);case 16:r=e.sent,u(r);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a&&c?b():alert("Type and Id needs to be provided: /video/someid323423")}),[a,c,b]),r.a.createElement("div",{className:"viewer grid overflow-h"},s?"playlist"===a?r.a.createElement(it,s):"video"===a?r.a.createElement(st,{video:s}):r.a.createElement(ut,{sequence:s}):r.a.createElement("div",{className:"centered-grid bg-grey-dark"},"Loading..."))},mt=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("viewer","/playlist/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("viewer","/video/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("viewer","/sequence/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),pt=function(){return r.a.createElement("div",null,"404: Page Not Found")},Et=function(){return r.a.createElement("div",null,"403: You have no permission to access this page.")},Ot=function(){var e=Object(E.useGlobalState)("AUTH","pending"),t=Object(o.a)(e,1)[0];return r.a.createElement("div",{className:"app"},r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ot}),r.a.createElement(s.a,{exact:!0,path:"/viewer/:type/:id",component:dt}),r.a.createElement(s.a,{exact:!0,path:"/auth/:type",component:S}),"pending"===t?r.a.createElement("div",{className:"centered-grid"},r.a.createElement("h3",null,"Loading App...")):!0===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{exact:!0,path:"/dashboard",component:Ae}),r.a.createElement(s.a,{exact:!0,path:"/sequencer/:id",component:nt}))," ",r.a.createElement(s.a,{exact:!0,path:"/403",component:Et}),r.a.createElement(s.a,{path:["*","/404"],component:pt})),r.a.createElement(fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v(),p.auth().onAuthStateChanged(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?t.getIdToken().then(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("ID_TOKEN",t),Object(E.setGlobalState)("AUTH",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(localStorage.removeItem("ID_TOKEN"),Object(E.setGlobalState)("AUTH",!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},l.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,12,13]]]);
//# sourceMappingURL=main.dda07284.chunk.js.map