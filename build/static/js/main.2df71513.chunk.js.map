{"version":3,"sources":["views/dropbox.png","views/soundcloud.png","views/streamable.png","services/auth.ts","views/Auth.tsx","utils/request.ts","stores/folder.ts","stores/sequences.ts","stores/videos.ts","components/Hint.tsx","stores/playlists.ts","components/Dashboard/MenuFolder.tsx","components/Dashboard/Path.tsx","components/Dashboard/MenuItem.tsx","components/Modal.tsx","forms/Folder.tsx","forms/Video.tsx","forms/Playlist.tsx","forms/New.tsx","forms/SelectFolder.tsx","forms/Share.tsx","forms/Replay.tsx","components/Dashboard/DashboardHeader.tsx","components/Dashboard/Menu.tsx","components/Dashboard/DirectoryItem.tsx","components/Dashboard/Directory.tsx","stores/playlist_items.ts","components/Dashboard/Player.tsx","components/Dashboard/ListSearch.tsx","components/Dashboard/ListActions.tsx","components/Dashboard/ListSelection.tsx","components/Dashboard/ListList.tsx","components/Dashboard/List.tsx","views/Dashboard.tsx","utils/secondsToTime.ts","components/Sequencer/Tagger.tsx","components/Sequencer/SequencerListHeader.tsx","components/Sequencer/SequencerVideo.tsx","components/Sequencer/SequencerList.tsx","components/Sequencer/SequencerHeader.tsx","components/Sequencer/SequencerControls.tsx","components/Sequencer/SequencerActions.tsx","views/Sequencer.tsx","views/Landing.tsx","components/Viewer/PlaylistViewer.tsx","components/Viewer/VideoViewer.tsx","components/Viewer/SequenceViewer.tsx","views/Viewer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initFirebase","a","setGlobalState","firebase","console","log","register","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","currentUser","getIdToken","idToken","localStorage","setItem","Auth","type","match","params","push","history","useState","values","setValues","loading","setLoading","error","setError","handleChange","target","name","value","handleSubmit","e","preventDefault","className","onSubmit","capitalize","onChange","placeholder","alt","disabled","to","APIS","folders","videos","playlists","projects","sequences","viewer","request","api","path","options","url","fetch","headers","authorization","getItem","FOLDERS","DIRECTORY_TYPES","PLAYLIST","VIDEO","SEQUENCE","getFolders","res","json","data","postFolder","body","method","JSON","stringify","text","id","getGlobalState","patchFolder","newFolder","folder","map","f","deleteFolder","filter","SEQUENCES","moveSequences","folderId","ids","p","includes","addFolder","getSequences","postSequence","start","Number","stop","patchSequence","s","deleteSequences","status","alert","VIDEOS","moveVideos","getVideo","video","getVideos","postVideo","patchVideo","v","deleteVideo","closeHint","Hint","useGlobalState","hint","setHint","onClick","classList","contains","PLAYLISTS","movePlaylists","getPlaylists","postPlaylist","patchPlaylist","deletePlaylist","handleDragStart","closest","directory","dataTransfer","setData","MenuFolder","label","handleOpenFolder","handleSelectFolder","handleDrop","openFolders","selectedFolder","selectedDirectory","childFolders","open","selected","onDrop","onDragOver","draggable","onDragStart","stopPropagation","length","MODAL","component","props","i","key","getPath","find","parentFolder","Path","setSelectedFolder","playlistOpen","setPlaylistOpen","dropFolderId","dropFolder","parse","getData","dragFolderId","dragFolder","every","MenuItem","setSelectedDirectory","rootFolders","toUpperCase","toLowerCase","INITIAL_CONFIG","COMPONENTS","FOLDER","closeModal","setLabel","deletable","useMemo","reduce","prev","curr","Array","from","Set","handleDelete","window","confirm","folderLabel","setUrl","keywords","setKeywords","keyword","setKeyword","folderName","setFolderName","useEffect","usedPlaylistVideoIds","videoIds","items","split","usedSequenceVideoIds","videoId","VIDEO_DETECTED","ReactPlayer","canPlay","k","word","w","setItems","item","removeItem","NEW","SELECTFOLDER","onSelect","selectedFolderId","SHARE","navigator","clipboard","writeText","REPLAY","onReplay","Modal","modal","setModal","onClose","Object","keys","document","style","overflow","SelectedComponent","renderComponent","Header","menuOpen","setMenuOpen","profileOpen","setProfileOpen","addEventListener","onFocus","removeEventListener","readText","addUrl","add","handlePaste","Menu","DirectoryItem","handleSelect","handleEdit","onShare","handleKeywordClick","data-selected","handleShare","Directory","selectedPlaylists","setSelectedPlaylists","selectedVideos","setSelectedVideos","selectedSequences","setSelectedSequences","itemId","playlist","urls","newUrls","index","PLAYER_COUNT","openPlayer","count","Player","playing","setPlaying","playerReady","setPlayerReady","maximized","setMaximized","player","useRef","lastUrl","startPlayer","current","seekTo","undefined","height","width","pip","ref","onReady","onProgress","playedSeconds","event","CustomEvent","detail","dispatchEvent","onPlayerEnd","controls","ListSearch","ListActions","move","up","nextItem","currentIndex","findIndex","_","handleAdd","ListSelection","activePlaylist","handleRemove","handleSave","handlePlayerDone","itemIndex","ListList","filteredItems","selectedItems","position","Playlist","setFilteredItems","setSelectedItems","setActivePlaylist","vids","sequenceIds","seqs","addSequences","newSeqs","addVideos","newVids","addPlaylists","newItems","newVideos","newSequences","itemsToAdd","draggedItemIds","newDraggedItemIds","updatedItems","selection","Dashboard","secondsToTime","secs","minutes","Math","floor","String","ms","seconds","miliseconds","slice","handleControls","activeTime","setStart","setStop","resetTagger","editingSequence","SEQUENCER_VIDEO","handleStartClick","PLAYER_PROGRESS","time","toFixed","handleStopClick","handleDismiss","Tagger","setActiveTime","progress","ta","getElementById","focus","SequencerListHeader","search","setSearch","filtered","ready","timeout","SequencerVideo","selectedVideo","handleProgress","useCallback","playingSequences","playerState","progressInterval","SequencerList","sequenceId","activeSequenceId","setActiveSequenceId","playingSequenceIds","setEditingSequence","seekToSequence","editSequence","sequence","handleClick","clearTimeout","setTimeout","sortedSequences","sort","b","active","editing","data-active","data-playing","data-editing","SequencerHeader","targetFolderId","setTargetFolderId","targetFolder","SequencerControls","SequencerActions","KEY_EVENTS","0","10","127","37","38","39","40","handleKeyPress","keyCode","ctrlKey","Sequencer","location","q","videoSequences","dropbox","require","soundcloud","streamable","Landing","viewBox","preserveAspectRatio","focusable","pointerEvents","display","fill","d","points","xmlns","data-name","src","fill-rule","PlaylistViewer","activeItemId","setActiveItemId","counter","setCounter","currentItem","playNext","newItem","it","onEnded","VideoViewer","handleReplay","SequenceViewer","Viewer","getPlaylist","getSequence","App","auth","exact","Boolean","hostname","onAuthStateChanged","user","then","prototype","this","charAt","ReactDOM","render","serviceWorker","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.2df71513.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dropbox.bf6dfc1d.png\";","module.exports = __webpack_public_path__ + \"static/media/soundcloud.a9415b93.png\";","module.exports = \"data:image/png;base64,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\"","import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nimport { setGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const AUTH = \"AUTH\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB6BP4nchauDnzgyP02JY8w4HlKq-Hn0Co\",\r\n  authDomain: \"streaming-manager-dc49e.firebaseapp.com\",\r\n  databaseURL: \"https://streaming-manager-dc49e.firebaseio.com\",\r\n  projectId: \"streaming-manager-dc49e\",\r\n  storageBucket: \"streaming-manager-dc49e.appspot.com\",\r\n  messagingSenderId: \"1020740834639\",\r\n  appId: \"1:1020740834639:web:d1f9d9f36f771d1c97213a\",\r\n  measurementId: \"G-G26G4NTPC7\"\r\n};\r\n\r\nexport const setAuthObserver = () => {\r\n  firebase.auth().onAuthStateChanged(async (user) => {\r\n    if (user) {\r\n      user.getIdToken().then(async (idToken) => {\r\n        localStorage.setItem(\"ID_TOKEN\", idToken);\r\n        setGlobalState(AUTH, true);\r\n      });\r\n    } else {\r\n      localStorage.removeItem(\"ID_TOKEN\");\r\n      setGlobalState(AUTH, false);\r\n    }\r\n  });\r\n};\r\n\r\nexport const initFirebase = async () => {\r\n  try {\r\n    // @ts-ignore\r\n    setGlobalState(\"SIGNED\");\r\n    await firebase.initializeApp(firebaseConfig);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const register = async ({ email, password }) => {\r\n  try {\r\n    await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const login = async ({ email, password }) => {\r\n  try {\r\n    await firebase.auth().signInWithEmailAndPassword(email, password);\r\n    // @ts-ignore\r\n    const idToken = await firebase.auth().currentUser.getIdToken(false);\r\n    localStorage.setItem(\"ID_TOKEN\", idToken);\r\n    setGlobalState(AUTH, true);\r\n  } catch (error) {\r\n    setGlobalState(AUTH, false);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    await firebase.auth().signOut();\r\n    localStorage.removeItem(\"ID_TOKEN\");\r\n    setGlobalState(AUTH, false);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport default {\r\n  register,\r\n  login,\r\n  logout\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"./Auth.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { register, login } from \"../services/auth\";\r\n\r\nexport const Auth = ({\r\n  match: {\r\n    params: { type }\r\n  },\r\n  history: { push }\r\n}) => {\r\n  const [values, setValues] = useState({ email: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  console.log(error);\r\n\r\n  const handleChange = ({ target: { name, value } }) =>\r\n    setValues({ ...values, [name]: value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    if (type === \"login\") {\r\n      try {\r\n        await login(values);\r\n        push(\"/dashboard\");\r\n      } catch (error) {\r\n        setError(\"Auth Failed\");\r\n        push(\"/auth/login\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      try {\r\n        await register(values);\r\n        push(\"/auth/login\");\r\n      } catch (error) {\r\n        setError(\"Failed to register\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <main className=\"auth\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>{type.capitalize()}</h2>\r\n        <label className=\"form-field\">\r\n          Email\r\n          <input\r\n            type=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            name=\"email\"\r\n            placeholder='\"something@web.com\"'\r\n            alt=\"enter your email\"\r\n          />\r\n        </label>\r\n        <label className=\"form-field\">\r\n          Password\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Aa-1****\"\r\n            alt=\"enter your password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            name=\"password\"\r\n          />\r\n        </label>\r\n        <button disabled={loading} type=\"submit\">\r\n          {loading ? \"Submitting..\" : \"Submit\"}\r\n        </button>\r\n        <Link to={type === \"login\" ? \"/auth/register\" : \"/auth/login\"}>\r\n          {type === \"login\" ? \"Register\" : \"Login\"}\r\n        </Link>\r\n      </form>\r\n    </main>\r\n  );\r\n};\r\n","// const APIS = {\r\n//   folders:\r\n//     \"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/folders\",\r\n//   videos:\r\n//     \"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/videos\",\r\n//   playlists:\r\n//     \"https://us-central1-streaming-manager-dc49e.cloudfunctions.net/playlists\"\r\n// };\r\n\r\nconst APIS = {\r\n  folders: \"http://localhost:4000\",\r\n  videos: \"http://localhost:4001\",\r\n  playlists: \"http://localhost:4002\",\r\n  projects: \"http://localhost:4003\",\r\n  sequences: \"http://localhost:4004\",\r\n  viewer: \"http://localhost:4005\"\r\n};\r\n\r\nexport const request = (api: string, path: string = \"\", options: any = {}) => {\r\n  const url = APIS[api];\r\n\r\n  return fetch(`${url}${path}`, {\r\n    ...options,\r\n    headers: {\r\n      ...options.headers,\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: localStorage.getItem(\"ID_TOKEN\")\r\n    }\r\n  });\r\n};\r\n","import { request } from \"../utils/request\";\r\nimport { setGlobalState, getGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const FOLDERS = \"FOLDERS\";\r\nexport const SELECTED_FOLDER = \"SELECTED_FOLDER\";\r\nexport const OPEN_FOLDERS = \"OPEN_FOLDERS\";\r\n\r\nexport const SELECTED_FOLDER_VIDEO = \"SELECTED_FOLDER_VIDEO\";\r\nexport const SELECTED_FOLDER_PLAYLIST = \"SELECTED_FOLDER_PLAYLIST\";\r\nexport const SELECTED_FOLDER_SEQUENCE = \"SELECTED_FOLDER_SEQUENCE\";\r\n\r\nexport const SELECTED_DIRECTORY = \"SELECTED_DIRECTORY\";\r\nexport const DIRECTORY_TYPES = {\r\n  PLAYLIST: \"PLAYLIST\",\r\n  VIDEO: \"VIDEO\",\r\n  SEQUENCE: \"SEQUENCE\"\r\n};\r\n\r\nsetGlobalState(FOLDERS, []);\r\nsetGlobalState(SELECTED_FOLDER, null);\r\nsetGlobalState(OPEN_FOLDERS, []);\r\n\r\nsetGlobalState(SELECTED_DIRECTORY, DIRECTORY_TYPES.PLAYLIST);\r\n\r\nexport const getFolders = async () => {\r\n  try {\r\n    const res = await request(\"folders\");\r\n    const data = await res.json();\r\n    setGlobalState(FOLDERS, data);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const postFolder = async (body) => {\r\n  try {\r\n    const res = await request(\"folders\", \"\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body)\r\n    });\r\n    const id = await res.text();\r\n    const folders = getGlobalState(FOLDERS);\r\n    setGlobalState(FOLDERS, [...folders, { ...body, id }]);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const patchFolder = async ({ id, ...body }) => {\r\n  try {\r\n    await request(\"folders\", \"/\" + id, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(body)\r\n    });\r\n    const folders = getGlobalState(FOLDERS);\r\n    let newFolder = { ...body, id, folder: body.folder };\r\n    if (body.folder === \"root\") {\r\n      delete newFolder.folder;\r\n    }\r\n    console.log(newFolder);\r\n\r\n    setGlobalState(\r\n      FOLDERS,\r\n      folders.map(({ folder, ...f }) =>\r\n        f.id === id ? { ...f, ...newFolder } : { ...f, folder }\r\n      )\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteFolder = async (id) => {\r\n  try {\r\n    await request(\"folders\", \"/\" + id, { method: \"DELETE\" });\r\n    const folders = getGlobalState(FOLDERS);\r\n    setGlobalState(\r\n      FOLDERS,\r\n      folders.filter((f) => f.id !== id)\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { setGlobalState } from \"react-global-state-hook\";\r\nimport { getGlobalState } from \"react-global-state-hook\";\r\nimport { request } from \"../utils/request\";\r\n\r\nexport const SEQUENCES = \"SEQUENCES\";\r\nexport const FILTERED_SEQUENCES = \"FILTERED_SEQUENCES\";\r\nexport const SELECTED_SEQUENCES = \"SELECTED_SEQUENCES\";\r\nexport const SEQUENCER_TARGET = \"SEQUENCER_TARGET\";\r\nexport const EDITING_SEQUENCE = \"EDITING_SEQUENCE\";\r\n\r\nsetGlobalState(SEQUENCES, []);\r\nsetGlobalState(FILTERED_SEQUENCES, []);\r\nsetGlobalState(SELECTED_SEQUENCES, []);\r\nsetGlobalState(SEQUENCER_TARGET, null);\r\nsetGlobalState(EDITING_SEQUENCE, null);\r\n\r\nexport const moveSequences = async ({ folderId, ids, type }) => {\r\n  try {\r\n    await request(\"sequences\", `/moveTo/${folderId || \"root\"}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ ids, type })\r\n    });\r\n    const sequences = getGlobalState(SEQUENCES);\r\n    setGlobalState(\r\n      SEQUENCES,\r\n      sequences.map(({ folder, ...p }) => {\r\n        if (ids.includes(p.id)) {\r\n          const addFolder = folderId === \"root\" ? {} : { folder: folderId };\r\n          return {\r\n            ...p,\r\n            ...addFolder\r\n          };\r\n        } else {\r\n          return { ...p, folder };\r\n        }\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getSequences = async () => {\r\n  try {\r\n    const res = await request(\"sequences\");\r\n    const data = await res.json();\r\n    setGlobalState(SEQUENCES, data);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const postSequence = async (body) => {\r\n  try {\r\n    const res = await request(\"sequences\", \"\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        ...body,\r\n        start: Number(body.start),\r\n        stop: Number(body.stop)\r\n      })\r\n    });\r\n    const id = await res.text();\r\n    const sequences = getGlobalState(SEQUENCES);\r\n    setGlobalState(SEQUENCES, [...sequences, { ...body, id }]);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const patchSequence = async ({ id, ...body }) => {\r\n  try {\r\n    await request(\"sequences\", \"/\" + id, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(body)\r\n    });\r\n    const sequences = getGlobalState(SEQUENCES);\r\n    setGlobalState(\r\n      SEQUENCES,\r\n      sequences.map((s) => (s.id === id ? { ...body, id } : s))\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteSequences = async (id) => {\r\n  try {\r\n    const res = await request(\"sequences\", \"/\" + id, {\r\n      method: \"DELETE\"\r\n    });\r\n    if (res.status != 403) {\r\n      const folders = getGlobalState(SEQUENCES);\r\n      setGlobalState(\r\n        SEQUENCES,\r\n        folders.filter((f) => f.id !== id)\r\n      );\r\n    } else {\r\n      alert(\r\n        \"Sequences not deletable. At least one sequence is existing in at least one of your Playlist\"\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { SEQUENCES } from \"./sequences\";\r\nimport { request } from \"./../utils/request\";\r\nimport { setGlobalState, getGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const VIDEOS = \"VIDEOS\";\r\n\r\nsetGlobalState(VIDEOS, []);\r\n\r\nexport const moveVideos = async ({ folderId, ids, type }) => {\r\n  try {\r\n    await request(\"videos\", `/moveTo/${folderId || \"root\"}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ ids, type })\r\n    });\r\n    const videos = getGlobalState(VIDEOS);\r\n    setGlobalState(\r\n      VIDEOS,\r\n      videos.map(({ folder, ...p }) => {\r\n        if (ids.includes(p.id)) {\r\n          const addFolder = folderId === \"root\" ? {} : { folder: folderId };\r\n          return {\r\n            ...p,\r\n            ...addFolder\r\n          };\r\n        } else {\r\n          return { ...p, folder };\r\n        }\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getVideo = async (id) => {\r\n  try {\r\n    const res = await request(\"videos\", \"/\" + id);\r\n    const data = await res.json();\r\n\r\n    setGlobalState(VIDEOS, [data.video]);\r\n    setGlobalState(SEQUENCES, data.sequences);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getVideos = async () => {\r\n  try {\r\n    const res = await request(\"videos\");\r\n    const data = await res.json();\r\n    setGlobalState(VIDEOS, data);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const postVideo = async (values) => {\r\n  try {\r\n    const res = await request(\"videos\", \"\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(values)\r\n    });\r\n    const id = await res.text();\r\n    const videos = getGlobalState(VIDEOS);\r\n    setGlobalState(VIDEOS, [...videos, { id, ...values }]);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const patchVideo = async ({ id, ...values }) => {\r\n  try {\r\n    await request(\"videos\", \"/\" + id, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(values)\r\n    });\r\n    const videos = getGlobalState(VIDEOS);\r\n    setGlobalState(\r\n      VIDEOS,\r\n      videos.map((v) => (v.id === id ? { id, ...values } : v))\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteVideo = async (id) => {\r\n  try {\r\n    await request(\"videos\", \"/\" + id, {\r\n      method: \"DELETE\"\r\n    });\r\n    const videos = getGlobalState(VIDEOS);\r\n    setGlobalState(\r\n      VIDEOS,\r\n      videos.filter((v) => v.id !== id)\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport \"./Hint.scss\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const HINT = \"HINT\";\r\n\r\nexport const closeHint = () => {\r\n  setGlobalState(HINT, null);\r\n};\r\n\r\nexport const Hint = () => {\r\n  const [hint, setHint] = useGlobalState(HINT, null);\r\n\r\n  if (hint === null) {\r\n    return null;\r\n  }\r\n\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains(\"hint\")) {\r\n      setHint(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={handleClick} className=\"hint\">\r\n      {hint}\r\n      <i onClick={closeHint} className=\"material-icons\">\r\n        close\r\n      </i>\r\n    </div>\r\n  );\r\n};\r\n","import { VIDEOS } from \"./videos\";\r\nimport { HINT } from \"./../components/Hint\";\r\nimport { request } from \"../utils/request\";\r\nimport { setGlobalState, getGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const PLAYLISTS = \"PLAYLISTS\";\r\nexport const PLAYLIST_OPEN = \"PLAYLIST_OPEN\";\r\nexport const ACTIVE_PLAYLIST = \"ACTIVE_PLAYLIST\";\r\n\r\nsetGlobalState(PLAYLISTS, []);\r\nsetGlobalState(PLAYLIST_OPEN, true);\r\nsetGlobalState(ACTIVE_PLAYLIST, null);\r\n\r\nexport const movePlaylists = async ({ folderId, ids, type }) => {\r\n  try {\r\n    await request(\"folders\", `/moveTo/${folderId || \"root\"}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ ids, type })\r\n    });\r\n    const playlists = getGlobalState(PLAYLISTS);\r\n    setGlobalState(\r\n      PLAYLISTS,\r\n      playlists.map(({ folder, ...p }) => {\r\n        if (ids.includes(p.id)) {\r\n          const addFolder = folderId === \"root\" ? {} : { folder: folderId };\r\n          return {\r\n            ...p,\r\n            ...addFolder\r\n          };\r\n        } else {\r\n          return { ...p, folder };\r\n        }\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// this is only used\r\nexport const getPlaylist = async (id) => {\r\n  try {\r\n    const res = await request(\"playlists\", \"/\" + id);\r\n    const data = await res.json();\r\n    // playlist should either exist because when the user loads the app it gets all users objects\r\n    // otherwise the user is directly put to the sequencer and the certain object needs to be fetched and added to store\r\n    setGlobalState(VIDEOS, data.videos);\r\n    setGlobalState(PLAYLISTS, [data.playlist]);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getPlaylists = async () => {\r\n  try {\r\n    const res = await request(\"playlists\");\r\n    const data = await res.json();\r\n    setGlobalState(PLAYLISTS, data);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const postPlaylist = async (values) => {\r\n  try {\r\n    const res = await request(\"playlists\", \"\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(values)\r\n    });\r\n    const id = await res.text();\r\n    const playlists = getGlobalState(PLAYLISTS);\r\n    setGlobalState(PLAYLISTS, [...playlists, { id, ...values }]);\r\n    setGlobalState(ACTIVE_PLAYLIST, id);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const patchPlaylist = async ({ id, ...values }) => {\r\n  try {\r\n    await request(\"playlists\", \"/\" + id, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(values)\r\n    });\r\n    const playlists = getGlobalState(PLAYLISTS);\r\n    setGlobalState(\r\n      PLAYLISTS,\r\n      playlists.map((v) => (v.id === id ? { id, ...values } : v))\r\n    );\r\n    setGlobalState(HINT, \"Playlist updated successfully.\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deletePlaylist = async (id) => {\r\n  try {\r\n    await request(\"playlists\", \"/\" + id, { method: \"DELETE\" });\r\n    const playlists = getGlobalState(PLAYLISTS);\r\n    setGlobalState(\r\n      PLAYLISTS,\r\n      playlists.filter((f) => f.id !== id)\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport {\r\n  OPEN_FOLDERS,\r\n  DIRECTORY_TYPES,\r\n  SELECTED_DIRECTORY\r\n} from \"../../stores/folder\";\r\nimport { MODAL } from \"../Modal\";\r\n\r\nconst handleDragStart = (e) => {\r\n  const folderId = e.target.closest(\".folder\").id;\r\n  const directory = e.target.closest(\".folder\").classList[0];\r\n\r\n  e.dataTransfer.setData(\r\n    \"text/plain\",\r\n    JSON.stringify({ ids: [folderId], type: \"FOLDER\", directory })\r\n  );\r\n};\r\n\r\nexport const MenuFolder = ({\r\n  folders,\r\n  id,\r\n  folder,\r\n  label,\r\n  directory,\r\n  handleOpenFolder,\r\n  handleSelectFolder,\r\n  handleDrop\r\n}) => {\r\n  const [openFolders] = useGlobalState(OPEN_FOLDERS);\r\n  const [selectedFolder] = useGlobalState(\r\n    `SELECTED_FOLDER_${DIRECTORY_TYPES[directory]}`\r\n  );\r\n  const [selectedDirectory] = useGlobalState(SELECTED_DIRECTORY);\r\n\r\n  const childFolders = folders.filter((f) => f.folder === id);\r\n\r\n  const open = openFolders.includes(id);\r\n  const selected = selectedFolder === id && directory === selectedDirectory;\r\n\r\n  const handleEdit = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"folder\",\r\n      props: { id, label, folder, directory }\r\n    });\r\n  };\r\n\r\n  const handleSelect = (e) => {\r\n    e.stopPropagation();\r\n    handleSelectFolder(id, directory);\r\n    setGlobalState(SELECTED_DIRECTORY, DIRECTORY_TYPES[directory]);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onDrop={handleDrop}\r\n      onDragOver={(e) => e.preventDefault()}\r\n      className={`${directory} folder ${open ? \"open\" : \"\"} ${\r\n        selected ? \"selected\" : \"\"\r\n      }`}\r\n      id={id}\r\n    >\r\n      <div\r\n        draggable={true}\r\n        onDragStart={handleDragStart}\r\n        onClick={handleSelect}\r\n        className=\"folder_header\"\r\n      >\r\n        {childFolders.length !== 0 ? (\r\n          <i onClick={() => handleOpenFolder(id)} className=\"material-icons\">\r\n            keyboard_arrow_right\r\n          </i>\r\n        ) : (\r\n          <i className=\"material-icons no_child_folder\">keyboard_arrow_right</i>\r\n        )}\r\n        <label>{label}</label>\r\n        <i onClick={handleEdit} className=\"material-icons\">\r\n          more_vert\r\n        </i>\r\n      </div>\r\n      <div className=\"folder_folders\">\r\n        {open &&\r\n          childFolders.map((f, i) => (\r\n            <MenuFolder\r\n              {...f}\r\n              handleOpenFolder={handleOpenFolder}\r\n              handleSelectFolder={handleSelectFolder}\r\n              handleDrop={handleDrop}\r\n              key={i}\r\n              folders={folders}\r\n              directory={directory}\r\n            />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Path.scss\";\r\n\r\nimport { useGlobalState } from \"react-global-state-hook\";\r\nimport {\r\n  FOLDERS,\r\n  SELECTED_DIRECTORY,\r\n  DIRECTORY_TYPES\r\n} from \"../../stores/folder\";\r\nimport { PLAYLIST_OPEN } from \"../../stores/playlists\";\r\n\r\nexport const getPath = (\r\n  id: string | null,\r\n  folders: {\r\n    id: string;\r\n    label: string;\r\n  }[],\r\n  path: { id: string | null; label: string }[] = []\r\n) => {\r\n  const folder: any = folders.find((f) => f.id === id);\r\n\r\n  if (!folder) {\r\n    return path;\r\n  }\r\n  if (folder && !folder.folder) {\r\n    return [{ id, label: folder.label }, ...path];\r\n  }\r\n  const parentFolder = folders.find((f) => f.id === folder.folder) || {\r\n    id: null,\r\n    label: \"Root\"\r\n  };\r\n\r\n  return getPath(parentFolder.id, folders, [\r\n    { id: folder.folder, label: folder.label },\r\n    ...path\r\n  ]);\r\n};\r\n\r\nexport const Path = () => {\r\n  const [selectedDirectory] = useGlobalState(SELECTED_DIRECTORY);\r\n  const [folders] = useGlobalState(FOLDERS);\r\n  const [selectedFolder, setSelectedFolder] = useGlobalState(\r\n    `SELECTED_FOLDER_${DIRECTORY_TYPES[selectedDirectory]}`\r\n  );\r\n  const [playlistOpen, setPlaylistOpen] = useGlobalState(PLAYLIST_OPEN);\r\n\r\n  const path = getPath(selectedFolder, folders);\r\n\r\n  const handleDirClick = () => setSelectedFolder(null);\r\n\r\n  return (\r\n    <div className=\"path\">\r\n      <div>\r\n        <div onClick={handleDirClick}>\r\n          <i className=\"material-icons\">folder</i>\r\n        </div>\r\n        {path.map((p, i) => {\r\n          return (\r\n            <div key={i} onClick={() => setSelectedFolder(p.id)}>\r\n              <i className=\"material-icons\">keyboard_arrow_right</i>\r\n              {p.label}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <button onClick={() => setPlaylistOpen(!playlistOpen)}>\r\n        <i className=\"material-icons\">\r\n          {playlistOpen ? \"keyboard_arrow_right\" : \"keyboard_arrow_left\"}\r\n        </i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  getGlobalState,\r\n  setGlobalState,\r\n  useGlobalState\r\n} from \"react-global-state-hook\";\r\nimport {\r\n  OPEN_FOLDERS,\r\n  SELECTED_DIRECTORY,\r\n  DIRECTORY_TYPES,\r\n  FOLDERS,\r\n  SELECTED_FOLDER,\r\n  patchFolder\r\n} from \"../../stores/folder\";\r\nimport { movePlaylists } from \"../../stores/playlists\";\r\nimport { moveVideos } from \"../../stores/videos\";\r\nimport { moveSequences } from \"../../stores/sequences\";\r\nimport { MenuFolder } from \"./MenuFolder\";\r\nimport { getPath } from \"./Path\";\r\n\r\nconst handleSelectFolder = (id, directory) => {\r\n  setGlobalState(SELECTED_FOLDER, id);\r\n  setGlobalState(`SELECTED_FOLDER_${DIRECTORY_TYPES[directory]}`, id);\r\n};\r\n\r\nconst handleDrop = async (e) => {\r\n  e.stopPropagation();\r\n  const folders = getGlobalState(FOLDERS);\r\n  const dropFolderId = e.target.closest(\".folder\").id;\r\n  const dropFolder = folders.find((f) => f.id === dropFolderId);\r\n\r\n  const { ids, type, directory } = JSON.parse(\r\n    e.dataTransfer.getData(\"text/plain\")\r\n  );\r\n\r\n  if (type === \"FOLDER\") {\r\n    //  drop folder on folder, need to check if fodler types are matching\r\n    const dragFolderId = ids[0];\r\n    const dragFolder = folders.find((f) => f.id === dragFolderId);\r\n\r\n    const path = getPath(dropFolderId, folders, []);\r\n    const isOutOfPath = path.every((p) => p.id !== dragFolderId);\r\n\r\n    if (!isOutOfPath) {\r\n      alert(\"Cant push into own path\");\r\n    } else if (directory === dragFolder.directory) {\r\n      patchFolder({ id: dragFolderId, folder: dropFolderId || \"root\" });\r\n    }\r\n  } else if (\r\n    !dropFolderId ||\r\n    type === directory ||\r\n    type === dropFolder.directory\r\n  ) {\r\n    // restricts movement into different directory\r\n    if (type === DIRECTORY_TYPES.PLAYLIST) {\r\n      movePlaylists({ folderId: dropFolderId, ids, type });\r\n    } else if (type === DIRECTORY_TYPES.VIDEO) {\r\n      moveVideos({ folderId: dropFolderId, ids, type });\r\n    } else {\r\n      moveSequences({ folderId: dropFolderId, ids, type });\r\n    }\r\n  }\r\n};\r\n\r\nconst handleOpenFolder = (id) => {\r\n  const openFolders = getGlobalState(OPEN_FOLDERS);\r\n  if (openFolders.includes(id)) {\r\n    setGlobalState(\r\n      OPEN_FOLDERS,\r\n      openFolders.filter((f) => f !== id)\r\n    );\r\n  } else {\r\n    setGlobalState(OPEN_FOLDERS, [...openFolders, id]);\r\n  }\r\n};\r\n\r\nexport const MenuItem = ({ folders, directory }) => {\r\n  const [selectedDirectory, setSelectedDirectory] = useGlobalState(\r\n    SELECTED_DIRECTORY\r\n  );\r\n  const rootFolders = folders.filter(\r\n    (f) => !f.folder && f.directory === directory\r\n  );\r\n\r\n  const handleSelect = () => {\r\n    handleOpenFolder(null);\r\n    handleSelectFolder(null, directory);\r\n    setSelectedDirectory(DIRECTORY_TYPES[directory]);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onDrop={handleDrop}\r\n      onDragOver={(e) => e.preventDefault()}\r\n      onClick={handleSelect}\r\n      id=\"\"\r\n      className={`menu_item folder ${\r\n        selectedDirectory === DIRECTORY_TYPES[directory.toUpperCase()]\r\n          ? \"selected\"\r\n          : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"menu_item_header\">\r\n        <i className=\"material-icons\">\r\n          {directory === DIRECTORY_TYPES.PLAYLIST\r\n            ? \"playlist_play\"\r\n            : directory === DIRECTORY_TYPES.VIDEO\r\n            ? \"subscriptions\"\r\n            : \"open_in_full\"}\r\n        </i>\r\n        <label>\r\n          {DIRECTORY_TYPES[directory].toLowerCase().capitalize() + \"s\"}\r\n        </label>\r\n      </div>\r\n      <div className=\"folder_folders\">\r\n        {rootFolders.map((f, i) => {\r\n          return (\r\n            <MenuFolder\r\n              {...f}\r\n              handleOpenFolder={handleOpenFolder}\r\n              handleSelectFolder={handleSelectFolder}\r\n              handleDrop={handleDrop}\r\n              key={i}\r\n              folders={folders}\r\n              directory={directory}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Modal.scss\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport { Folder } from \"../forms/Folder\";\r\nimport { Video } from \"../forms/Video\";\r\nimport { Playlist } from \"../forms/Playlist\";\r\nimport { New } from \"../forms/New\";\r\nimport { SelectFolder } from \"../forms/SelectFolder\";\r\nimport { Share } from \"../forms/Share\";\r\nimport { Replay } from \"../forms/Replay\";\r\n\r\nexport const MODAL = \"MODAL\";\r\n\r\nconst INITIAL_CONFIG = {\r\n  component: \"\",\r\n  props: {}\r\n};\r\n\r\nconst COMPONENTS = {\r\n  FOLDER: Folder,\r\n  VIDEO: Video,\r\n  PLAYLIST: Playlist,\r\n  NEW: New,\r\n  SELECTFOLDER: SelectFolder,\r\n  SHARE: Share,\r\n  REPLAY: Replay\r\n};\r\n\r\nexport const Modal = () => {\r\n  const [modal, setModal] = useGlobalState(MODAL, INITIAL_CONFIG);\r\n\r\n  const component = modal.component.toUpperCase();\r\n\r\n  const closeModal = () => {\r\n    if (modal.onClose) {\r\n      modal.onClose();\r\n    }\r\n    setGlobalState(MODAL, INITIAL_CONFIG);\r\n  };\r\n\r\n  if (!Object.keys(COMPONENTS).includes(component)) {\r\n    document.body.style.overflow = \"auto\";\r\n    return null;\r\n  }\r\n\r\n  const handleClick = (e) => {\r\n    if (e.target.classList.contains(\"modal\")) {\r\n      setModal(INITIAL_CONFIG);\r\n    }\r\n  };\r\n\r\n  const renderComponent = (component: string) => {\r\n    const SelectedComponent = COMPONENTS[component];\r\n\r\n    return (\r\n      <SelectedComponent\r\n        onClick={(e) => e.stopPropagation()}\r\n        {...modal.props}\r\n        closeModal={closeModal}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div onClick={handleClick} className=\"modal\">\r\n      {renderComponent(component)}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useMemo } from \"react\";\r\nimport {\r\n  patchFolder,\r\n  postFolder,\r\n  deleteFolder,\r\n  FOLDERS,\r\n  DIRECTORY_TYPES\r\n} from \"../stores/folder\";\r\nimport { getGlobalState, useGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const Folder = ({ onSubmit, closeModal, id, directory, ...values }) => {\r\n  const [folders] = useGlobalState(FOLDERS);\r\n  const [folder] = useState(\r\n    id\r\n      ? values.folder\r\n      : getGlobalState(`SELECTED_FOLDER_${DIRECTORY_TYPES[directory]}`)\r\n  );\r\n  const [label, setLabel] = useState(values.label || \"\");\r\n\r\n  const deletable = useMemo(() => {\r\n    const usedFolderIds = getGlobalState(\r\n      DIRECTORY_TYPES[directory] + \"S\"\r\n    ).reduce((prev, curr) => {\r\n      return Array.from(new Set([...prev, curr.folder]));\r\n    }, []);\r\n    return !usedFolderIds.includes(id);\r\n  }, [id, directory]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const addFolder = !folder ? {} : { folder };\r\n    if (id) {\r\n      await patchFolder({ id, label, ...addFolder });\r\n      closeModal();\r\n    } else {\r\n      await postFolder({ label, directory, ...addFolder });\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (deletable) {\r\n      const confirmed = window.confirm(\"Deleting Folder\");\r\n      if (confirmed) {\r\n        await deleteFolder(id);\r\n        closeModal();\r\n      }\r\n    } else {\r\n      alert(\r\n        \"Folder is not empty. Please move or delete all playlists in this folder before you delete it.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const { label: folderLabel } = folders.find((f) => f.id === folder) || {\r\n    label: directory.toLowerCase().capitalize() + \"s\"\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-header\">\r\n        <h3>\r\n          {`${id ? \"Edit Folder in\" : \"Add Folder to\"} ${folderLabel}`}\r\n          <button onClick={handleDelete} disabled={!deletable} type=\"button\">\r\n            <i className=\"material-icons\">delete</i>\r\n          </button>\r\n        </h3>\r\n      </div>\r\n      <div className=\"form-body\">\r\n        <label>\r\n          Label\r\n          <input\r\n            name=\"folderName\"\r\n            alt=\"enter folder name\"\r\n            type=\"text\"\r\n            value={label}\r\n            onChange={({ target: { value } }) => setLabel(value)}\r\n          />\r\n        </label>\r\n        <button type=\"submit\">Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { patchVideo, postVideo, deleteVideo } from \"../stores/videos\";\r\nimport { getGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { VIDEO_DETECTED } from \"../components/Dashboard/DashboardHeader\";\r\nimport {\r\n  SELECTED_FOLDER_VIDEO,\r\n  FOLDERS,\r\n  DIRECTORY_TYPES\r\n} from \"../stores/folder\";\r\nimport { PLAYLISTS } from \"../stores/playlists\";\r\nimport { SEQUENCES } from \"../stores/sequences\";\r\n\r\nexport const Video = ({ onSubmit, closeModal, id, ...values }) => {\r\n  const [label, setLabel] = useState(values.label || \"\");\r\n  const [url, setUrl] = useState(values.url || \"\");\r\n  const [keywords, setKeywords] = useState(values.keywords || []);\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [folderName, setFolderName] = useState(\"\");\r\n\r\n  const folderId = getGlobalState(SELECTED_FOLDER_VIDEO) || \"root\";\r\n  const folder = getGlobalState(FOLDERS).find((f) => f.id === folderId);\r\n\r\n  useEffect(() => {\r\n    const folders = getGlobalState(FOLDERS);\r\n    const folder = folders.find((f) => f.id === values.folder);\r\n    if (folder) {\r\n      setFolderName(folder.label);\r\n    } else {\r\n      setFolderName(\"Root Directory\");\r\n    }\r\n  }, [values]);\r\n\r\n  const deletable = useMemo(() => {\r\n    const usedPlaylistVideoIds = getGlobalState(PLAYLISTS).reduce(\r\n      (prev, curr) => {\r\n        const videoIds = curr.items\r\n          .filter((i) => i.split(\":\")[0] === DIRECTORY_TYPES.VIDEO)\r\n          .map((i) => i.split(\":\")[1]);\r\n        return Array.from(new Set([...prev, ...videoIds]));\r\n      },\r\n      []\r\n    );\r\n    const usedSequenceVideoIds = getGlobalState(SEQUENCES).reduce(\r\n      (prev, curr) => {\r\n        return Array.from(new Set([...prev, curr.videoId]));\r\n      },\r\n      []\r\n    );\r\n\r\n    const isUnused = !Array.from(\r\n      new Set([...usedPlaylistVideoIds, ...usedSequenceVideoIds])\r\n    ).includes(id);\r\n    return isUnused;\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (id) {\r\n      await patchVideo({ id, url, label, keywords });\r\n      closeModal();\r\n    } else {\r\n      const addFolder = folderId === \"root\" ? {} : { folder: folderId };\r\n      await postVideo({\r\n        url,\r\n        label,\r\n        keywords,\r\n        ...addFolder\r\n      });\r\n      closeModal();\r\n      setGlobalState(VIDEO_DETECTED, false);\r\n    }\r\n  };\r\n\r\n  const handleAddKeyword = (e) => {\r\n    e.preventDefault();\r\n    setKeywords([...keywords, keyword]);\r\n    setKeyword(\"\");\r\n  };\r\n\r\n  const handleRemove = (word) =>\r\n    setKeywords(keywords.filter((w) => w !== word));\r\n\r\n  const handleChangeUrl = ({ target: { value } }) => {\r\n    if (ReactPlayer.canPlay(value) || value === \"\") {\r\n      setUrl(value);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (\r\n      deletable &&\r\n      window.confirm(\"Are you sure you want to delete this video?\")\r\n    ) {\r\n      await deleteVideo(id);\r\n      closeModal();\r\n    } else {\r\n      alert(\"Video is used in playlists and/or sequences\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-header\">\r\n        <h3>\r\n          {`${id ? \"Edit Video\" : \"Post Video\"} to ${\r\n            folder ? folder.label : \"Root\"\r\n          }`}\r\n          {/* type = \"button\" otehrwise itll submit form */}\r\n          <button type=\"button\" onClick={handleDelete} disabled={!deletable}>\r\n            <i className=\"material-icons\">delete</i>\r\n          </button>\r\n        </h3>\r\n        <div className=\"form-folder\">\r\n          <i className=\"material-icons\">folder</i>\r\n          {folderName}\r\n        </div>\r\n      </div>\r\n      <div className=\"form-body\">\r\n        <label>\r\n          Label\r\n          <input\r\n            name=\"videoName\"\r\n            alt=\"enter video name\"\r\n            type=\"text\"\r\n            value={label}\r\n            onChange={({ target: { value } }) => setLabel(value)}\r\n          />\r\n        </label>\r\n        <label>\r\n          Url\r\n          <input\r\n            disabled={!!id}\r\n            name=\"url\"\r\n            alt=\"enter url name\"\r\n            placeholder=\"Insert Video Link\"\r\n            type=\"text\"\r\n            value={url}\r\n            onChange={handleChangeUrl}\r\n          />\r\n        </label>\r\n        <label className=\"keywords\">\r\n          Keywords\r\n          <input\r\n            type=\"text\"\r\n            value={keyword}\r\n            placeholder=\"Add keyword..\"\r\n            alt=\"add keyword\"\r\n            onChange={({ target: { value } }) => setKeyword(value)}\r\n          />\r\n          <button onClick={handleAddKeyword}>\r\n            <i className=\"material-icons\">add</i>\r\n          </button>\r\n        </label>\r\n        <ul className=\"keywords-list\">\r\n          {keywords.map((k, i) => (\r\n            <li key={i}>\r\n              {k}\r\n              <i onClick={() => handleRemove(k)} className=\"material-icons\">\r\n                close\r\n              </i>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button type=\"submit\">Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  patchPlaylist,\r\n  postPlaylist,\r\n  deletePlaylist\r\n} from \"../stores/playlists\";\r\nimport { getGlobalState, useGlobalState } from \"react-global-state-hook\";\r\nimport { FOLDERS, DIRECTORY_TYPES } from \"../stores/folder\";\r\nimport { VIDEOS } from \"../stores/videos\";\r\nimport { SEQUENCES } from \"../stores/sequences\";\r\n\r\nexport const Playlist = ({ onSubmit, closeModal, id, ...values }) => {\r\n  const [label, setLabel] = useState(values.label || \"\");\r\n  const [items, setItems] = useState(values.items || []);\r\n  const [keywords, setKeywords] = useState(values.keywords || []);\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [folderName, setFolderName] = useState(\"\");\r\n  const [videos] = useGlobalState(VIDEOS);\r\n  const [sequences] = useGlobalState(SEQUENCES);\r\n\r\n  useEffect(() => {\r\n    const folders = getGlobalState(FOLDERS);\r\n    const folder = folders.find((f) => f.id === values.folder);\r\n    if (folder) {\r\n      setFolderName(folder.label);\r\n    } else {\r\n      setFolderName(\"Root Directory\");\r\n    }\r\n  }, [values]);\r\n\r\n  const handleAddKeyword = (e) => {\r\n    e.preventDefault();\r\n    setKeywords([...keywords, keyword]);\r\n    setKeyword(\"\");\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const confirmed = window.confirm(\"Deleting Playlist\");\r\n    if (confirmed) {\r\n      await deletePlaylist(id);\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const handleRemove = (word) =>\r\n    setKeywords(keywords.filter((w) => w !== word));\r\n\r\n  const removeItem = (id) =>\r\n    setItems(items.filter((i) => i.split(\":\")[0] !== id));\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (id) {\r\n      await patchPlaylist({\r\n        id,\r\n        items,\r\n        label,\r\n        keywords\r\n      });\r\n      closeModal();\r\n    } else {\r\n      await postPlaylist({ items, label, keywords });\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-header\">\r\n        <h3>\r\n          {`${id ? \"Edit Playlist\" : \"Post Playlist\"}`}{\" \"}\r\n          <i onClick={handleDelete} className=\"material-icons\">\r\n            delete\r\n          </i>\r\n        </h3>\r\n        <div className=\"form-folder\">\r\n          <i className=\"material-icons\">folder</i>\r\n          {folderName}\r\n        </div>\r\n      </div>\r\n      <div className=\"form-body\">\r\n        <label>\r\n          Label\r\n          <input\r\n            name=\"playlistName\"\r\n            placeholder=\"'My Playlist'\"\r\n            alt=\"enter playlist name\"\r\n            type=\"text\"\r\n            value={label}\r\n            onChange={({ target: { value } }) => setLabel(value)}\r\n          />\r\n        </label>\r\n        <ul className=\"links\">\r\n          {items.length === 0 ? (\r\n            <li>No Videos selected</li>\r\n          ) : (\r\n            items.map((item, i) => {\r\n              const [type, id] = item.split(\":\");\r\n              const { label } =\r\n                type === DIRECTORY_TYPES.VIDEO\r\n                  ? videos.find((v) => v.id === id)\r\n                  : sequences.find((s) => s.id === id);\r\n              return (\r\n                <li id={i}>\r\n                  {label}\r\n                  <i\r\n                    onClick={() => removeItem(item)}\r\n                    className=\"material-icons\"\r\n                  >\r\n                    close\r\n                  </i>\r\n                </li>\r\n              );\r\n            })\r\n          )}\r\n        </ul>\r\n        <label className=\"keywords\">\r\n          Keywords\r\n          <input\r\n            type=\"text\"\r\n            value={keyword}\r\n            placeholder=\"Add keyword..\"\r\n            alt=\"add keyword\"\r\n            onChange={({ target: { value } }) => setKeyword(value)}\r\n          />\r\n          <button onClick={handleAddKeyword}>\r\n            <i className=\"material-icons\">add</i>\r\n          </button>\r\n        </label>\r\n        <ul className=\"keywords-list\">\r\n          {keywords.map((k, i) => (\r\n            <li key={i}>\r\n              {k}\r\n              <i onClick={() => handleRemove(k)} className=\"material-icons\">\r\n                close\r\n              </i>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button type=\"submit\">Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { setGlobalState } from \"react-global-state-hook\";\r\nimport { MODAL } from \"../components/Modal\";\r\nimport { DIRECTORY_TYPES } from \"../stores/folder\";\r\n\r\nexport const New = ({ closeModal }) => {\r\n  const openFolder = () => {\r\n    closeModal();\r\n    setGlobalState(MODAL, {\r\n      component: \"folder\"\r\n    });\r\n  };\r\n\r\n  const openVideo = () => {\r\n    closeModal();\r\n    setGlobalState(MODAL, {\r\n      component: DIRECTORY_TYPES.VIDEO\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form className=\"form-new\">\r\n      <div className=\"form-header\">\r\n        <h3>Add New</h3>\r\n      </div>\r\n      <div className=\"form-body\">\r\n        <div onClick={openFolder}>\r\n          <i className=\"material-icons\">folder</i>\r\n          <label>Folder</label>\r\n        </div>\r\n        <div onClick={openVideo}>\r\n          <i className=\"material-icons\">ondemand_video</i>\r\n          <label>Video</label>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useMemo, useEffect } from \"react\";\r\nimport { MenuItem } from \"../components/Dashboard/MenuItem\";\r\nimport {\r\n  DIRECTORY_TYPES,\r\n  FOLDERS,\r\n  SELECTED_FOLDER_SEQUENCE\r\n} from \"../stores/folder\";\r\nimport { useGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const SelectFolder = ({ onSelect }) => {\r\n  const [folders] = useGlobalState(FOLDERS);\r\n  const [selectedFolderId] = useGlobalState(SELECTED_FOLDER_SEQUENCE);\r\n\r\n  const selectedFolder = useMemo(\r\n    () => folders.find((f) => f.id === selectedFolderId),\r\n    [folders, selectedFolderId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    onSelect(selectedFolderId);\r\n  }, [selectedFolderId, onSelect]);\r\n\r\n  return (\r\n    <div className=\"select-folder\">\r\n      <h3>{`${\r\n        selectedFolder ? selectedFolder.label : \"Root Folder\"\r\n      } Selected`}</h3>\r\n      <MenuItem directory={DIRECTORY_TYPES.SEQUENCE} folders={folders} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useMemo } from \"react\";\r\nimport { DIRECTORY_TYPES } from \"../stores/folder\";\r\nimport { getGlobalState } from \"react-global-state-hook\";\r\nimport { VIDEOS } from \"../stores/videos\";\r\nimport { SEQUENCES } from \"../stores/sequences\";\r\nimport { PLAYLISTS } from \"../stores/playlists\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Share = ({ type, id, closeModal }) => {\r\n  const item = useMemo(() => {\r\n    if (type === DIRECTORY_TYPES.VIDEO) {\r\n      return getGlobalState(VIDEOS).find((v) => v.id === id);\r\n    } else if (type === DIRECTORY_TYPES.SEQUENCE) {\r\n      return getGlobalState(SEQUENCES).find((s) => s.id === id);\r\n    } else if (type === DIRECTORY_TYPES.PLAYLIST) {\r\n      return getGlobalState(PLAYLISTS).find((p) => p.id);\r\n    }\r\n  }, [type, id]);\r\n\r\n  const url = `http://localhost:3000`;\r\n  const path = `/viewer/${type.toLowerCase()}/${id}`;\r\n\r\n  const handleCopy = () => navigator.clipboard.writeText(url + path);\r\n\r\n  return (\r\n    <form className=\"share\">\r\n      <h2>{`Share ${type.toLowerCase().capitalize()}: ${item.label}`}</h2>\r\n      <div>\r\n        <small>Share this Link with someone :)</small>\r\n        <p>{url + path}</p>\r\n        <i onClick={handleCopy} className=\"material-icons\">\r\n          content_copy\r\n        </i>\r\n      </div>\r\n      <Link to={path} onClick={closeModal}>\r\n        Open Link\r\n        <i className=\"material-icons\">open_in_new</i>\r\n      </Link>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Replay = ({ closeModal, onReplay }) => {\r\n  const handleReplay = () => {\r\n    onReplay();\r\n    closeModal();\r\n  };\r\n  // can add feedback textfield\r\n  // when logged in add save button\r\n  // if not logged in show login button with info text\r\n  // that you could save this if you were logged in\r\n\r\n  return (\r\n    <form className=\"viewer_modal\">\r\n      <button type=\"button\" onClick={handleReplay}>\r\n        <i className=\"material-icons\">replay</i>\r\n        Replay\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport \"./DashboardHeader.scss\";\r\n\r\nimport {\r\n  useGlobalState,\r\n  setGlobalState,\r\n  getGlobalState\r\n} from \"react-global-state-hook\";\r\nimport { MODAL } from \"../Modal\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { postVideo, VIDEOS } from \"../../stores/videos\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\n\r\nexport const VIDEO_DETECTED = \"VIDEO_DETECTED\";\r\n\r\nexport const Header = () => {\r\n  const [menuOpen, setMenuOpen] = useGlobalState(\"MENU_OPEN\", true);\r\n  const [profileOpen, setProfileOpen] = useGlobalState(\"PROFILE_OPEN\", false);\r\n  const [url, setUrl] = useGlobalState(VIDEO_DETECTED);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"focus\", onFocus);\r\n    return () => {\r\n      window.removeEventListener(\"focus\", onFocus);\r\n    };\r\n  });\r\n\r\n  const onFocus = async () => {\r\n    const url = await navigator.clipboard.readText();\r\n    addUrl(url);\r\n  };\r\n\r\n  const handleChangeUrl = ({ target: { value } }) => {\r\n    addUrl(value);\r\n  };\r\n\r\n  const addUrl = (url) => {\r\n    const videos = getGlobalState(VIDEOS);\r\n    const add = videos.every((v) => v.url !== url);\r\n    if (ReactPlayer.canPlay(url) && add) {\r\n      setUrl(url);\r\n    }\r\n  };\r\n\r\n  const handleVideoAdd = () => {\r\n    setGlobalState(MODAL, {\r\n      component: DIRECTORY_TYPES.VIDEO,\r\n      props: {\r\n        url,\r\n        onSubmit: (values) => postVideo(values)\r\n      }\r\n    });\r\n  };\r\n\r\n  const handlePaste = async () => {\r\n    const url = await navigator.clipboard.readText();\r\n    addUrl(url);\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <div\r\n        onClick={() => setMenuOpen(!menuOpen)}\r\n        className={`header_menu ${menuOpen ? \"open\" : \"\"}`}\r\n      >\r\n        <i className=\"material-icons\">{menuOpen ? \"menu_open\" : \"menu\"}</i>\r\n      </div>\r\n      {/* <Add /> */}\r\n      <div className=\"header_add\">\r\n        <i className=\"material-icons\">ondemand_video</i>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Paste video url here:\"\r\n          value={url}\r\n          onChange={handleChangeUrl}\r\n        />\r\n        {url ? (\r\n          <button disabled={!url} onClick={handleVideoAdd}>\r\n            <i className=\"material-icons\">add</i>\r\n          </button>\r\n        ) : (\r\n          <button onClick={handlePaste}>\r\n            <i className=\"material-icons\">content_paste</i>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className=\"header_search\">\r\n        {/* <i className=\"material-icons\">search</i> */}\r\n      </div>\r\n      <div className=\"header_profile\">\r\n        <div onClick={() => setProfileOpen(!profileOpen)}>\r\n          <i className=\"material-icons\">person</i>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst Add = () => {\r\n  const openNew = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"new\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-add\">\r\n      <button onClick={openNew}>\r\n        <i className=\"material-icons\">add</i>\r\n        New\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Menu.scss\";\r\n\r\nimport { useGlobalState } from \"react-global-state-hook\";\r\nimport { DIRECTORY_TYPES, FOLDERS } from \"../../stores/folder\";\r\nimport { MenuItem } from \"./MenuItem\";\r\n\r\nexport const MENU_OPEN = \"MENU_OPEN\";\r\n\r\nexport const Menu = () => {\r\n  const [folders] = useGlobalState(FOLDERS);\r\n  const [menuOpen] = useGlobalState(MENU_OPEN, true);\r\n\r\n  return (\r\n    <div className={`menu ${menuOpen ? \"open\" : \"\"}`}>\r\n      <h3>Directory</h3>\r\n      <MenuItem directory={DIRECTORY_TYPES.PLAYLIST} folders={folders} />\r\n      <MenuItem directory={DIRECTORY_TYPES.VIDEO} folders={folders} />\r\n      <MenuItem directory={DIRECTORY_TYPES.SEQUENCE} folders={folders} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const DirectoryItem = ({\r\n  id,\r\n  type,\r\n  label,\r\n  keywords,\r\n  items,\r\n  selected,\r\n  handleDrop,\r\n  onDragOver,\r\n  onDragStart,\r\n  handleSelect,\r\n  handleEdit,\r\n  onShare,\r\n  ...item\r\n}) => {\r\n  const handleKeywordClick = (e) => {};\r\n\r\n  const handleVideosClick = (e) => {};\r\n\r\n  const handleShare = () => onShare(DIRECTORY_TYPES[type], id);\r\n\r\n  return (\r\n    <li\r\n      id={id}\r\n      onDrop={handleDrop}\r\n      onDragStart={onDragStart}\r\n      onDragOver={onDragOver}\r\n      draggable={true}\r\n      onClick={handleSelect}\r\n      data-selected={selected ? \"selected\" : \"\"}\r\n      className={`${DIRECTORY_TYPES[type]} directory_item`}\r\n    >\r\n      <div className=\"directory_item-header\">\r\n        <i className=\"material-icons\">\r\n          {selected ? \"check_box\" : \"check_box_outline_blank\"}\r\n        </i>\r\n        <h4>{label}</h4>\r\n      </div>\r\n      <ul className=\"directory_item-keywords\">\r\n        {type !== DIRECTORY_TYPES.SEQUENCE && (\r\n          <>\r\n            <li>#</li>\r\n            {keywords.length === 0 ? (\r\n              <li>\r\n                <small>No keywords</small>\r\n              </li>\r\n            ) : (\r\n              keywords.map((k, i) => (\r\n                <li onClick={handleKeywordClick} key={i}>\r\n                  {k}\r\n                </li>\r\n              ))\r\n            )}\r\n          </>\r\n        )}\r\n      </ul>\r\n      <div className=\"directory_item-videos\" onClick={handleVideosClick}>\r\n        {type === DIRECTORY_TYPES.PLAYLIST && (\r\n          <>\r\n            <i className=\"material-icons\">ondemand_video</i>\r\n            <span>{`${items.length} ${\r\n              items.length === 1 ? \"Video\" : \"Videos\"\r\n            }`}</span>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div className=\"directory_item-footer\">\r\n        <i onClick={handleShare} className=\"material-icons\">\r\n          share\r\n        </i>\r\n        {type === DIRECTORY_TYPES.VIDEO ? (\r\n          <Link to={`/sequencer/${id}`}>\r\n            <i className=\"material-icons\">open_in_new</i>\r\n          </Link>\r\n        ) : (\r\n          type === DIRECTORY_TYPES.SEQUENCE && (\r\n            <Link to={`/sequencer/${item.videoId}?sequenceId=${id}`}>\r\n              <i className=\"material-icons\">open_in_new</i>\r\n            </Link>\r\n          )\r\n        )}\r\n        <i onClick={handleEdit} className=\"material-icons\">\r\n          more_vert\r\n        </i>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","import React, { useState, useMemo } from \"react\";\r\nimport \"./Directory.scss\";\r\nimport { Path } from \"./Path\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport { VIDEOS } from \"../../stores/videos\";\r\nimport {\r\n  SELECTED_DIRECTORY,\r\n  SELECTED_FOLDER,\r\n  DIRECTORY_TYPES\r\n} from \"../../stores/folder\";\r\nimport { PLAYLISTS, patchPlaylist } from \"../../stores/playlists\";\r\nimport { MODAL } from \"../Modal\";\r\nimport { SEQUENCES } from \"../../stores/sequences\";\r\nimport { DirectoryItem } from \"./DirectoryItem\";\r\n\r\nconst onDragOver = (e) => {\r\n  e.stopPropagation();\r\n  e.preventDefault();\r\n};\r\n\r\nexport const handleShare = (type, id) => {\r\n  setGlobalState(MODAL, {\r\n    component: \"share\",\r\n    props: { type, id }\r\n  });\r\n};\r\n\r\nexport const Directory = () => {\r\n  const [videos] = useGlobalState(VIDEOS);\r\n  const [playlists] = useGlobalState(PLAYLISTS);\r\n  const [sequences] = useGlobalState(SEQUENCES);\r\n\r\n  const [selectedDirectory] = useGlobalState(SELECTED_DIRECTORY);\r\n  const [selectedFolder] = useGlobalState(SELECTED_FOLDER);\r\n\r\n  const [selectedPlaylists, setSelectedPlaylists]: any = useState([]);\r\n  const [selectedVideos, setSelectedVideos]: any = useState([]);\r\n  const [selectedSequences, setSelectedSequences]: any = useState([]);\r\n\r\n  const items = useMemo(() => {\r\n    if (selectedDirectory === DIRECTORY_TYPES.VIDEO) {\r\n      return videos.filter((v) =>\r\n        !selectedFolder ? !v.folder : v.folder === selectedFolder\r\n      );\r\n    } else if (selectedDirectory === DIRECTORY_TYPES.SEQUENCE) {\r\n      return sequences.filter((s) =>\r\n        !selectedFolder ? !s.folder : s.folder === selectedFolder\r\n      );\r\n    } else {\r\n      return playlists.filter((p) =>\r\n        !selectedFolder ? !p.folder : p.folder === selectedFolder\r\n      );\r\n    }\r\n  }, [selectedDirectory, videos, playlists, selectedFolder, sequences]);\r\n\r\n  const onDragStart = (e) => {\r\n    const type = DIRECTORY_TYPES[e.target.closest(\"li\").classList[0]];\r\n    const itemId = e.target.closest(\"li\").id;\r\n    const ids =\r\n      type === DIRECTORY_TYPES.VIDEO\r\n        ? [...selectedVideos, itemId]\r\n        : type === DIRECTORY_TYPES.PLAYLIST\r\n        ? [...selectedPlaylists, itemId]\r\n        : [...selectedSequences, itemId];\r\n\r\n    e.dataTransfer.setData(\"text/plain\", JSON.stringify({ ids, type }));\r\n    // Now this will break every drop event\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    const id = e.target.closest(\"li\").id;\r\n    const { ids, type } = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\r\n    if (type === \"list\") {\r\n      const playlist = playlists.find((p) => p.id === id);\r\n      const urls = videos.filter((v) => ids.includes(v.id)).map((v) => v.url);\r\n      // @ts-ignore\r\n      const newUrls = [...new Set([...playlist.urls, ...urls])];\r\n      patchPlaylist({ ...playlist, urls: newUrls });\r\n    }\r\n  };\r\n\r\n  const handleSelect = (e) => {\r\n    const id = e.target.closest(\"li\").id;\r\n    if (selectedDirectory === DIRECTORY_TYPES.VIDEO) {\r\n      if (selectedVideos.includes(id)) {\r\n        setSelectedVideos(selectedVideos.filter((v) => v !== id));\r\n      } else {\r\n        setSelectedVideos([...selectedVideos, id]);\r\n      }\r\n    } else if (selectedDirectory === DIRECTORY_TYPES.PLAYLIST) {\r\n      if (selectedPlaylists.includes(id)) {\r\n        setSelectedPlaylists(selectedPlaylists.filter((p) => p !== id));\r\n      } else {\r\n        setSelectedPlaylists([...selectedPlaylists, id]);\r\n      }\r\n    } else if (selectedDirectory === DIRECTORY_TYPES.SEQUENCE) {\r\n      if (selectedSequences.includes(id)) {\r\n        setSelectedSequences(selectedSequences.filter((s) => s !== id));\r\n      } else {\r\n        setSelectedSequences([...selectedSequences, id]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEdit = (e) => {\r\n    const id = e.target.closest(\"li\").id;\r\n    if (selectedDirectory === DIRECTORY_TYPES.VIDEO) {\r\n      const video = videos.find((f) => f.id === id);\r\n      setGlobalState(MODAL, {\r\n        component: \"video\",\r\n        props: video\r\n      });\r\n    } else if (selectedDirectory === DIRECTORY_TYPES.PLAYLIST) {\r\n      const playlist = playlists.find((p) => p.id === id);\r\n      setGlobalState(MODAL, {\r\n        component: \"playlist\",\r\n        props: playlist\r\n      });\r\n    } else if (selectedDirectory === DIRECTORY_TYPES.SEQUENCE) {\r\n      alert(\r\n        \"Sequences cant be edited. Open the corresponding video or project in the sequencer and edit sequence there\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"folder\",\r\n      props: {\r\n        directory: selectedDirectory,\r\n        folder: selectedFolder\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"directory\">\r\n      <Path />\r\n      <button onClick={handleAdd}>\r\n        <i className=\"material-icons\">add</i>\r\n        Folder\r\n      </button>\r\n      <ul className=\"directory_items\">\r\n        {items.map((item, index) => {\r\n          const selected = selectedPlaylists.includes(item.id);\r\n          return (\r\n            <DirectoryItem\r\n              key={index}\r\n              {...item}\r\n              type={selectedDirectory}\r\n              handleSelect={handleSelect}\r\n              handleEdit={handleEdit}\r\n              selected={selected}\r\n              onDragOver={onDragOver}\r\n              onDragStart={onDragStart}\r\n              handleDrop={handleDrop}\r\n              onShare={handleShare}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { getGlobalState, setGlobalState } from \"react-global-state-hook\";\r\n\r\nexport const PLAYLIST_ITEMS = \"PLAYLIST_ITEMS\";\r\n\r\nsetGlobalState(PLAYLIST_ITEMS, []);\r\n\r\nexport const addItem = (item) => {\r\n  const items = getGlobalState(PLAYLIST_ITEMS);\r\n  setGlobalState(PLAYLIST_ITEMS, [...items, item]);\r\n};\r\n\r\nexport const removeItems = (itemIds) => {\r\n  const items = getGlobalState(PLAYLIST_ITEMS);\r\n  setGlobalState(\r\n    PLAYLIST_ITEMS,\r\n    items.filter(({ id }) => !itemIds.includes(id))\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport \"./Player.scss\";\r\nimport {\r\n  useGlobalState,\r\n  setGlobalState,\r\n  getGlobalState\r\n} from \"react-global-state-hook\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { PLAYLIST_ITEMS } from \"../../stores/playlist_items\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\n\r\nexport const PLAYER = \"PLAYER\";\r\nexport const PLAYER_POSITION = \"PLAYER_POSITION\";\r\nexport const PLAYER_PLAYING = \"PLAYER_PLAYING\";\r\nexport const PLAYER_POSITION_CLICK_COUNT = \"PLAYER_POSITION_CLICK_COUNT\";\r\nexport const PLAYER_ITEM = \"PLAYER_ITEM\";\r\n\r\nsetGlobalState(PLAYER_PLAYING, false);\r\n\r\nconst onPlayerEnd = (id) => {\r\n  const event = new CustomEvent(\"playerdone\", {\r\n    detail: {\r\n      id\r\n    }\r\n  });\r\n  document.dispatchEvent(event);\r\n};\r\n\r\nexport const togglePlay = () => {\r\n  const playing = getGlobalState(PLAYER_PLAYING);\r\n  setGlobalState(PLAYER_PLAYING, !playing);\r\n};\r\n\r\n// when clicked on a video, the player needs to change urls if neccessary\r\n// if correct url is used, player.seekTo(0)\r\n\r\n// when a sequence is clicked, the player need to change urls if neccessary\r\n// if correct url is used, player.seekTo(start)\r\nlet PLAYER_COUNT = 0;\r\n\r\nexport const openPlayer = (e) => {\r\n  PLAYER_COUNT++;\r\n  const item = getGlobalState(PLAYLIST_ITEMS).find(\r\n    (i) =>\r\n      i.id ===\r\n      (typeof e === \"string\" ? e : e.target.closest(\".playlist-item\").id)\r\n  );\r\n  setGlobalState(PLAYER_ITEM, { ...item, count: PLAYER_COUNT });\r\n};\r\n\r\nexport const Player = () => {\r\n  const [item, setItem] = useGlobalState(PLAYER_ITEM);\r\n\r\n  const [playing, setPlaying] = useGlobalState(PLAYER_PLAYING);\r\n  const [playerReady, setPlayerReady] = useState(false);\r\n\r\n  const [maximized, setMaximized] = useState(false);\r\n\r\n  const player = useRef();\r\n  const ref = (p) => (player.current = p);\r\n\r\n  const handleReady = () => setPlayerReady(true);\r\n\r\n  const lastUrl = useRef();\r\n  const url = useMemo(() => (item ? item.url : \"\"), [item]);\r\n\r\n  useEffect(() => {\r\n    if (playerReady) {\r\n      startPlayer();\r\n    }\r\n  }, [playerReady]);\r\n\r\n  useEffect(() => {\r\n    if (playerReady && item && lastUrl.current === item.url) {\r\n      startPlayer();\r\n    }\r\n    return () => (lastUrl.current = item ? item.url : \"\");\r\n  }, [item, playerReady]);\r\n\r\n  const startPlayer = () => {\r\n    //\r\n    const Player: ReactPlayer | any = player.current;\r\n    if (Player) {\r\n      if (item.type === DIRECTORY_TYPES.VIDEO) {\r\n        Player.seekTo(0);\r\n      } else if (item.type === DIRECTORY_TYPES.SEQUENCE) {\r\n        Player.seekTo(item.start, \"seconds\");\r\n      }\r\n      setPlaying(true);\r\n    } else {\r\n      console.log(\"PLAYER NOT READY ON START PLAYER\");\r\n    }\r\n  };\r\n\r\n  const stopPlayer = () => {\r\n    player.current = undefined;\r\n    setPlayerReady(false);\r\n    setPlaying(false);\r\n    setItem();\r\n  };\r\n\r\n  const handleProgress = ({ playedSeconds }) => {\r\n    if (item.stop && playedSeconds >= item.stop) {\r\n      setPlaying(false);\r\n      onPlayerEnd(item.id);\r\n    }\r\n  };\r\n\r\n  const handleResize = () => {\r\n    setMaximized(!maximized);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`video-preview ${maximized ? \"\" : \"minimized\"} ${\r\n        url ? \"open\" : \"\"\r\n      }`}\r\n    >\r\n      {url && (\r\n        <>\r\n          <div className=\"video-preview__header\">\r\n            <h4>{item ? item.label : \"Loading Player\"}</h4>\r\n            <i onClick={handleResize} className=\"material-icons\">\r\n              {maximized ? \"minimize\" : \"maximize\"}\r\n            </i>\r\n            <i onClick={stopPlayer} className=\"material-icons\">\r\n              close\r\n            </i>\r\n          </div>\r\n          <ReactPlayer\r\n            className={\"player\"}\r\n            height=\"calc(100% - 45px)\"\r\n            width=\"auto\"\r\n            pip={true}\r\n            playing={playing}\r\n            ref={ref}\r\n            url={url}\r\n            onReady={handleReady}\r\n            onProgress={handleProgress}\r\n            controls={true}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const ListSearch = () => {\r\n  return (\r\n    <div>\r\n      <button>\r\n        <i className=\"material-icons\">search</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">search</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">search</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useGlobalState } from \"react-global-state-hook\";\r\nimport { PLAYER_PLAYING, PLAYER_ITEM } from \"./Player\";\r\n\r\nexport const ListActions = ({ items }) => {\r\n  const [playing, setPlaying] = useGlobalState(PLAYER_PLAYING);\r\n  const [item, setItem] = useGlobalState(PLAYER_ITEM);\r\n\r\n  const handlePlay = () => {\r\n    if (!item) {\r\n      setItem(items[0]);\r\n    } else {\r\n      setPlaying(!playing);\r\n    }\r\n  };\r\n\r\n  const move = (up) => {\r\n    if (item && items.length !== 1) {\r\n      const currentIndex = items.findIndex((i) => i.id === item.id);\r\n      let nextItem;\r\n      if (up && currentIndex !== 0) {\r\n        nextItem = items.find((_, i) => i === currentIndex - 1);\r\n      } else if (currentIndex !== items.length - 1) {\r\n        nextItem = items.find((_, i) => i === currentIndex + 1);\r\n      }\r\n      setItem(nextItem);\r\n    } else {\r\n      console.log(\"ONLY ONE ITEM PRESENT OR PLAYER IS NOT ACTIVE\");\r\n    }\r\n  };\r\n\r\n  const handleUp = () => move(true);\r\n\r\n  const handleDown = () => move(false);\r\n\r\n  return (\r\n    <div className=\"playlist_controls-actions\">\r\n      <button onClick={handlePlay}>\r\n        {/* show loading when player isnt ready yet, otherwise first play press might fail */}\r\n        <i className=\"material-icons\">{playing ? \"pause\" : \"play_arrow\"}</i>\r\n      </button>\r\n      <button onClick={handleUp}>\r\n        <i className=\"material-icons\">keyboard_arrow_up</i>\r\n      </button>\r\n      <button onClick={handleDown}>\r\n        <i className=\"material-icons\">keyboard_arrow_down</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">share</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst handleAdd = () => {};\r\n\r\nexport const ListSelection = ({\r\n  activePlaylist,\r\n  handleDelete,\r\n  handleRemove,\r\n  handleSave\r\n}) => (\r\n  <div className=\"playlist_controls-selection\">\r\n    <button>\r\n      {activePlaylist ? (\r\n        <i onClick={handleDelete} className=\"material-icons\">\r\n          delete\r\n        </i>\r\n      ) : (\r\n        <i onClick={handleRemove} className=\"material-icons\">\r\n          clear\r\n        </i>\r\n      )}\r\n    </button>\r\n    <button onClick={handleSave}>\r\n      <i className=\"material-icons\">playlist_add_check</i>\r\n    </button>\r\n    <button onClick={handleAdd}>\r\n      <i className=\"material-icons\">format_strikethrough</i>\r\n    </button>\r\n  </div>\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { useGlobalState, getGlobalState } from \"react-global-state-hook\";\r\nimport { PLAYER_POSITION, openPlayer } from \"./Player\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\nimport { PLAYLIST_ITEMS } from \"../../stores/playlist_items\";\r\n\r\nconst onDragOver = (e) => {\r\n  e.stopPropagation();\r\n  e.preventDefault();\r\n};\r\n\r\nconst handlePlayerDone = ({ detail: { id } }: any) => {\r\n  const items = getGlobalState(PLAYLIST_ITEMS);\r\n  const itemIndex = items.findIndex((i) => i.id === id);\r\n  // when item is the last in List, do nothing\r\n  // if not get the next id and openPlayer(id);\r\n\r\n  if (itemIndex < items.length - 1) {\r\n    const nextItem = items.find((i, index) => index === itemIndex + 1);\r\n    openPlayer(nextItem.id);\r\n  }\r\n};\r\n\r\nexport const ListList = ({\r\n  items,\r\n  filteredItems,\r\n  selectedItems,\r\n  handleSelect\r\n}) => {\r\n  const [position] = useGlobalState(PLAYER_POSITION);\r\n\r\n  const onDragStart = (e) => {\r\n    const id = e.target.closest(\"li\").id;\r\n    e.dataTransfer.setData(\r\n      \"text/plain\",\r\n      JSON.stringify({ items: [...selectedItems, id], type: \"list\" })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"playerdone\", handlePlayerDone);\r\n    return () => document.removeEventListener(\"playerdone\", handlePlayerDone);\r\n  }, []);\r\n\r\n  return (\r\n    <ul>\r\n      {items.length === 0 ? (\r\n        <li className=\"no-items\">\r\n          Nothing in selection. Drag video or playlist into here or open an\r\n          existing playlist.\r\n        </li>\r\n      ) : (\r\n        filteredItems.map(({ id, label, url, type, start, stop }, i) => {\r\n          const selected = selectedItems.includes(id);\r\n          return (\r\n            <li\r\n              onClick={openPlayer}\r\n              draggable={true}\r\n              onDragStart={onDragStart}\r\n              onDragOver={onDragOver}\r\n              className={`${DIRECTORY_TYPES[type]} playlist-item ${\r\n                i === position ? \"active\" : \"\"\r\n              }`}\r\n              id={id}\r\n              key={i}\r\n            >\r\n              <i onClick={handleSelect} className=\"material-icons\">\r\n                {/* here i need logic to display request states for saving, patching and deleting */}\r\n                {selected ? \"check_box\" : \"check_box_outline_blank\"}\r\n              </i>\r\n              <label>{label}</label>\r\n              {/* <i className=\"material-icons\">edit</i> */}\r\n            </li>\r\n          );\r\n        })\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport \"./List.scss\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport { PLAYLIST_ITEMS } from \"../../stores/playlist_items\";\r\nimport {\r\n  PLAYLIST_OPEN,\r\n  ACTIVE_PLAYLIST,\r\n  PLAYLISTS,\r\n  patchPlaylist\r\n} from \"../../stores/playlists\";\r\nimport { VIDEOS } from \"../../stores/videos\";\r\nimport { MODAL } from \"../Modal\";\r\nimport { Player, PLAYER_ITEM } from \"./Player\";\r\nimport { ListSearch } from \"./ListSearch\";\r\nimport { ListActions } from \"./ListActions\";\r\nimport { ListSelection } from \"./ListSelection\";\r\nimport { ListList } from \"./ListList\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\nimport { SEQUENCES } from \"../../stores/sequences\";\r\n\r\nexport const SELECTED_LIST_ITEMS = \"SELECTED_LIST_ITEMS\";\r\n\r\nexport const Playlist = () => {\r\n  const [open] = useGlobalState(PLAYLIST_OPEN);\r\n  const [items, setItems] = useGlobalState(PLAYLIST_ITEMS);\r\n  const [videos] = useGlobalState(VIDEOS);\r\n  const [sequences] = useGlobalState(SEQUENCES);\r\n  const [playlists] = useGlobalState(PLAYLISTS);\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const [selectedItems, setSelectedItems] = useGlobalState(\r\n    SELECTED_LIST_ITEMS,\r\n    []\r\n  );\r\n  const [activePlaylist, setActivePlaylist] = useGlobalState(ACTIVE_PLAYLIST);\r\n\r\n  const playlist = useMemo(() => {\r\n    return playlists.find((p) => p.id === activePlaylist);\r\n  }, [activePlaylist, playlists]);\r\n\r\n  useEffect(() => {\r\n    if (playlist) {\r\n      const videoIds = playlist.items\r\n        .filter((i) => i.split(\":\")[0] === DIRECTORY_TYPES.VIDEO)\r\n        .map((i) => i.split(\":\")[1]);\r\n      const vids = videos\r\n        .filter((v) => videoIds.includes(v.id))\r\n        .map((v) => ({ type: DIRECTORY_TYPES.VIDEO, ...v }));\r\n\r\n      const sequenceIds = playlist.items\r\n        .filter((i) => i.split(\":\")[0] === DIRECTORY_TYPES.SEQUENCE)\r\n        .map((i) => i.split(\":\")[1]);\r\n      const seqs = sequences\r\n        .filter((s) => sequenceIds.includes(s.id))\r\n        .map((s) => ({ type: DIRECTORY_TYPES.SEQUENCE, ...s }));\r\n\r\n      setItems([...vids, ...seqs]);\r\n      setSelectedItems([]);\r\n    }\r\n  }, [playlist, sequences, videos, setItems, setSelectedItems]);\r\n\r\n  useEffect(() => {\r\n    setFilteredItems(items.filter((i) => i.type !== DIRECTORY_TYPES.PLAYLIST));\r\n  }, [items]);\r\n\r\n  const handleDrop = (e) => {\r\n    const { ids, type } = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\r\n    if (playlist) {\r\n      if (type === DIRECTORY_TYPES.VIDEO) {\r\n        const videoIds = items\r\n          .filter((i) => i.type === DIRECTORY_TYPES.VIDEO)\r\n          .map((i) => i.id);\r\n        const newVideos = videos\r\n          .filter((v) => ids.includes(v.id) && !videoIds.includes(v.id))\r\n          .map((v) => `VIDEO:${v.id}`);\r\n        if (newVideos.length === 0) {\r\n          alert(\"All Videos already exist in Playlist\");\r\n        } else {\r\n          patchPlaylist({\r\n            ...playlist,\r\n            items: [...playlist.items, ...newVideos]\r\n          });\r\n        }\r\n      } else if (type === DIRECTORY_TYPES.SEQUENCE) {\r\n        const sequenceIds = items\r\n          .filter((i) => i.type === DIRECTORY_TYPES.SEQUENCE)\r\n          .map((i) => i.id);\r\n        const newSequences = sequences\r\n          .filter((s) => ids.includes(s.id) && !sequenceIds.includes(s.id))\r\n          .map((s) => `SEQUENCE:${s.id}`);\r\n        if (newSequences.length === 0) {\r\n          alert(\"All sequences already exist in playlist\");\r\n        } else {\r\n          patchPlaylist({\r\n            ...playlist,\r\n            items: [...playlist.items, ...newSequences]\r\n          });\r\n        }\r\n      } else if (type === DIRECTORY_TYPES.PLAYLIST) {\r\n        const draggedPlaylists = playlists.filter((p) => ids.includes(p.id));\r\n        const draggedItemIds = draggedPlaylists.reduce((prev, curr) => {\r\n          return Array.from(new Set([...prev, ...curr.items]));\r\n        }, []);\r\n        const newDraggedItemIds = Array.from(\r\n          new Set([...playlist.items, ...draggedItemIds])\r\n        );\r\n        if (newDraggedItemIds.length > playlist.items.length) {\r\n          patchPlaylist({\r\n            ...playlist,\r\n            items: newDraggedItemIds\r\n          });\r\n        } else {\r\n          console.log(\"No New Items to add\");\r\n        }\r\n      }\r\n    } else {\r\n      if (type === DIRECTORY_TYPES.VIDEO) {\r\n        addVideos(ids);\r\n        // addVideo(id);\r\n      } else if (type === DIRECTORY_TYPES.SEQUENCE) {\r\n        addSequences(ids);\r\n      } else if (type === DIRECTORY_TYPES.PLAYLIST) {\r\n        if (ids.length === 1 && items.length === 0) {\r\n          setActivePlaylist(ids[0]);\r\n        } else {\r\n          addPlaylists(ids);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const addSequences = (ids) => {\r\n    const seqs = sequences.filter((s) => ids.includes(s.id));\r\n    const newSeqs = seqs.filter((s) => !items.find((i) => i.id === s.id));\r\n    if (newSeqs.length === 0) {\r\n      alert(\"Sequences already exist in playlist\");\r\n    } else if (activePlaylist) {\r\n      patchPlaylist({\r\n        ...playlist,\r\n        items: [...items, ...newSeqs].map((i) => `${i.type}:${i.id}`)\r\n      });\r\n    } else {\r\n      setItems([\r\n        ...items,\r\n        ...newSeqs.map((s) => ({ type: DIRECTORY_TYPES.SEQUENCE, ...s }))\r\n      ]);\r\n      setSelectedItems([...selectedItems, ...newSeqs.map((s) => s.id)]);\r\n    }\r\n  };\r\n\r\n  const addVideos = (ids) => {\r\n    const vids = videos.filter((v) => ids.includes(v.id));\r\n    const newVids = vids.filter((v) => !items.find((i) => i.id === v.id));\r\n    if (newVids.length === 0) {\r\n      alert(\"Videos already in list\");\r\n    } else if (activePlaylist) {\r\n      // here the format \"type:id\" needs to be sent to backend\r\n      patchPlaylist({\r\n        ...playlist,\r\n        items: [...items, ...newVids].map((i) => `${i.type}:${i.id}`)\r\n      });\r\n    } else {\r\n      // here we keep the given format\r\n      // onle when sent to backend convert to item: [\"type:id\"]\r\n      setItems([\r\n        ...items,\r\n        ...newVids.map((v) => ({ type: DIRECTORY_TYPES.VIDEO, ...v }))\r\n      ]);\r\n      setSelectedItems([...selectedItems, ...newVids.map((v) => v.id)]);\r\n    }\r\n  };\r\n\r\n  const addPlaylists = (ids) => {\r\n    const lists = playlists.filter((p) => ids.includes(p.id));\r\n    const listItems = lists.reduce(\r\n      // @ts-ignore\r\n      (prev, curr) => [...new Set([...prev, ...curr.items])],\r\n      []\r\n    );\r\n\r\n    const newItems = listItems\r\n      .filter((i) => {\r\n        const [type, id] = i.split(\":\");\r\n        return !items.find((v) => v.type === type && v.id === id);\r\n      })\r\n      .map((i) => {\r\n        const [type, id] = i.split(\":\");\r\n        return { type, id };\r\n      });\r\n\r\n    const newVideos = newItems\r\n      .filter((i) => i.type === DIRECTORY_TYPES.VIDEO)\r\n      .map((i) => i.id)\r\n      .map((id) => videos.find((v) => v.id === id));\r\n\r\n    const newSequences = newItems\r\n      .filter((i) => i.type === DIRECTORY_TYPES.SEQUENCE)\r\n      .map((i) => i.id)\r\n      .map((id) => sequences.find((s) => s.id === id));\r\n\r\n    const itemsToAdd = [...items, ...newVideos, ...newSequences];\r\n\r\n    if ([...newVideos, ...newSequences].length === 0) {\r\n      return alert(\"All videos and sequences already in playlist\");\r\n    }\r\n    if (activePlaylist && (ids.length > 1 || ids[0] !== activePlaylist)) {\r\n      setActivePlaylist();\r\n      setSelectedItems(itemsToAdd.map((i) => i.id));\r\n    }\r\n    setItems(itemsToAdd);\r\n  };\r\n\r\n  const handleSelect = (e) => {\r\n    e.stopPropagation();\r\n    const id = e.target.closest(\"li\").id;\r\n    if (selectedItems.includes(id)) {\r\n      setSelectedItems(selectedItems.filter((i) => i !== id));\r\n    } else {\r\n      setSelectedItems([...selectedItems, id]);\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const selection = items\r\n      .filter((i) => selectedItems.includes(i.id))\r\n      .map((i) => `${i.type}:${i.id}`);\r\n    setGlobalState(MODAL, {\r\n      component: DIRECTORY_TYPES.PLAYLIST,\r\n      props: {\r\n        items: selection\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setActivePlaylist();\r\n    setGlobalState(PLAYER_ITEM, undefined);\r\n    setItems([]);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    const updatedItems = items\r\n      .filter((i) => !selectedItems.includes(i.id))\r\n      .map((i) => `${i.type}:${i.id}`);\r\n\r\n    patchPlaylist({ ...playlist, items: updatedItems });\r\n  };\r\n\r\n  const handleRemove = () =>\r\n    setItems(items.filter((i) => !selectedItems.includes(i.id)));\r\n\r\n  return (\r\n    <div\r\n      onDrop={handleDrop}\r\n      onDragOver={(e) => e.preventDefault()}\r\n      className={`playlist ${open ? \"open\" : \"\"}`}\r\n    >\r\n      <div className=\"playlist_header\">\r\n        <div>\r\n          <h4>\r\n            <i className=\"material-icons\">queue_music</i>\r\n            {!playlist ? \"No Playlist active\" : playlist.label}\r\n            {items.length !== 0 && (\r\n              <i onClick={handleClose} className=\"material-icons\">\r\n                close\r\n              </i>\r\n            )}\r\n          </h4>\r\n          {items.length !== 0 && <ListSearch />}\r\n        </div>\r\n        <ListList\r\n          items={items}\r\n          selectedItems={selectedItems}\r\n          filteredItems={filteredItems}\r\n          handleSelect={handleSelect}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"playlist_controls\">\r\n        {items.length !== 0 && (\r\n          <>\r\n            {selectedItems.length !== 0 && (\r\n              <ListSelection\r\n                activePlaylist={activePlaylist}\r\n                handleDelete={handleDelete}\r\n                handleRemove={handleRemove}\r\n                handleSave={handleSave}\r\n              />\r\n            )}\r\n            <ListActions items={items} />\r\n          </>\r\n        )}\r\n      </div>\r\n      <Player />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Dashboard.scss\";\r\n\r\nimport { Header } from \"../components/Dashboard/DashboardHeader\";\r\nimport { Menu } from \"../components/Dashboard/Menu\";\r\nimport { Directory } from \"../components/Dashboard/Directory\";\r\nimport { Playlist } from \"../components/Dashboard/List\";\r\nimport { getFolders } from \"../stores/folder\";\r\nimport { getVideos } from \"../stores/videos\";\r\nimport { getPlaylists } from \"../stores/playlists\";\r\nimport { Hint } from \"../components/Hint\";\r\nimport { getSequences } from \"../stores/sequences\";\r\n\r\nexport const Dashboard = () => {\r\n  useEffect(() => {\r\n    getFolders();\r\n    getVideos();\r\n    getPlaylists();\r\n    getSequences();\r\n  }, []);\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <Header />\r\n      <Menu />\r\n      <Directory />\r\n      <Playlist />\r\n      <Hint />\r\n    </div>\r\n  );\r\n};\r\n","export const secondsToTime = (secs) => {\r\n  const minutes = Math.floor(secs / 60);\r\n  const [s, ms] = String(secs - minutes * 60).split(\".\");\r\n\r\n  const seconds = s.length === 1 ? \"0\" + s : s;\r\n  const miliseconds = ms ? String(ms).slice(0, 2) : 0;\r\n\r\n  return `${minutes > 9 ? minutes : \"0\" + minutes}:${seconds}.${miliseconds}`;\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  useGlobalState,\r\n  getGlobalState,\r\n  setGlobalState\r\n} from \"react-global-state-hook\";\r\nimport { PLAYER_PROGRESS, SEQUENCER_VIDEO } from \"../../views/Sequencer\";\r\nimport {\r\n  EDITING_SEQUENCE,\r\n  patchSequence,\r\n  postSequence\r\n} from \"../../stores/sequences\";\r\nimport { secondsToTime } from \"../../utils/secondsToTime\";\r\n\r\nexport const TAGGER_ACTIVE_TIME = \"TAGGER_ACTIVE_TIME\";\r\nexport const TAGGER_START = \"TAGGER_START\";\r\nexport const TAGGER_STOP = \"TAGGER_STOP\";\r\nexport const TAGGER_LABEL = \"TAGGER_LABEL\";\r\n\r\nconst handleControls = (e) => {\r\n  const event = e.detail;\r\n  if (event === \"tag\") {\r\n    const activeTime = getGlobalState(TAGGER_ACTIVE_TIME);\r\n    const start = getGlobalState(TAGGER_START);\r\n    if (!activeTime && !start) {\r\n      console.log(\"starting START\");\r\n      setGlobalState(TAGGER_ACTIVE_TIME, \"start\");\r\n    } else if (activeTime === \"start\") {\r\n      console.log(\"SETTING START\");\r\n      setStart();\r\n    } else if (activeTime === \"stop\") {\r\n      console.log(\"SETTING STOP\");\r\n      setStop();\r\n    } else {\r\n      console.log(\"SBMITTING\");\r\n      handleSubmit();\r\n    }\r\n  } else if (event === \"tagback\") {\r\n    const activeTime = getGlobalState(TAGGER_ACTIVE_TIME);\r\n    const start = getGlobalState(TAGGER_START);\r\n    // only when start has a value\r\n    console.log({ activeTime, start });\r\n\r\n    if (activeTime === \"start\") {\r\n      resetTagger();\r\n    } else if (activeTime === \"stop\") {\r\n      setGlobalState(TAGGER_ACTIVE_TIME, \"start\");\r\n    } else if (!activeTime && start) {\r\n      setGlobalState(TAGGER_ACTIVE_TIME, \"stop\");\r\n    }\r\n  }\r\n};\r\n\r\nconst handleSubmit = () => {\r\n  const editingSequence = getGlobalState(EDITING_SEQUENCE);\r\n  const start = getGlobalState(TAGGER_START);\r\n  const stop = getGlobalState(TAGGER_STOP);\r\n  const label = getGlobalState(TAGGER_LABEL);\r\n  if (!label) {\r\n    alert(\"Label required!\");\r\n  } else {\r\n    if (editingSequence) {\r\n      patchSequence({\r\n        ...editingSequence,\r\n        start,\r\n        stop,\r\n        label\r\n      });\r\n    } else {\r\n      const { id, url } = getGlobalState(SEQUENCER_VIDEO);\r\n      postSequence({\r\n        videoId: id,\r\n        start,\r\n        stop,\r\n        label,\r\n        url\r\n      });\r\n    }\r\n    resetTagger();\r\n  }\r\n};\r\n\r\nconst handleStartClick = (e) => {\r\n  if (e) e.stopPropagation();\r\n  setStart();\r\n};\r\n\r\nconst setStart = () => {\r\n  const { playedSeconds = 0 } = getGlobalState(PLAYER_PROGRESS);\r\n  const time = Number(playedSeconds.toFixed(2));\r\n  setGlobalState(TAGGER_START, time);\r\n  setGlobalState(TAGGER_ACTIVE_TIME, \"stop\");\r\n};\r\n\r\nconst handleStopClick = (e) => {\r\n  if (e) e.stopPropagation();\r\n  setStop();\r\n};\r\n\r\nconst setStop = () => {\r\n  const { playedSeconds } = getGlobalState(PLAYER_PROGRESS);\r\n  const time = Number(playedSeconds.toFixed(2));\r\n  setGlobalState(TAGGER_STOP, time);\r\n  setGlobalState(TAGGER_ACTIVE_TIME, undefined);\r\n};\r\n\r\nconst handleDismiss = () => {\r\n  resetTagger();\r\n  setGlobalState(EDITING_SEQUENCE, undefined);\r\n};\r\n\r\nconst resetTagger = () => {\r\n  setGlobalState(TAGGER_ACTIVE_TIME, \"start\");\r\n  setGlobalState(TAGGER_LABEL, \"\");\r\n  setGlobalState(TAGGER_START, undefined);\r\n  setGlobalState(TAGGER_STOP, undefined);\r\n};\r\n\r\nexport const Tagger = () => {\r\n  const [activeTime, setActiveTime]: any = useGlobalState(\r\n    TAGGER_ACTIVE_TIME,\r\n    \"start\"\r\n  );\r\n  const [editingSequence] = useGlobalState(EDITING_SEQUENCE);\r\n\r\n  const [label, setLabel] = useGlobalState(TAGGER_LABEL, \"\");\r\n  const [progress] = useGlobalState(PLAYER_PROGRESS);\r\n\r\n  const [start, setStart]: any = useGlobalState(TAGGER_START);\r\n  const [stop, setStop]: any = useGlobalState(TAGGER_STOP);\r\n\r\n  useEffect(() => {\r\n    const ta = document.getElementById(\"tagInput\");\r\n    if (ta) {\r\n      ta.focus();\r\n    }\r\n  }, [start, stop, activeTime]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"controls\", handleControls);\r\n    return () => document.removeEventListener(\"controls\", handleControls);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (editingSequence) {\r\n      console.log(\"EDIETING\");\r\n\r\n      setStart(editingSequence.start);\r\n      setStop(editingSequence.stop);\r\n      setLabel(editingSequence.label);\r\n      setActiveTime();\r\n    }\r\n  }, [editingSequence, setStart, setStop, setLabel, setActiveTime]);\r\n\r\n  const activateStart = () =>\r\n    setActiveTime(activeTime === \"start\" ? \"\" : \"start\");\r\n  const activateStop = () => setActiveTime(activeTime === \"stop\" ? \"\" : \"stop\");\r\n  const handleLabelChange = ({ target: { value } }) => setLabel(value);\r\n\r\n  return (\r\n    <div className=\"sequencer_list-tagger\">\r\n      <div className=\"sequencer_list-tagger-times\">\r\n        <div onClick={activateStart}>\r\n          <span>\r\n            {activeTime === \"start\"\r\n              ? secondsToTime(progress.playedSeconds || 0)\r\n              : secondsToTime(start)}\r\n          </span>\r\n          {activeTime === \"start\" && (\r\n            <button onClick={handleStartClick}>Set Tag</button>\r\n          )}\r\n        </div>\r\n        {(start || start === 0) && (\r\n          <div onClick={activateStop}>\r\n            <span>\r\n              {activeTime === \"stop\"\r\n                ? secondsToTime(progress.playedSeconds)\r\n                : secondsToTime(stop)}\r\n            </span>\r\n            {activeTime === \"stop\" && (\r\n              <button onClick={handleStopClick}>Set Stop</button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      {(start || start === 0) && (\r\n        <>\r\n          <textarea\r\n            id=\"tagInput\"\r\n            onChange={handleLabelChange}\r\n            value={label}\r\n            placeholder=\"Add Label to Tag...\"\r\n          />\r\n          <div className=\"sequencer_list-tagger-buttons\">\r\n            <button onClick={handleDismiss}>\r\n              {editingSequence ? \"Dismiss\" : \"Close\"}\r\n            </button>\r\n            <button disabled={!start || !label} onClick={handleSubmit}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { setGlobalState } from \"react-global-state-hook\";\r\nimport { FILTERED_SEQUENCES } from \"../../stores/sequences\";\r\n\r\nexport const SequencerListHeader = ({ sequences }) => {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const filtered = sequences.filter((s) =>\r\n      s.label.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n\r\n    setGlobalState(FILTERED_SEQUENCES, filtered);\r\n  }, [search, sequences]);\r\n\r\n  return (\r\n    <div className=\"sequencer_list-header\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search sequences...\"\r\n        onChange={({ target: { value } }) => setSearch(value)}\r\n        value={search}\r\n      />\r\n      <i className=\"material-icons\">filter_list</i>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useCallback } from \"react\";\r\n\r\nimport ReactPlayer from \"react-player\";\r\n\r\nimport {\r\n  setGlobalState,\r\n  useGlobalState,\r\n  getGlobalState\r\n} from \"react-global-state-hook\";\r\nimport { PLAYER_PROGRESS } from \"../../views/Sequencer\";\r\n\r\nexport const SEQUENCER_PLAYER = \"SEQUENCER_PLAYER\";\r\nexport const SEQUENCER_PLAYER_PLAYING = \"SEQUENCER_PLAYER_PLAYING\";\r\nexport const SEQUENCER_PLAYING_SEQUENCES = \"SEQUENCER_PLAYING_SEQUENCES\";\r\n\r\nsetGlobalState(SEQUENCER_PLAYER, { ready: false, player: null });\r\nsetGlobalState(SEQUENCER_PLAYING_SEQUENCES, []);\r\n\r\nexport const SequencerVideo = ({ selectedVideo, sequences }) => {\r\n  const [playing] = useGlobalState(SEQUENCER_PLAYER_PLAYING, false);\r\n\r\n  const handleProgress = useCallback(\r\n    (progress) => {\r\n      const playedSeconds = Number(progress.playedSeconds.toFixed(2));\r\n      setGlobalState(PLAYER_PROGRESS, {\r\n        playedSeconds\r\n      });\r\n      const playingSequences = sequences\r\n        .filter(\r\n          ({ start, stop }) => start <= playedSeconds && stop >= playedSeconds\r\n        )\r\n        .map((s) => s.id);\r\n      setGlobalState(SEQUENCER_PLAYING_SEQUENCES, playingSequences);\r\n    },\r\n    [sequences]\r\n  );\r\n\r\n  console.log(playing);\r\n\r\n  const ref = (p) => {\r\n    const playerState = getGlobalState(SEQUENCER_PLAYER);\r\n    setGlobalState(SEQUENCER_PLAYER, { ...playerState, player: p });\r\n  };\r\n\r\n  const handleReady = () => {\r\n    const playerState = getGlobalState(SEQUENCER_PLAYER);\r\n    setGlobalState(SEQUENCER_PLAYER, { ...playerState, ready: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sequencer_video\">\r\n      {selectedVideo ? (\r\n        <ReactPlayer\r\n          className={\"player\"}\r\n          height=\"100%\"\r\n          width=\"auto\"\r\n          pip={true}\r\n          playing={playing}\r\n          ref={ref}\r\n          url={selectedVideo.url}\r\n          onReady={handleReady}\r\n          progressInterval={100}\r\n          onProgress={handleProgress}\r\n          controls={true}\r\n        />\r\n      ) : (\r\n        \"Loading Video\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useMemo, useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  useGlobalState,\r\n  setGlobalState,\r\n  getGlobalState\r\n} from \"react-global-state-hook\";\r\nimport {\r\n  FILTERED_SEQUENCES,\r\n  SELECTED_SEQUENCES,\r\n  EDITING_SEQUENCE\r\n} from \"../../stores/sequences\";\r\nimport {\r\n  SEQUENCER_PLAYER,\r\n  SEQUENCER_PLAYER_PLAYING,\r\n  SEQUENCER_PLAYING_SEQUENCES\r\n} from \"./SequencerVideo\";\r\nimport { secondsToTime } from \"../../utils/secondsToTime\";\r\n\r\nlet timeout;\r\n\r\nexport const SequencerList = ({ sequences: seqs, sequenceId }) => {\r\n  const [selectedSequences, setSelectedSequences] = useGlobalState(\r\n    SELECTED_SEQUENCES\r\n  );\r\n  const [sequences] = useGlobalState(FILTERED_SEQUENCES);\r\n  const [activeSequenceId, setActiveSequenceId] = useState(sequenceId);\r\n  const [playingSequenceIds] = useGlobalState(SEQUENCER_PLAYING_SEQUENCES);\r\n  const [editingSequence, setEditingSequence] = useGlobalState(\r\n    EDITING_SEQUENCE\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (sequenceId) {\r\n      const sequence = sequences.find((s) => s.id === sequenceId);\r\n      if (sequence) {\r\n        seekToSequence(sequenceId);\r\n      }\r\n    }\r\n  }, [sequenceId, sequences]);\r\n\r\n  const handleSelect = (e) => {\r\n    e.stopPropagation();\r\n    const id = e.target.closest(\"li\").id;\r\n\r\n    if (selectedSequences.includes(id)) {\r\n      setSelectedSequences(selectedSequences.filter((s) => s !== id));\r\n    } else {\r\n      setSelectedSequences([...selectedSequences, id]);\r\n    }\r\n  };\r\n\r\n  const editSequence = (id) => {\r\n    const sequence = sequences.find((s) => s.id === id);\r\n    setEditingSequence(sequence);\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    const id = e.target.closest(\"li\").id;\r\n    if (timeout) {\r\n      editSequence(id);\r\n      clearTimeout(timeout);\r\n      timeout = undefined;\r\n    } else {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        setActiveSequenceId(id);\r\n        // cant use an effect here because this will not fire when clicked on the same id\r\n        seekToSequence(id);\r\n        clearTimeout(timeout);\r\n        timeout = undefined;\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  const seekToSequence = (id) => {\r\n    const { player, ready } = getGlobalState(SEQUENCER_PLAYER);\r\n    if (player && ready) {\r\n      const sequence = sequences.find((s) => s.id === id);\r\n      if (sequence) {\r\n        player.seekTo(sequence.start, \"seconds\");\r\n        setGlobalState(SEQUENCER_PLAYER_PLAYING, true);\r\n      }\r\n    } else {\r\n      setTimeout(() => {\r\n        seekToSequence(id);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (e) => {\r\n    e.stopPropagation();\r\n    const id = e.target.closest(\"li\").id;\r\n    editSequence(id);\r\n  };\r\n\r\n  const sortedSequences = useMemo(\r\n    () => sequences.sort((a, b) => a.start - b.start),\r\n    [sequences]\r\n  );\r\n\r\n  return (\r\n    <ul className=\"sequencer_list-list\">\r\n      {sortedSequences.map((s, i) => {\r\n        const selected = selectedSequences.includes(s.id);\r\n        const active = activeSequenceId === s.id;\r\n        const playing = playingSequenceIds.includes(s.id);\r\n        const editing = editingSequence && editingSequence.id === s.id;\r\n        return (\r\n          <li\r\n            data-active={active}\r\n            data-playing={playing}\r\n            data-editing={editing}\r\n            onClick={handleClick}\r\n            id={s.id}\r\n            key={i}\r\n          >\r\n            <div>\r\n              <span>{secondsToTime(s.start)}</span>\r\n              <span>{secondsToTime(s.stop)}</span>\r\n            </div>\r\n            <label>\r\n              {s.label}\r\n              <i onClick={handleEdit} className=\"material-icons\">\r\n                edit\r\n              </i>\r\n            </label>\r\n            <i onClick={handleSelect} className=\"material-icons\">\r\n              {selected ? \"check_box\" : \"check_box_outline_blank\"}\r\n            </i>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n","import React, { useMemo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FOLDERS } from \"../../stores/folder\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport { MODAL } from \"../Modal\";\r\n\r\nexport const SEQUENCER_TARGET_FOLDER = \"SEQUENCER_TARGET_FOLDER\";\r\n\r\nexport const SequencerHeader = ({ selectedVideo }) => {\r\n  const [targetFolderId, setTargetFolderId] = useGlobalState(\r\n    SEQUENCER_TARGET_FOLDER,\r\n    null\r\n  );\r\n  const [folders] = useGlobalState(FOLDERS);\r\n\r\n  const targetFolder = useMemo(() => {\r\n    return folders.find((f) => f.id === targetFolderId);\r\n  }, [targetFolderId, folders]);\r\n\r\n  const handleSelectFolder = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"selectFolder\",\r\n      props: {\r\n        onSelect: (id) => setTargetFolderId(id)\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"video\",\r\n      props: selectedVideo\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sequencer_header\">\r\n      <Link to=\"/dashboard\">\r\n        <i className=\"material-icons\">home</i>\r\n      </Link>\r\n      <div className=\"sequencer_header-info\">\r\n        {!selectedVideo ? \"Loading Video...\" : selectedVideo.label}\r\n        <i onClick={handleEdit} className=\"material-icons\">\r\n          more_vert\r\n        </i>\r\n      </div>\r\n      <button onClick={handleSelectFolder}>\r\n        <i className=\"material-icons\">folder</i>\r\n        {!targetFolder ? \"Root Folder\" : targetFolder.label}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  useGlobalState,\r\n  setGlobalState,\r\n  getGlobalState\r\n} from \"react-global-state-hook\";\r\nimport { SEQUENCER_PLAYER_PLAYING, SEQUENCER_PLAYER } from \"./SequencerVideo\";\r\nimport { PLAYER_PROGRESS } from \"../../views/Sequencer\";\r\n\r\nconst handleControls = (e) => {\r\n  const event = e.detail;\r\n  if (event === \"play\") {\r\n    setGlobalState(\r\n      SEQUENCER_PLAYER_PLAYING,\r\n      !getGlobalState(SEQUENCER_PLAYER_PLAYING)\r\n    );\r\n  } else if (event === \"forward\" || event === \"rewind\") {\r\n    const { player } = getGlobalState(SEQUENCER_PLAYER);\r\n    if (player) {\r\n      const progress = getGlobalState(PLAYER_PROGRESS);\r\n      const to =\r\n        event === \"forward\"\r\n          ? progress.playedSeconds + 5\r\n          : progress.playedSeconds - 5;\r\n      player.seekTo(to, \"seconds\");\r\n    }\r\n  }\r\n};\r\n\r\nexport const SequencerControls = () => {\r\n  const [playing] = useGlobalState(SEQUENCER_PLAYER_PLAYING);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"controls\", handleControls);\r\n    return () => document.removeEventListener(\"controls\", handleControls);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sequencer_controls\">\r\n      <button>\r\n        <i className=\"material-icons\">{playing ? \"pause\" : \"play_arrow\"}</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">fast_rewind</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">fast_forward</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">keyboard_arrow_up</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">keyboard_arrow_down</i>\r\n      </button>\r\n      <button>\r\n        <i className=\"material-icons\">slow_motion_video</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SELECTED_SEQUENCES, deleteSequences } from \"../../stores/sequences\";\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\nimport { MODAL } from \"../Modal\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\nimport { handleShare } from \"../Dashboard/Directory\";\r\n\r\nexport const SequencerActions = () => {\r\n  const [selectedSequences, setSelectedSequences] = useGlobalState(\r\n    SELECTED_SEQUENCES\r\n  );\r\n\r\n  const disabled = selectedSequences.length === 0;\r\n\r\n  const handleSave = () =>\r\n    setGlobalState(MODAL, {\r\n      component: DIRECTORY_TYPES.PLAYLIST,\r\n      onClose: () => setSelectedSequences([]),\r\n      props: {\r\n        items: selectedSequences.map((s) => `${DIRECTORY_TYPES.SEQUENCE}:${s}`)\r\n      }\r\n    });\r\n\r\n  const handleRemove = () => {\r\n    // check with backend if its deletable\r\n    deleteSequences(selectedSequences[0]);\r\n    setSelectedSequences(selectedSequences.filter((s, i) => i !== 0));\r\n  };\r\n\r\n  const onShare = () =>\r\n    handleShare(DIRECTORY_TYPES.SEQUENCE, selectedSequences[0]);\r\n\r\n  return (\r\n    <div className=\"sequencer_actions\">\r\n      <button onClick={handleSave} disabled={disabled}>\r\n        <i className=\"material-icons\">playlist_add</i>\r\n      </button>\r\n      <button onClick={handleRemove} disabled={selectedSequences.length !== 1}>\r\n        <i className=\"material-icons\">delete</i>\r\n      </button>\r\n      <button onClick={onShare} disabled={selectedSequences.length !== 1}>\r\n        <i className=\"material-icons\">share</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport \"../components/Sequencer/Sequencer.scss\";\r\n\r\nimport { useGlobalState, setGlobalState } from \"react-global-state-hook\";\r\n\r\nimport { VIDEOS, getVideo } from \"../stores/videos\";\r\nimport { SEQUENCES } from \"../stores/sequences\";\r\nimport { Tagger } from \"../components/Sequencer/Tagger\";\r\nimport { SequencerListHeader } from \"../components/Sequencer/SequencerListHeader\";\r\nimport { SequencerList } from \"../components/Sequencer/SequencerList\";\r\nimport { SequencerHeader } from \"../components/Sequencer/SequencerHeader\";\r\nimport { SequencerVideo } from \"../components/Sequencer/SequencerVideo\";\r\nimport { SequencerControls } from \"../components/Sequencer/SequencerControls\";\r\nimport { SequencerActions } from \"../components/Sequencer/SequencerActions\";\r\nimport { getFolders } from \"../stores/folder\";\r\n\r\nexport const PLAYER_PROGRESS = \"PLAYER_PROGRESS\";\r\n\r\nconst KEY_EVENTS = {\r\n  0: \"play\",\r\n  10: \"tag\",\r\n  127: \"tagback\",\r\n  37: \"rewind\",\r\n  38: \"back\",\r\n  39: \"forward\",\r\n  40: \"next\"\r\n};\r\n\r\nconst handleKeyPress = (e) => {\r\n  const key = e.keyCode;\r\n  const ctrl = e.ctrlKey;\r\n  if (ctrl) {\r\n    if (KEY_EVENTS[key]) {\r\n      const event = new CustomEvent(\"controls\", { detail: KEY_EVENTS[key] });\r\n      document.dispatchEvent(event);\r\n    }\r\n  }\r\n};\r\n\r\nexport const SEQUENCER_VIDEO = \"SEQUENCER_VIDEO\";\r\n\r\nexport const Sequencer = ({\r\n  match: {\r\n    params: { id }\r\n  },\r\n  location: { search }\r\n}) => {\r\n  const [videos] = useGlobalState(VIDEOS);\r\n  const [sequences] = useGlobalState(SEQUENCES);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keypress\", handleKeyPress);\r\n    document.addEventListener(\"keydown\", handleKeyPress);\r\n    return () => {\r\n      document.removeEventListener(\"keypress\", handleKeyPress);\r\n      document.removeEventListener(\"keydown\", handleKeyPress);\r\n    };\r\n  }, [id]);\r\n\r\n  const sequenceId = useMemo(() => {\r\n    return search\r\n      .slice(1, search.length)\r\n      .split(\"&\")\r\n      .filter((q) => q.split(\"=\")[0] === \"sequenceId\")\r\n      .map((q) => q.split(\"=\")[1])\r\n      .find((_, i) => i === 0);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    getFolders();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!videos.find((v) => v.id === id)) {\r\n      getVideo(id);\r\n    }\r\n  }, [id, videos]);\r\n\r\n  const selectedVideo = useMemo(() => videos.find((v) => v.id === id), [\r\n    videos,\r\n    id\r\n  ]);\r\n\r\n  useEffect(() => setGlobalState(SEQUENCER_VIDEO, selectedVideo), [\r\n    selectedVideo\r\n  ]);\r\n\r\n  const videoSequences = useMemo(() => {\r\n    if (selectedVideo) {\r\n      return sequences.filter((s) => s.videoId === selectedVideo.id);\r\n    }\r\n    return [];\r\n  }, [sequences, selectedVideo]);\r\n\r\n  return (\r\n    <div className=\"sequencer\">\r\n      <SequencerHeader selectedVideo={selectedVideo} />\r\n      <SequencerVideo\r\n        sequences={videoSequences}\r\n        selectedVideo={selectedVideo}\r\n      />\r\n      <div className=\"sequencer_list\">\r\n        <SequencerListHeader sequences={videoSequences} />\r\n        <SequencerList sequences={videoSequences} sequenceId={sequenceId} />\r\n        <SequencerActions />\r\n        <Tagger />\r\n        <SequencerControls />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Landing.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nconst dropbox = require(\"./dropbox.png\");\r\nconst soundcloud = require(\"./soundcloud.png\");\r\nconst streamable = require(\"./streamable.png\");\r\nexport const Landing = () => {\r\n  return (\r\n    <div className=\"landing\">\r\n      <svg\r\n        viewBox=\"0 0 200 60\"\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n        focusable=\"false\"\r\n        className=\"style-scope ytd-topbar-logo-renderer\"\r\n        style={{\r\n          pointerEvents: \"none\",\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          height: \"100%\"\r\n        }}\r\n      >\r\n        <g\r\n          viewBox=\"0 0 200 60\"\r\n          preserveAspectRatio=\"xMidYMid meet\"\r\n          className=\"style-scope ytd-topbar-logo-renderer\"\r\n        >\r\n          <g className=\"style-scope ytd-topbar-logo-renderer\">\r\n            <path\r\n              fill=\"#FF0000\"\r\n              d=\"M63,14.87c-0.72-2.7-2.85-4.83-5.56-5.56C52.54,8,32.88,8,32.88,8S13.23,8,8.32,9.31\r\n      c-2.7,0.72-4.83,2.85-5.56,5.56C1.45,19.77,1.45,30,1.45,30s0,10.23,1.31,15.13c0.72,2.7,2.85,4.83,5.56,5.56\r\n      C13.23,52,32.88,52,32.88,52s19.66,0,24.56-1.31c2.7-0.72,4.83-2.85,5.56-5.56C64.31,40.23,64.31,30,64.31,30\r\n      S64.31,19.77,63,14.87z\"\r\n              className=\"style-scope ytd-topbar-logo-renderer\"\r\n            ></path>\r\n            <polygon\r\n              fill=\"#FFFFFF\"\r\n              points=\"26.6,39.43 42.93,30 26.6,20.57\"\r\n              className=\"style-scope ytd-topbar-logo-renderer\"\r\n            ></polygon>\r\n          </g>\r\n          <g className=\"style-scope ytd-topbar-logo-renderer\">\r\n            <g\r\n              id=\"youtube-paths\"\r\n              className=\"style-scope ytd-topbar-logo-renderer\"\r\n            >\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M92.69,48.03c-1.24-0.84-2.13-2.14-2.65-3.91c-0.52-1.77-0.79-4.12-0.79-7.06v-4\r\n        c0-2.97,0.3-5.35,0.9-7.15c0.6-1.8,1.54-3.11,2.81-3.93c1.27-0.82,2.94-1.24,5.01-1.24c2.04,0,3.67,0.42,4.9,1.26\r\n        c1.23,0.84,2.13,2.15,2.7,3.93c0.57,1.78,0.85,4.16,0.85,7.12v4c0,2.94-0.28,5.3-0.83,7.08c-0.55,1.78-1.45,3.09-2.7,3.91\r\n        c-1.24,0.82-2.93,1.24-5.06,1.24C95.65,49.29,93.93,48.87,92.69,48.03z M99.66,43.71c0.34-0.9,0.52-2.37,0.52-4.4v-8.59\r\n        c0-1.98-0.17-3.42-0.52-4.34c-0.34-0.91-0.95-1.37-1.82-1.37c-0.84,0-1.43,0.46-1.78,1.37c-0.34,0.91-0.52,2.36-0.52,4.34v8.59\r\n        c0,2.04,0.16,3.51,0.49,4.4c0.33,0.9,0.93,1.35,1.8,1.35C98.71,45.06,99.31,44.61,99.66,43.71z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M188.16,37.13v1.39c0,1.77,0.05,3.09,0.16,3.98c0.1,0.88,0.32,1.53,0.65,1.93\r\n        c0.33,0.4,0.84,0.61,1.53,0.61c0.93,0,1.57-0.36,1.91-1.08c0.34-0.72,0.53-1.92,0.56-3.6l5.35,0.31\r\n        c0.03,0.24,0.04,0.57,0.04,0.99c0,2.55-0.7,4.45-2.09,5.71c-1.39,1.26-3.36,1.89-5.91,1.89c-3.06,0-5.2-0.96-6.43-2.88\r\n        c-1.23-1.92-1.84-4.88-1.84-8.9v-4.81c0-4.14,0.64-7.15,1.91-9.06c1.27-1.9,3.45-2.85,6.54-2.85c2.13,0,3.76,0.39,4.9,1.17\r\n        c1.14,0.78,1.94,1.99,2.41,3.64c0.46,1.65,0.7,3.93,0.7,6.83v4.72H188.16z M188.95,25.53c-0.31,0.39-0.52,1.03-0.63,1.91\r\n        c-0.11,0.88-0.16,2.23-0.16,4.02v1.98h4.54v-1.98c0-1.77-0.06-3.11-0.18-4.02c-0.12-0.91-0.34-1.56-0.65-1.93\r\n        c-0.31-0.37-0.8-0.56-1.46-0.56C189.75,24.94,189.26,25.14,188.95,25.53z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M77.59,36.61l-7.06-25.49h6.16l2.47,11.55c0.63,2.85,1.09,5.27,1.39,7.28h0.18\r\n        c0.21-1.44,0.67-3.85,1.39-7.24l2.56-11.6h6.16L83.7,36.61v12.23h-6.11V36.61z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M126.45,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8\r\n        c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79\r\n        c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H126.45z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M158.27,21.28v27.55h-4.85l-0.54-3.37h-0.13c-1.32,2.55-3.3,3.82-5.93,3.82c-1.83,0-3.18-0.6-4.05-1.8\r\n        c-0.87-1.2-1.3-3.07-1.3-5.62V21.28h6.2v20.23c0,1.23,0.13,2.11,0.4,2.63c0.27,0.52,0.72,0.79,1.35,0.79\r\n        c0.54,0,1.06-0.16,1.55-0.49c0.49-0.33,0.86-0.75,1.1-1.26V21.28H158.27z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M143.31,16.11h-6.16v32.72h-6.07V16.11h-6.16v-4.99h18.38V16.11z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n              <path\r\n                fill=\"#282828\"\r\n                d=\"M178.8,25.69c-0.38-1.74-0.98-3-1.82-3.78c-0.84-0.78-1.99-1.17-3.46-1.17c-1.14,0-2.2,0.32-3.19,0.97\r\n        c-0.99,0.64-1.75,1.49-2.29,2.54h-0.05l0-14.52h-5.98v39.11h5.12l0.63-2.61h0.13c0.48,0.93,1.2,1.66,2.16,2.2\r\n        c0.96,0.54,2.02,0.81,3.19,0.81c2.1,0,3.64-0.97,4.63-2.9c0.99-1.93,1.48-4.95,1.48-9.06v-4.36\r\n        C179.36,29.84,179.17,27.43,178.8,25.69z M173.11,36.93c0,2.01-0.08,3.58-0.25,4.72c-0.16,1.14-0.44,1.95-0.83,2.43\r\n        c-0.39,0.48-0.91,0.72-1.57,0.72c-0.51,0-0.98-0.12-1.42-0.36c-0.43-0.24-0.79-0.6-1.06-1.08V27.71\r\n        c0.21-0.75,0.57-1.36,1.08-1.84c0.51-0.48,1.06-0.72,1.66-0.72c0.63,0,1.12,0.25,1.46,0.74c0.34,0.49,0.58,1.33,0.72,2.49\r\n        c0.13,1.17,0.2,2.83,0.2,4.99V36.93z\"\r\n                className=\"style-scope ytd-topbar-logo-renderer\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1139.43 379.04\"\r\n        className=\"wordmark-logo grid-start-m-2 grid-span-m-4\"\r\n      >\r\n        <defs></defs>\r\n        <g data-name=\"Layer 2\">\r\n          <g data-name=\"Layer 1\">\r\n            <path\r\n              className=\"wordmark-logo__bg fill-black\"\r\n              d=\"M1119.44 269.32h-80v-99.75h-20v99.75h-80V20h80v69.78h60l40 39.9zm-199.9-99.75h-80v20h80v79.8H799.6l-40-39.9v-99.79l40-39.9h119.94zm-179.91 0h-70v20h70v79.8H629.69l-40-39.9V20h80v69.78h70zM569.72 69.83h-80V20h80zm0 199.49h-80V89.78h80zm-100 0H229.89l-40-39.9V89.78h80v99.74h20V89.78h80v99.74h20V89.78h80zm-299.8-99.75H100v20h70v79.8H60l-40-39.9V20h80v69.78h70zm919.54-99.74h-50V0H929.75l-50.47 69.83h-89.67l-30 29.92V69.83h-70V0H469.77v69.83H160.42L110 0H0v239.4L139.93 379h139.93v-39.9l40 39.9h269.85v-39.9l40 39.9h129.91v-39.9l40 39.9h249.88l90-89.78V119.7z\"\r\n              fill=\"#9145ff\"\r\n            ></path>\r\n            <path\r\n              className=\"wordmark-logo__text fill-white\"\r\n              d=\"M939.53 269.32h79.96v-99.75h19.99v99.75h79.96V129.68l-39.98-39.9h-59.97V19.96h-79.96v249.36zM589.71 229.42l39.97 39.9h109.95v-79.8h-69.96v-19.95h69.96V89.78h-69.96V19.96h-79.96v209.46zM759.62 229.42l39.98 39.9h119.94v-79.8h-79.96v-19.95h79.96V89.78H799.6l-39.98 39.9v99.74zM489.76 19.96h79.96v49.87h-79.96zM169.92 89.78H99.95V19.96H19.99v209.46l39.98 39.9h109.95v-79.8H99.95v-19.95h69.97V89.78zM189.91 229.42l39.97 39.9h239.89V89.78h-79.96v99.74h-20V89.78h-79.95v99.74h-19.99V89.78h-79.96v139.64zM489.76 89.78h79.96v179.54h-79.96z\"\r\n              fill=\"#FFF\"\r\n            ></path>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      <img src={dropbox} />\r\n      <img src={soundcloud} />\r\n      <svg viewBox=\"0 0 109 31\">\r\n        <path\r\n          d=\"M88.24 23.443a11.978 11.978 0 01-.054-.678c-.184-3.124.947-5.995 3.394-8.61 2.627-2.905 5.929-4.358 9.908-4.358 2.553 0 4.487.855 5.801 2.561 1.242 1.563 1.807 3.578 1.698 6.047-.147 3.342-1.387 6.23-3.723 8.663-2.335 2.434-5.237 3.65-8.704 3.65-2.882 0-5.072-.926-6.568-2.78a7.757 7.757 0 01-.871-1.372 34.1 34.1 0 01-1.235.727c-3.868 2.217-7.792 3.323-11.769 3.323-2.956 0-5.074-.982-6.35-2.945a7.353 7.353 0 01-.266-.422 21.55 21.55 0 01-.117.103c-2.446 2.108-4.89 3.162-7.335 3.162-2.374 0-3.522-1.307-3.45-3.926.036-1.164.265-2.562.684-4.198.42-1.636.648-2.909.685-3.818.037-1.38-.384-2.073-1.264-2.073-.952 0-2.086 1.13-3.404 3.384-1.392 2.365-2.144 4.656-2.252 6.874-.074 1.566.08 2.767.46 3.603-2.546.073-4.33-.346-5.348-1.256-.911-.8-1.33-2.126-1.255-3.983a14.67 14.67 0 01.537-3.492c.321-1.164.5-2.2.537-3.11.074-1.347-.42-2.02-1.48-2.02-.915 0-1.902 1.038-2.96 3.111-1.06 2.073-1.645 4.239-1.754 6.494-.073 2.037.058 3.455.392 4.256-2.505.073-4.284-.454-5.337-1.58-.48-.518-.817-1.185-1.01-2.002-.205.194-.415.386-.631.574-2.446 2.108-4.89 3.162-7.335 3.162-1.133 0-2-.363-2.601-1.09-.602-.728-.885-1.672-.848-2.836.035-1.199.41-3.053 1.121-5.562.712-2.508 1.069-3.854 1.069-4.036 0-.944-.33-1.417-.985-1.417-.207 0-.77.34-1.69 1.016-.693 2.067-2.205 4.595-4.535 7.584-3.315 4.295-6.119 6.443-8.413 6.443-1.42 0-2.624-1.307-3.606-3.924L5.41 19.497c-.73-2.615-1.512-3.924-2.349-3.924-.182 0-.82.383-1.913 1.145L0 15.244a309.082 309.082 0 003.558-3.163c1.604-1.383 2.809-2.11 3.612-2.183 1.897-.182 3.065 1.111 3.503 3.88.474 2.986.802 4.844.986 5.57.547 2.479 1.148 3.716 1.806 3.716.51 0 1.276-.803 2.298-2.41 1.021-1.608 1.568-2.831 1.642-3.672.146-1.387-.401-2.082-1.642-2.082-.583 0-1.185.134-1.804.399 1.198-3.914 3.487-5.814 6.866-5.706 2.256.066 3.438 1.387 3.546 3.961L26 12.081c1.57-1.383 2.738-2.11 3.506-2.183 1.203-.109 2.088.244 2.654 1.06.564.816.774 1.875.63 3.18-.475 2.212-.987 5.02-1.534 8.425-.037 1.56.53 2.338 1.697 2.338.51 0 1.422-.537 2.737-1.615l.049-.04c.083-.76.218-1.662.405-2.708.3-1.687.468-3 .504-3.945.072-.652-.093-.979-.493-.979-.22 0-.84.369-1.862 1.104l-1.314-1.473c.183-.144 1.331-1.2 3.45-3.164 1.532-1.418 2.572-2.145 3.119-2.182.949-.073 1.715.318 2.299 1.172.584.855.876 1.847.876 2.974 0 .364-.036.71-.108 1.037a10.044 10.044 0 011.916-2.183c1.678-1.455 3.558-2.274 5.638-2.456 1.788-.145 3.064.273 3.833 1.255.619.8.91 1.947.875 3.438a73.7 73.7 0 00.822-.71c.838-.982 1.659-1.763 2.462-2.345 1.35-.982 2.756-1.528 4.215-1.638 1.752-.145 3.01.271 3.777 1.25.656.798.949 1.94.877 3.424-.037 1.015-.284 2.492-.74 4.431-.457 1.94-.684 3.052-.684 3.342-.037.763.037 1.287.22 1.577.181.29.618.434 1.313.434.311 0 .773-.2 1.385-.602a9.877 9.877 0 01-.072-1.43c.035-2.945 1.35-5.745 3.942-8.401 2.845-2.909 6.203-4.365 10.072-4.365 3.576 0 5.474 1.453 5.693 4.355.145 1.85-.877 3.755-3.065 5.715-2.337 2.142-5.276 3.502-8.815 4.082.656.908 1.641 1.36 2.956 1.36 2.627 0 5.492-.664 8.596-1.997.138-.058.274-.117.408-.175zm14.56-5.244c.038-.984-.1-1.886-.41-2.706-.31-.82-.758-1.23-1.341-1.23-1.862 0-3.395 1.002-4.597 3.007-1.024 1.64-1.571 3.39-1.643 5.247-.037.912.128 1.714.492 2.406.4.803.966 1.203 1.697 1.203 1.642 0 3.048-.965 4.216-2.898.985-1.604 1.513-3.28 1.587-5.029zm-21.1-1.834c.035-.976-.365-1.465-1.203-1.465-1.094 0-2.204.751-3.334 2.253-1.13 1.502-1.713 2.94-1.748 4.315-.021 0-.021.236 0 .706a12.322 12.322 0 004.645-2.985c1.056-1.157 1.603-2.1 1.64-2.824zM34.651 2.714c-.036.906-.492 1.775-1.369 2.607-.985.941-2.153 1.412-3.503 1.412-2.08 0-3.084-.905-3.011-2.715.035-.94.592-1.846 1.669-2.715C29.513.435 30.708 0 32.023 0c.766 0 1.405.3 1.917.896.51.598.747 1.204.711 1.818z\"\r\n          fill=\"#1A2E3A\"\r\n          fill-rule=\"evenodd\"\r\n        ></path>\r\n      </svg>\r\n      <img src={streamable} />\r\n      <div className=\"landing-card\">\r\n        <i className=\"material-icons\">ondemand_video</i>{\" \"}\r\n        <div>\r\n          <p>\r\n            This is a platform to organize, analyze and share streaming content.\r\n          </p>\r\n          <p>\r\n            We enable you to use streams from several streaming platforms and\r\n            let you disect them into sequences.\r\n          </p>\r\n          {/* <p>\r\n            Create playlists with videos as well as sequences and share your\r\n            content with your firends, audience or use it for work.\r\n          </p> */}\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Watch Intro Video\r\n            <i className=\"material-icons\">open_in_new</i>\r\n          </label>\r\n          <Link to=\"/auth/signup\">Signup</Link>\r\n\r\n          <Link to=\"/auth/login\">Login</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { DIRECTORY_TYPES } from \"../../stores/folder\";\r\n\r\n// Like List in Dashboard\r\n\r\nexport const PlaylistViewer = (props: any) => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [activeItemId, setActiveItemId] = useState();\r\n\r\n  const [playing, setPlaying] = useState(false);\r\n  const [playerReady, setPlayerReady] = useState(false);\r\n\r\n  const [url, setUrl] = useState();\r\n\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  const player: any = useRef();\r\n  const ref = (p) => (player.current = p);\r\n\r\n  const { videos, sequences } = props;\r\n\r\n  const handleReady = () => setPlayerReady(true);\r\n\r\n  const items = useMemo(() => {\r\n    return props.playlist.items\r\n      .map((i) => ({\r\n        type: i.split(\":\")[0],\r\n        id: i.split(\":\")[1]\r\n      }))\r\n      .map(({ id, type }) => {\r\n        if (type === DIRECTORY_TYPES.VIDEO) {\r\n          return { ...videos.find((v) => v.id === id), type };\r\n        } else if (type === DIRECTORY_TYPES.SEQUENCE) {\r\n          return { ...sequences.find((s) => s.id === id), type };\r\n        }\r\n      });\r\n  }, [props]);\r\n\r\n  const currentItem = useMemo(() => items.find((i) => i.id === activeItemId), [\r\n    items,\r\n    activeItemId\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (items.length > 0) {\r\n      setActiveItemId(items[0].id);\r\n      setUrl(items[0].url);\r\n    }\r\n  }, [items]);\r\n\r\n  useEffect(() => {\r\n    if (currentItem) {\r\n      if (currentItem.url !== url) {\r\n        setPlayerReady(false);\r\n        setUrl(currentItem.url);\r\n      } else if (playerReady) {\r\n        const to =\r\n          currentItem.type === DIRECTORY_TYPES.SEQUENCE ? currentItem.start : 0;\r\n        player.current.seekTo(to, \"seconds\");\r\n        setPlaying(true);\r\n      }\r\n    }\r\n  }, [playerReady, currentItem, setPlaying, counter]);\r\n\r\n  const playNext = () => {\r\n    const currentIndex = items.findIndex((i) => i.id === currentItem.id);\r\n    if (currentIndex === items.length - 1) {\r\n      setPlaying(false);\r\n    } else {\r\n      const newItem = items.find((it, i) => i === currentIndex + 1);\r\n      setActiveItemId(newItem.id);\r\n    }\r\n  };\r\n\r\n  const handleEnd = () => playNext();\r\n\r\n  const handleProgress = ({ playedSeconds }) =>\r\n    currentItem.stop && playedSeconds >= currentItem.stop && playNext();\r\n\r\n  const handleSelect = (e) => {\r\n    setCounter(counter + 1);\r\n    setActiveItemId(e.target.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"playlist_viewer\">\r\n      <div>\r\n        <ReactPlayer\r\n          className={\"player_viewer\"}\r\n          height=\"100%\"\r\n          width=\"100%\"\r\n          playing={playing}\r\n          ref={ref}\r\n          url={url}\r\n          onProgress={handleProgress}\r\n          onReady={handleReady}\r\n          onEnded={handleEnd}\r\n          controls={true}\r\n        />\r\n      </div>\r\n      <div className=\"playlist_viewer-list\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search Playlist...\"\r\n          value={search}\r\n          onChange={({ target: { value } }) => setSearch(value)}\r\n        />\r\n        <ul>\r\n          {items.map(({ id, label, type }, i) => (\r\n            <li\r\n              data-active={activeItemId === id}\r\n              onClick={handleSelect}\r\n              id={id}\r\n              key={i}\r\n            >\r\n              {label}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { setGlobalState } from \"react-global-state-hook\";\r\nimport { MODAL } from \"../Modal\";\r\n\r\n// Simple player with:\r\n// loop button\r\n// play/pause\r\n// seekToSlider?\r\n// share button\r\n// save button when logged in\r\n\r\nexport const VideoViewer = ({ video }) => {\r\n  const [playing, setPlaying] = useState(false);\r\n  const [playerReady, setPlayerReady] = useState(false);\r\n\r\n  const player: any = useRef();\r\n  const ref = (p) => (player.current = p);\r\n\r\n  const handleReady = () => setPlayerReady(true);\r\n\r\n  useEffect(() => {\r\n    if (playerReady) {\r\n      setPlaying(true);\r\n    }\r\n  }, [playerReady]);\r\n\r\n  const handleReplay = () => {\r\n    player.current.seekTo(0);\r\n    setPlaying(true);\r\n  };\r\n\r\n  const handleEnd = () => {\r\n    setGlobalState(MODAL, {\r\n      component: \"replay\",\r\n      props: {\r\n        onReplay: handleReplay\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sequence_viewer\">\r\n      <ReactPlayer\r\n        className={\"player_viewer\"}\r\n        height=\"100%\"\r\n        width=\"100%\"\r\n        playing={playing}\r\n        ref={ref}\r\n        url={video.url}\r\n        onReady={handleReady}\r\n        onEnded={handleEnd}\r\n        controls={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { setGlobalState } from \"react-global-state-hook\";\r\nimport { MODAL } from \"../Modal\";\r\n\r\n// Simple player with:\r\n// loop button\r\n// play/pause\r\n// seekToSlider?\r\n// share button\r\n// save button when logged in\r\n\r\nexport const SequenceViewer = ({ sequence }) => {\r\n  const [playing, setPlaying] = useState(false);\r\n  const [playerReady, setPlayerReady] = useState(false);\r\n\r\n  const player: any = useRef();\r\n  const ref = (p) => (player.current = p);\r\n\r\n  const handleReady = () => setPlayerReady(true);\r\n\r\n  useEffect(() => {\r\n    if (playerReady) {\r\n      player.current.seekTo(sequence.start, \"seconds\");\r\n      setPlaying(true);\r\n    }\r\n  }, [playerReady]);\r\n\r\n  const handleReplay = () => {\r\n    player.current.seekTo(sequence.start, \"seconds\");\r\n    setPlaying(true);\r\n  };\r\n\r\n  const handleProgress = ({ playedSeconds }) => {\r\n    if (sequence.stop && playedSeconds >= sequence.stop) {\r\n      setPlaying(false);\r\n      setGlobalState(MODAL, {\r\n        component: \"replay\",\r\n        props: {\r\n          onReplay: handleReplay\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"sequence_viewer\">\r\n      <ReactPlayer\r\n        className={\"player_viewer\"}\r\n        height=\"100%\"\r\n        width=\"100%\"\r\n        playing={playing}\r\n        ref={ref}\r\n        url={sequence.url}\r\n        onReady={handleReady}\r\n        onProgress={handleProgress}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Viewer.scss\";\r\nimport { PlaylistViewer } from \"../components/Viewer/PlaylistViewer\";\r\nimport { VideoViewer } from \"../components/Viewer/VideoViewer\";\r\nimport { SequenceViewer } from \"../components/Viewer/SequenceViewer\";\r\nimport { request } from \"../utils/request\";\r\nimport { Playlist } from \"../forms/Playlist\";\r\n\r\nexport const Viewer = ({\r\n  match: {\r\n    params: { type, id }\r\n  }\r\n}) => {\r\n  const [item, setItem] = useState();\r\n\r\n  useEffect(() => {\r\n    if (type && id) {\r\n      getItem();\r\n    } else {\r\n      alert(\"Type and Id needs to be provided: /video/someid323423\");\r\n    }\r\n  }, [type, id]);\r\n\r\n  const getItem = async () => {\r\n    if (type === \"playlist\") {\r\n      const playlist = await getPlaylist(id);\r\n      setItem(playlist);\r\n    } else if (type === \"video\") {\r\n      const video = await getVideo(id);\r\n      setItem(video);\r\n    } else {\r\n      const sequence = await getSequence(id);\r\n      setItem(sequence);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"viewer\">\r\n      {!item ? (\r\n        <div>Loading...</div>\r\n      ) : type === \"playlist\" ? (\r\n        <PlaylistViewer {...item} />\r\n      ) : type === \"video\" ? (\r\n        <VideoViewer video={item} />\r\n      ) : (\r\n        <SequenceViewer sequence={item} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getPlaylist = async (id) => {\r\n  try {\r\n    const res = await request(\"viewer\", \"/playlist/\" + id);\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n};\r\n\r\nconst getVideo = async (id) => {\r\n  try {\r\n    const res = await request(\"viewer\", \"/video/\" + id);\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n};\r\n\r\nconst getSequence = async (id) => {\r\n  try {\r\n    const res = await request(\"viewer\", \"/sequence/\" + id);\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n};\r\n","import React from \"react\";\nimport \"./App.scss\";\nimport \"./forms/forms.scss\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport { Auth } from \"./views/Auth\";\nimport { Dashboard } from \"./views/Dashboard\";\nimport { useGlobalState } from \"react-global-state-hook\";\nimport { Modal } from \"./components/Modal\";\nimport { Sequencer } from \"./views/Sequencer\";\nimport { Landing } from \"./views/Landing\";\nimport { Viewer } from \"./views/Viewer\";\n\nconst App = () => {\n  const [auth] = useGlobalState(\"AUTH\", \"pending\");\n\n  return (\n    <div className=\"app\">\n      {auth === \"pending\" ? (\n        <div>Loading App..</div>\n      ) : (\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/\" component={Landing} />\n            <Route path=\"/auth/:type\" component={Auth} />\n            <Route path=\"/dashboard\" component={Dashboard} />\n            <Route path=\"/sequencer/:id\" component={Sequencer} />\n            <Route path=\"/viewer/:type/:id\" component={Viewer} />\n          </Switch>\n          <Modal />\n        </BrowserRouter>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { initFirebase, setAuthObserver } from \"./services/auth\";\n\ninitFirebase();\nsetAuthObserver();\n\n// @ts-ignore\nString.prototype.capitalize = function () {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}